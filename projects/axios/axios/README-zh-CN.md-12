{
  "id": 12,
  "origin": "axios.post('https://example.com', form)\n```\n\n### ğŸ†• Automatic serialization to FormData\n\nStarting from `v0.27.0`, Axios supports automatic object serialization to a FormData object if the request `Content-Type`\nheader is set to `multipart/form-data`.\n\nThe following request will submit the data in a FormData format (Browser & Node.js):\n\n```js\nimport axios from 'axios';\n\naxios.post('https://httpbin.org/post', {x: 1}, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n}).then(({data}) => console.log(data));\n```\n\nIn the `node.js` build, the ([`form-data`](https://github.com/form-data/form-data)) polyfill is used by default.\n\nYou can overload the FormData class by setting the `env.FormData` config variable,\nbut you probably won't need it in most cases:\n\n```js\nconst axios = require('axios');\nvar FormData = require('form-data');\n\naxios.post('https://httpbin.org/post', {x: 1, buf: new Buffer(10)}, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n}).then(({data}) => console.log(data));\n```\n\nAxios FormData serializer supports some special endings to perform the following operations:\n\n- `{}` - serialize the value with JSON.stringify\n- `[]` - unwrap the array-like object as separate fields with the same key\n\n> **Note**: unwrap/expand operation will be used by default on arrays and FileList objects\n\nFormData serializer supports additional options via `config.formSerializer: object` property to handle rare cases:\n\n- `visitor: Function` - user-defined visitor function that will be called recursively to serialize the data object\nto a `FormData` object by following custom rules.\n\n- `dots: boolean = false` - use dot notation instead of brackets to serialize arrays and objects;\n\n- `metaTokens: boolean = true` - add the special ending (e.g `user{}: '{\"name\": \"John\"}'`) in the FormData key.\nThe back-end body-parser could potentially use this meta-information to automatically parse the value as JSON.\n\n- `indexes: null|false|true = false` - controls how indexes will be added to unwrapped keys of `flat` array-like objects.\n\n    - `null` - don't add brackets (`arr: 1`, `arr: 2`, `arr: 3`)\n    - `false`(default) - add empty brackets (`arr[]: 1`, `arr[]: 2`, `arr[]: 3`)\n    - `true` - add brackets with indexes  (`arr[0]: 1`, `arr[1]: 2`, `arr[2]: 3`)\n\nLet's say we have an object like this one:\n\n```js\nconst obj = {\n  x: 1,\n  arr: [1, 2, 3],\n  arr2: [1, [2], 3],\n  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],\n  'obj2{}': [{x:1}]\n};\n```\n\nThe following steps will be executed by the Axios serializer internally:\n\n```js\nconst formData = new FormData();\nformData.append('x', '1');\nformData.append('arr[]', '1');\nformData.append('arr[]', '2');\nformData.append('arr[]', '3');\nformData.append('arr2[0]', '1');\nformData.append('arr2[1][0]', '2');\nformData.append('arr2[2]', '3');\nformData.append('users[0][name]', 'Peter');\nformData.append('users[0][surname]', 'Griffin');\nformData.append('users[1][name]', 'Thomas');\nformData.append('users[1][surname]', 'Anderson');\nformData.append('obj2{}', '[{\"x\":1}]');\n```\n\nAxios supports the following shortcut methods: `postForm`, `putForm`, `patchForm`\nwhich are just the corresponding http methods with the `Content-Type` header preset to `multipart/form-data`.\n\n## Files Posting\n\nYou can easily submit a single file:\n\n```js\nawait axios.postForm('https://httpbin.org/post', {\n  'myVar' : 'foo',\n  'file': document.querySelector('#fileInput').files[0]",
  "origin_sha": "Q1V8Y3Dj6Gibx9h5bnskIMDClvCIJn6/7wEBcOf4c3k=",
  "translate": "axios.post('https://example.com', form)\n```\n\n### ğŸ†• è‡ªåŠ¨åºåˆ—åŒ–ä¸º FormData\n\nä» `v0.27.0` å¼€å§‹ï¼Œå¦‚æœè¯·æ±‚çš„ `Content-Type` å¤´è¢«è®¾ç½®ä¸º `multipart/form-data`ï¼ŒAxios æ”¯æŒå°†å¯¹è±¡è‡ªåŠ¨åºåˆ—åŒ–ä¸º FormData å¯¹è±¡ã€‚\n\nä»¥ä¸‹è¯·æ±‚å°†ä»¥ FormData æ ¼å¼æäº¤æ•°æ®ï¼ˆé€‚ç”¨äºæµè§ˆå™¨å’Œ Node.jsï¼‰ï¼š\n\n```js\nimport axios from 'axios';\n\naxios.post('https://httpbin.org/post', {x: 1}, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n}).then(({data}) => console.log(data));\n```\n\nåœ¨ `node.js` æ„å»ºä¸­ï¼Œé»˜è®¤ä½¿ç”¨ ([`form-data`](https://github.com/form-data/form-data)) polyfillã€‚\n\nä½ å¯ä»¥é€šè¿‡è®¾ç½® `env.FormData` é…ç½®å˜é‡æ¥é‡è½½ FormData ç±»ï¼Œ\nä½†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä½ å¯èƒ½å¹¶ä¸éœ€è¦è¿™æ ·åšï¼š\n\n```js\nconst axios = require('axios');\nvar FormData = require('form-data');\n\naxios.post('https://httpbin.org/post', {x: 1, buf: new Buffer(10)}, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n}).then(({data}) => console.log(data));\n```\n\nAxios çš„ FormData åºåˆ—åŒ–å™¨æ”¯æŒä¸€äº›ç‰¹æ®Šåç¼€ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\n\n- `{}` - ä½¿ç”¨ JSON.stringify åºåˆ—åŒ–è¯¥å€¼\n- `[]` - ä»¥ç›¸åŒçš„é”®åå°†ç±»æ•°ç»„å¯¹è±¡è§£åŒ…ä¸ºå¤šä¸ªå­—æ®µ\n\n> **æ³¨æ„**ï¼šæ•°ç»„å’Œ FileList å¯¹è±¡é»˜è®¤ä¼šä½¿ç”¨è§£åŒ…/å±•å¼€æ“ä½œ\n\nFormData åºåˆ—åŒ–å™¨æ”¯æŒé€šè¿‡ `config.formSerializer: object` å±æ€§ä¼ é€’é¢å¤–é€‰é¡¹ï¼Œä»¥å¤„ç†ç‰¹æ®Šæƒ…å†µï¼š\n\n- `visitor: Function` - ç”¨æˆ·è‡ªå®šä¹‰çš„éå†å‡½æ•°ï¼Œå°†æŒ‰ç…§è‡ªå®šä¹‰è§„åˆ™é€’å½’åœ°å°†æ•°æ®å¯¹è±¡åºåˆ—åŒ–ä¸º `FormData` å¯¹è±¡ã€‚\n\n- `dots: boolean = false` - ä½¿ç”¨ç‚¹å·è¡¨ç¤ºæ³•è€Œä¸æ˜¯æ‹¬å·æ¥åºåˆ—åŒ–æ•°ç»„å’Œå¯¹è±¡ï¼›\n\n- `metaTokens: boolean = true` - åœ¨ FormData çš„é”®åä¸­æ·»åŠ ç‰¹æ®Šåç¼€ï¼ˆä¾‹å¦‚ `user{}: '{\"name\": \"John\"}'`ï¼‰ã€‚åç«¯çš„ body-parser å¯èƒ½ä¼šåˆ©ç”¨æ­¤å…ƒä¿¡æ¯è‡ªåŠ¨å°†å€¼è§£æä¸º JSONã€‚\n\n- `indexes: null|false|true = false` - æ§åˆ¶å¦‚ä½•ä¸ºâ€œæ‰å¹³â€ç±»æ•°ç»„å¯¹è±¡çš„è§£åŒ…é”®æ·»åŠ ç´¢å¼•ã€‚\n\n    - `null` - ä¸æ·»åŠ æ‹¬å·ï¼ˆ`arr: 1`, `arr: 2`, `arr: 3`ï¼‰\n    - `false`ï¼ˆé»˜è®¤ï¼‰- æ·»åŠ ç©ºæ‹¬å·ï¼ˆ`arr[]: 1`, `arr[]: 2`, `arr[]: 3`ï¼‰\n    - `true` - æ·»åŠ å¸¦ç´¢å¼•çš„æ‹¬å·ï¼ˆ`arr[0]: 1`, `arr[1]: 2`, `arr[2]: 3`ï¼‰\n\nå‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹å¯¹è±¡ï¼š\n\n```js\nconst obj = {\n  x: 1,\n  arr: [1, 2, 3],\n  arr2: [1, [2], 3],\n  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],\n  'obj2{}': [{x:1}]\n};\n```\n\nAxios åºåˆ—åŒ–å™¨å†…éƒ¨å°†æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š\n\n```js\nconst formData = new FormData();\nformData.append('x', '1');\nformData.append('arr[]', '1');\nformData.append('arr[]', '2');\nformData.append('arr[]', '3');\nformData.append('arr2[0]', '1');\nformData.append('arr2[1][0]', '2');\nformData.append('arr2[2]', '3');\nformData.append('users[0][name]', 'Peter');\nformData.append('users[0][surname]', 'Griffin');\nformData.append('users[1][name]', 'Thomas');\nformData.append('users[1][surname]', 'Anderson');\nformData.append('obj2{}', '[{\"x\":1}]');\n```\n\nAxios æ”¯æŒä»¥ä¸‹ç®€å†™æ–¹æ³•ï¼š`postForm`ã€`putForm`ã€`patchForm`ï¼Œ\nå®ƒä»¬åªæ˜¯å¯¹åº”çš„ http æ–¹æ³•ï¼Œå¹¶ä¸” `Content-Type` å¤´å·²é¢„è®¾ä¸º `multipart/form-data`ã€‚\n\n## æ–‡ä»¶ä¸Šä¼ \n\nä½ å¯ä»¥è½»æ¾æäº¤å•ä¸ªæ–‡ä»¶ï¼š\n\n```js\nawait axios.postForm('https://httpbin.org/post', {\n  'myVar' : 'foo',\n  'file': document.querySelector('#fileInput').files[0]",
  "status": "ok"
}