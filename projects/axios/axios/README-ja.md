<h3 align="center"> 🥇 ゴールドスポンサー <br> </h3> <table align="center" width="100%"><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://stytch.com/?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;website-link&amp;utm_campaign&#x3D;axios-http" style="padding: 10px; display: inline-block"> <picture> <source width="200px" height="38px" media="(prefers-color-scheme: dark)" srcset="https://axios-http.com/assets/sponsors/stytch_white.png"> <img width="200px" height="38px" src="https://axios-http.com/assets/sponsors/stytch.png" alt="Stytch"/> </picture> </a> <p align="center" title="API-first authentication, authorization, and fraud prevention">APIファーストの認証、認可、不正防止</p> <p align="center"> <a href="https://stytch.com/?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;website-link&amp;utm_campaign&#x3D;axios-http"><b>ウェブサイト</b></a> | <a href="https://stytch.com/docs?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;docs-link&amp;utm_campaign&#x3D;axios-http"><b>ドキュメント</b></a> | <a href="https://github.com/stytchauth/stytch-node?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;node-sdk&amp;utm_campaign&#x3D;axios-http"><b>Node.js</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://www.principal.com/about-us?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="133px" height="43px" src="https://axios-http.com/assets/sponsors/principal.svg" alt="Principal Financial Group"/> </a> <p align="center" title="We’re bound by one common purpose: to give you the financial tools, resources and information you need to live your best life.">私たちは一つの共通の目的で結ばれています。それは、あなたが最良の人生を送るために必要な金融ツール、リソース、情報を提供することです。</p> <p align="center"> <a href="https://www.principal.com/about-us?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>www.principal.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://twicsy.com/buy-instagram-followers?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="85px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/buy-instagram-followers-twicsy.png" alt="Buy Instagram Followers Twicsy"/> </a> <p align="center" title="Buy real Instagram followers from Twicsy starting at only $2.97. Twicsy has been voted the best site to buy followers from the likes of US Magazine.">Twicsyで本物のInstagramフォロワーをわずか$2.97から購入できます。TwicsyはUS Magazineなどで最高のフォロワー購入サイトと評価されています。</p> <p align="center"> <a href="https://twicsy.com/buy-instagram-followers?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>twicsy.com</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://www.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship" style="padding: 10px; display: inline-block"> <picture> <source width="200px" height="52px" media="(prefers-color-scheme: dark)" srcset="https://axios-http.com/assets/sponsors/descope_white.png"> <img width="200px" height="52px" src="https://axios-http.com/assets/sponsors/descope.png" alt="Descope"/> </picture> </a> <p align="center" title="Hi, we&#x27;re Descope! We are building something in the authentication space for app developers and can’t wait to place it in your hands.">こんにちは、Descopeです！私たちはアプリ開発者向けの認証分野で新しいものを開発しており、皆様に提供するのが待ちきれません。</p> <p align="center"> <a href="https://www.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>ウェブサイト</b></a> | <a href="https://docs.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>ドキュメント</b></a> | <a href="https://www.descope.com/community?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>コミュニティ</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://buzzoid.com/buy-instagram-followers/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="62px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/buzzoid-buy-instagram-followers.png" alt="Buzzoid - Buy Instagram Followers"/> </a> <p align="center" title="At Buzzoid, you can buy Instagram followers quickly, safely, and easily with just a few clicks. Rated world&#x27;s #1 IG service since 2012.">Buzzoidでは、数回クリックするだけでInstagramフォロワーを迅速・安全・簡単に購入できます。2012年から世界No.1のIGサービスと評価されています。</p> <p align="center"> <a href="https://buzzoid.com/buy-instagram-followers/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>buzzoid.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://www.famety.net/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/famety-buy-instagram-followers.png" alt="Famety - Buy Instagram Followers"/> </a> <p align="center" title="At Famety, you can grow your social media following quickly, safely, and easily with just a few clicks. Rated the world’s #1 social media service since 2013.">Fametyでは、数回クリックするだけでソーシャルメディアのフォロワーを迅速・安全・簡単に増やせます。2013年より世界No.1のソーシャルメディアサービスに選ばれています。</p> <p align="center"> <a href="https://www.famety.net/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>www.famety.net</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/instagram-likes.png" alt="Poprey - Buy Instagram Likes"/> </a> <p align="center" title="Buy Instagram Likes">Instagramの「いいね！」を購入</p> <p align="center"> <a href="https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>poprey.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://ssmarket.net/buy-youtube-subscribers?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/youtube-subscribers-ssmarket.png" alt="Buy Youtube Subscribers"/> </a> <p align="center" title="SS Market offers professional social media services that rapidly increase your YouTube subscriber count, elevating your channel to a powerful position.">SS Marketは、YouTubeチャンネル登録者数を迅速に増やし、あなたのチャンネルを強力な地位へ押し上げるプロフェッショナルなソーシャルメディアサービスを提供します。</p> <p align="center"> <a href="https://ssmarket.net/buy-youtube-subscribers?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>ssmarket.net</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://smmpanelserver.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="200px" height="56px" src="https://axios-http.com/assets/sponsors/opencollective/smmpanelserver123.png" alt="smmpanelserver"/> </a> <p align="center" title="smmpanelserver - Best and Cheapest Smm Panel">smmpanelserver - 最高かつ最安のSMMパネル</p> <p align="center"> <a href="https://smmpanelserver.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>smmpanelserver.com</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 スポンサーになる</a>
</td><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 スポンサーになる</a>
</td><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 スポンサーになる</a>
</td></tr></table>

<!--<div>marker</div>-->
<br><br>
<div align="center">
   <a href="https://axios-http.com"><img src="https://axios-http.com/assets/logo.svg" /></a><br>
</div>

<p align="center">PromiseベースのHTTPクライアント（ブラウザおよびnode.js用）</p>

<p align="center">
    <a href="https://axios-http.com/"><b>ウェブサイト</b></a> •
    <a href="https://axios-http.com/docs/intro"><b>ドキュメント</b></a>
</p>

<div align="center">

[![npm version](https://img.shields.io/npm/v/axios.svg?style=flat-square)](https://www.npmjs.org/package/axios)
[![CDNJS](https://img.shields.io/cdnjs/v/axios.svg?style=flat-square)](https://cdnjs.com/libraries/axios)
[![Build status](https://img.shields.io/github/actions/workflow/status/axios/axios/ci.yml?branch=v1.x&label=CI&logo=github&style=flat-square)](https://github.com/axios/axios/actions/workflows/ci.yml)
[![Gitpod Ready-to-Code](https://img.shields.io/badge/Gitpod-Ready--to--Code-blue?logo=gitpod&style=flat-square)](https://gitpod.io/#https://github.com/axios/axios)
[![code coverage](https://img.shields.io/coveralls/mzabriskie/axios.svg?style=flat-square)](https://coveralls.io/r/mzabriskie/axios)
[![install size](https://img.shields.io/badge/dynamic/json?url=https://packagephobia.com/v2/api.json?p=axios&query=$.install.pretty&label=install%20size&style=flat-square)](https://packagephobia.now.sh/result?p=axios)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/axios?style=flat-square)](https://bundlephobia.com/package/axios@latest)
[![npm downloads](https://img.shields.io/npm/dm/axios.svg?style=flat-square)](https://npm-stat.com/charts.html?package=axios)
[![gitter chat](https://img.shields.io/gitter/room/mzabriskie/axios.svg?style=flat-square)](https://gitter.im/mzabriskie/axios)
[![code helpers](https://www.codetriage.com/axios/axios/badges/users.svg)](https://www.codetriage.com/axios/axios)
[![Known Vulnerabilities](https://snyk.io/test/npm/axios/badge.svg)](https://snyk.io/test/npm/axios)




</div>

## 目次

  - [特徴](#features)
  - [ブラウザサポート](#browser-support)
  - [インストール](#installing)
    - [パッケージマネージャー](#package-manager)
    - [CDN](#cdn)
  - [サンプル](#example)
  - [Axios API](#axios-api)
  - [リクエストメソッドエイリアス](#request-method-aliases)
  - [並行処理 👎](#concurrency-deprecated)
  - [インスタンスの作成](#creating-an-instance)
  - [インスタンスメソッド](#instance-methods)
  - [リクエスト設定](#request-config)
  - [レスポンススキーマ](#response-schema)
  - [設定のデフォルト値](#config-defaults)
    - [グローバルaxiosデフォルト](#global-axios-defaults)
    - [カスタムインスタンスデフォルト](#custom-instance-defaults)
    - [設定の優先順位](#config-order-of-precedence)
  - [インターセプター](#interceptors)
    - [複数インターセプター](#multiple-interceptors)
  - [エラー処理](#handling-errors)
  - [キャンセル](#cancellation)
    - [AbortController](#abortcontroller)
    - [CancelToken 👎](#canceltoken-deprecated)
  - [application/x-www-form-urlencoded形式の利用](#using-applicationx-www-form-urlencoded-format)
    - [URLSearchParams](#urlsearchparams)
    - [クエリ文字列](#query-string-older-browsers)
    - [🆕 自動シリアライズ](#-automatic-serialization-to-urlsearchparams)
  - [multipart/form-data形式の利用](#using-multipartform-data-format)
    - [FormData](#formdata)
    - [🆕 自動シリアライズ](#-automatic-serialization-to-formdata)
  - [ファイル送信](#files-posting)
  - [HTMLフォーム送信](#-html-form-posting-browser)
  - [🆕 進捗取得](#-progress-capturing)
  - [🆕 レート制限](#-progress-capturing)
  - [🆕 AxiosHeaders](#-axiosheaders)
  - [🔥 Fetchアダプター](#-fetch-adapter)
  - [Semver](#semver)
  - [Promises](#promises)
  - [TypeScript](#typescript)
  - [リソース](#resources)
  - [クレジット](#credits)
  - [ライセンス](#license)

## 特徴

- ブラウザから [XMLHttpRequests](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest) を実行
- node.jsから [http](https://nodejs.org/api/http.html) リクエストを実行
- [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) APIをサポート
- リクエストおよびレスポンスをインターセプト
- リクエストおよびレスポンスデータの変換
- リクエストのキャンセル
- [JSON](https://www.json.org/json-en.html) データの自動変換
- 🆕 データオブジェクトの `multipart/form-data` および `x-www-form-urlencoded` ボディエンコーディングへの自動シリアライズ
- [XSRF](https://ja.wikipedia.org/wiki/Cross-site_request_forgery) から保護するためのクライアントサイドサポート

## ブラウザ対応

![Chrome](https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome_48x48.png) | ![Firefox](https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox_48x48.png) | ![Safari](https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari/safari_48x48.png) | ![Opera](https://raw.githubusercontent.com/alrra/browser-logos/main/src/opera/opera_48x48.png) | ![Edge](https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge_48x48.png) |
--- | --- | --- | --- | --- |
最新 ✔ | 最新 ✔ | 最新 ✔ | 最新 ✔ | 最新 ✔ | 11 ✔ |

[![Browser Matrix](https://saucelabs.com/open_sauce/build_matrix/axios.svg)](https://saucelabs.com/u/axios)

## インストール方法

### パッケージマネージャ

npm を使用する場合:

```bash
$ npm install axios
```

bower を使用する場合:

```bash
$ bower install axios
```

yarn を使用する場合:

```bash
$ yarn add axios
```

pnpm を使用する場合:

```bash
$ pnpm add axios
```

bun を使用する場合:

```bash
$ bun add axios
```

パッケージをインストールしたら、`import` または `require` アプローチでライブラリをインポートできます:

```js
import axios, {isCancel, AxiosError} from 'axios';
```

また、名前付きエクスポートは Axios ファクトリーからの再エクスポートであるため、デフォルトエクスポートも利用できます:

```js
import axios from 'axios';

console.log(axios.isCancel('something'));
```

`require` を使ってインポートする場合、**デフォルトエクスポートのみ利用可能です**:

```js
const axios = require('axios');

console.log(axios.isCancel('something'));
```

一部のバンドラーや ES6 リンターでは、次のように記述する必要がある場合があります:

```js
import { default as axios } from 'axios';
```

カスタムやレガシーな環境でモジュールのインポートに問題が発生した場合は、
モジュールパッケージを直接インポートすることもできます:

```js
const axios = require('axios/dist/browser/axios.cjs'); // ブラウザ用 commonJS バンドル (ES2017)
// const axios = require('axios/dist/node/axios.cjs'); // ノード用 commonJS バンドル (ES2017)
```

### CDN

jsDelivr CDN（ES5 UMD ブラウザモジュール）を利用する場合:

```html
<script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
```

unpkg CDN を利用する場合:

```html
<script src="https://unpkg.com/axios@1.6.7/dist/axios.min.js"></script>
```

## 例

> **注**: CommonJS の利用について  
> CommonJS の `require()` でインポートしつつ TypeScript の型情報（インテリセンス／オートコンプリート）を得るには、次の方法を使用してください:
```js
import axios from 'axios';
//const axios = require('axios'); // 従来の方法

// 指定したIDのユーザーにリクエストを送信
axios.get('/user?ID=12345')
  .then(function (response) {
    // 成功時の処理
    console.log(response);
  })
  .catch(function (error) {
    // エラー時の処理
    console.log(error);
  })
  .finally(function () {
    // 常に実行される
  });

// 上記のリクエストは、以下のようにも実行可能
axios.get('/user', {
    params: {
      ID: 12345
    }
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  })
  .finally(function () {
    // 常に実行される
  });

// async/awaitを使いたい場合は、外側の関数/メソッドに`async`キーワードを追加してください。
async function getUser() {
  try {
    const response = await axios.get('/user?ID=12345');
    console.log(response);
  } catch (error) {
    console.error(error);
  }
}
```

> **注意**: `async/await`はECMAScript 2017の一部であり、Internet Explorerや古いブラウザではサポートされていませんので、使用時は注意してください。

`POST`リクエストの実行

```js
axios.post('/user', {
    firstName: 'Fred',
    lastName: 'Flintstone'
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
```

複数のリクエストを同時に実行

```js
function getUserAccount() {
  return axios.get('/user/12345');
}

function getUserPermissions() {
  return axios.get('/user/12345/permissions');
}

Promise.all([getUserAccount(), getUserPermissions()])
  .then(function (results) {
    const acct = results[0];
    const perm = results[1];
  });
```

## axios API

リクエストは、関連する設定を`axios`に渡すことで実行できます。

##### axios(config)

```js
// POSTリクエストを送信
axios({
  method: 'post',
  url: '/user/12345',
  data: {
    firstName: 'Fred',
    lastName: 'Flintstone'
  }
});
```

```js
// node.jsでリモート画像のGETリクエスト
axios({
  method: 'get',
  url: 'https://bit.ly/2mTM3nY',
  responseType: 'stream'
})
  .then(function (response) {
    response.data.pipe(fs.createWriteStream('ada_lovelace.jpg'))
  });
```

##### axios(url[, config])

```js
// GETリクエストを送信（デフォルトメソッド）
axios('/user/12345');
```

### リクエストメソッドのエイリアス

利便性のため、すべての一般的なリクエストメソッドにエイリアスが用意されています。

##### axios.request(config)
##### axios.get(url[, config])
##### axios.delete(url[, config])
##### axios.head(url[, config])
##### axios.options(url[, config])
##### axios.post(url[, data[, config]])
##### axios.put(url[, data[, config]])
##### axios.patch(url[, data[, config]])

###### 注意
エイリアスメソッドを使用する場合、`url`、`method`、`data`プロパティはconfigで指定する必要はありません。

### 並列処理（非推奨）
以下の関数の代わりに`Promise.all`を使用してください。

同時リクエストを処理するためのヘルパー関数。

axios.all(iterable)
axios.spread(callback)

### インスタンスの作成

カスタムconfigで新しいaxiosインスタンスを作成できます。

##### axios.create([config])

```js
const instance = axios.create({
  baseURL: 'https://some-domain.com/api/',
  timeout: 1000,
  headers: {'X-Custom-Header': 'foobar'}
});
```

### インスタンスメソッド

利用可能なインスタンスメソッドは以下の通りです。指定されたconfigはインスタンスのconfigとマージされます。

##### axios#request(config)
##### axios#get(url[, config])
##### axios#delete(url[, config])
##### axios#head(url[, config])
##### axios#options(url[, config])
##### axios#post(url[, data[, config]])
##### axios#put(url[, data[, config]])
##### axios#patch(url[, data[, config]])
##### axios#getUri([config])

## リクエスト設定

リクエストを行う際に利用可能なconfigオプションは以下の通りです。`url`のみが必須です。`method`が指定されていない場合、リクエストはデフォルトで`GET`となります。

```js
{
  // `url`はリクエストに使用されるサーバーのURLです
  url: '/user',

  // `method`はリクエスト時に使用するHTTPメソッドです
  method: 'get', // デフォルト

  // `baseURL`は`url`が絶対パスでなく、かつ`allowAbsoluteUrls`オプションがtrueに設定されていない限り、`url`の前に追加されます。
  // インスタンスの`baseURL`を設定して、相対URLをメソッドに渡すのが便利です。
  baseURL: 'https://some-domain.com/api/',

  // `allowAbsoluteUrls`は絶対URLが設定された`baseUrl`を上書きするかどうかを決定します。
  // true（デフォルト）の場合、`url`の絶対値は`baseUrl`を上書きします。
  // falseの場合、`url`の絶対値も必ず`baseUrl`が前に付きます。
  allowAbsoluteUrls: true,

  // `transformRequest`はサーバーに送信される前にリクエストデータを変更できます
  // これはリクエストメソッドが'PUT'、'POST'、'PATCH'、'DELETE'の場合のみ適用されます
  // 配列内の最後の関数は、文字列またはBuffer、ArrayBuffer、FormData、Streamのインスタンスを返さなければなりません
  // headersオブジェクトを変更することもできます。
  transformRequest: [function (data, headers) {
    // データを変換するために任意の処理を実装
```
```markdown
    return data;
  }],

  // `transformResponse` は、then/catch に渡される前にレスポンスデータを変更することを可能にします
  transformResponse: [function (data) {
    // データを変換するために必要な処理を行ってください

    return data;
  }],

  // `headers` は送信するカスタムヘッダーです
  headers: {'X-Requested-With': 'XMLHttpRequest'},

  // `params` はリクエストと共に送信される URL パラメータです
  // プレーンなオブジェクトまたは URLSearchParams オブジェクトである必要があります
  params: {
    ID: 12345
  },
  
  // `paramsSerializer` は `params` のシリアライズをカスタマイズできるオプションの設定です。
  paramsSerializer: {

    // キー/値のペアを逐次的に送信するカスタムエンコーダ関数。
    encode?: (param: string): string => { /* ここでカスタム処理を行い、変換後の文字列を返してください */ }, 
    
    // パラメータ全体のカスタムシリアライザ関数。1.x以前の動作を模倣することができます。
    serialize?: (params: Record<string, any>, options?: ParamsSerializerOptions ), 
    
    // 配列インデックスのフォーマット設定。
    indexes: false // 利用可能なオプションは3つ：(1) indexes: null（ブラケットなし）、(2)（デフォルト）indexes: false（空ブラケット）、(3) indexes: true（インデックス付きブラケット）
  },

  // `data` はリクエストボディとして送信されるデータです
  // 'PUT', 'POST', 'DELETE', 'PATCH' リクエストメソッドでのみ使用されます
  // `transformRequest` が設定されていない場合、以下のいずれかの型である必要があります:
  // - string, プレーンオブジェクト, ArrayBuffer, ArrayBufferView, URLSearchParams
  // - ブラウザのみ: FormData, File, Blob
  // - Nodeのみ: Stream, Buffer, FormData（form-dataパッケージ）
  data: {
    firstName: 'Fred'
  },

  // ボディにデータを送信するための構文の代替
  // method post
  // キーではなく値のみが送信されます
  data: 'Country=Brasil&City=Belo Horizonte',

  // `timeout` はリクエストがタイムアウトするまでのミリ秒数を指定します
  // リクエストが `timeout` より長くかかった場合、リクエストは中止されます
  timeout: 1000, // デフォルトは `0`（タイムアウトなし）

  // `withCredentials` はクロスサイトの Access-Control リクエストが
  // 資格情報付きで行われるべきかどうかを示します
  withCredentials: false, // デフォルト

  // `adapter` はリクエストのカスタム処理を可能にし、テストを容易にします。
  // Promise を返し、有効なレスポンスを提供してください（lib/adapters/README.md を参照）
  adapter: function (config) {
    /* ... */
  },
  // また、組み込みアダプタの名前を設定したり、名前の配列を指定して
  // 環境で最初に利用可能なものを選択できます
  adapter: 'xhr', // 'fetch' | 'http' | ['xhr', 'http', 'fetch']

  // `auth` は HTTP Basic 認証を使用することを示し、資格情報を提供します。
  // これにより `Authorization` ヘッダーが設定され、`headers` で設定した既存の
  // `Authorization` カスタムヘッダーが上書きされます。
  // このパラメータで設定可能なのは HTTP Basic 認証のみですのでご注意ください。
  // Bearer トークン等は `Authorization` カスタムヘッダーを使用してください。
  auth: {
    username: 'janedoe',
    password: 's00pers3cret'
  },

  // `responseType` はサーバーが返すデータのタイプを指定します
  // オプション: 'arraybuffer', 'document', 'json', 'text', 'stream'
  //   ブラウザのみ: 'blob'
  responseType: 'json', // デフォルト

  // `responseEncoding` はレスポンスのデコードに使用するエンコーディングを指定します（Node.jsのみ）
  // 注意: `responseType` が 'stream' またはクライアント側リクエストの場合は無視されます
  // オプション: 'ascii', 'ASCII', 'ansi', 'ANSI', 'binary', 'BINARY', 'base64', 'BASE64', 'base64url',
  // 'BASE64URL', 'hex', 'HEX', 'latin1', 'LATIN1', 'ucs-2', 'UCS-2', 'ucs2', 'UCS2', 'utf-8', 'UTF-8',
  // 'utf8', 'UTF8', 'utf16le', 'UTF16LE'
  responseEncoding: 'utf8', // デフォルト

  // `xsrfCookieName` は xsrf トークン値として使用するクッキーの名前です
  xsrfCookieName: 'XSRF-TOKEN', // デフォルト

  // `xsrfHeaderName` は xsrf トークン値を運ぶ http ヘッダーの名前です
  xsrfHeaderName: 'X-XSRF-TOKEN', // デフォルト
    
  // `undefined`（デフォルト） - 同一オリジンリクエストのみ XSRF ヘッダーを設定
  withXSRFToken: boolean | undefined | ((config: InternalAxiosRequestConfig) => boolean | undefined),

  // `onUploadProgress` はアップロードの進捗イベントを処理できます
  // ブラウザ & node.js
  onUploadProgress: function ({loaded, total, progress, bytes, estimated, rate, upload = true}) {
```
```markdown
    // Axios の進捗イベントで好きなことをしてください
  },

  // `onDownloadProgress` はダウンロードの進捗イベントのハンドリングを可能にします
  // ブラウザ & node.js
  onDownloadProgress: function ({loaded, total, progress, bytes, estimated, rate, download = true}) {
    // Axios の進捗イベントで好きなことをしてください
  },

  // `maxContentLength` は node.js で許可される HTTP レスポンスコンテンツの最大サイズ（バイト単位）を定義します
  maxContentLength: 2000,

  // `maxBodyLength`（Node のみのオプション）は node.js で許可される HTTP リクエストコンテンツの最大サイズ（バイト単位）を定義します
  maxBodyLength: 2000,

  // `validateStatus` は、与えられた HTTP レスポンスステータスコードに対して
  // プロミスを resolve するか reject するかを定義します。
  // `validateStatus` が `true`（または `null` や `undefined` に設定）を返す場合、プロミスは resolve されます。
  // そうでない場合、プロミスは reject されます。
  validateStatus: function (status) {
    return status >= 200 && status < 300; // デフォルト
  },

  // `maxRedirects` は node.js で追従する最大リダイレクト数を定義します。
  // 0 に設定すると、リダイレクトは行われません。
  maxRedirects: 21, // デフォルト

  // `beforeRedirect` はリダイレクト前に呼び出される関数を定義します。
  // リダイレクト時にリクエストオプションを調整したり、
  // 最新のレスポンスヘッダを検査したり、
  // エラーをスローしてリクエストをキャンセルすることができます。
  // maxRedirects が 0 に設定されている場合、`beforeRedirect` は使用されません。
  beforeRedirect: (options, { headers }) => {
    if (options.hostname === "example.com") {
      options.auth = "user:password";
    }
  },

  // `socketPath` は node.js で使用される UNIX ソケットを定義します。
  // 例: '/var/run/docker.sock' で docker デーモンにリクエストを送信します。
  // `socketPath` と `proxy` はどちらか一方のみ指定可能です。
  // 両方指定された場合は `socketPath` が使用されます。
  socketPath: null, // デフォルト
  
  // `transport` はリクエスト送信に使用するトランスポート方式を決定します。
  // 指定されていればそれが使用されます。そうでない場合、`maxRedirects` が 0 なら
  // プロトコル（`protocol`）に応じてデフォルトの `http` または `https` ライブラリが使用されます。
  // それ以外の場合はリダイレクトに対応した `httpFollow` または `httpsFollow` ライブラリが
  // プロトコルに応じて使用されます。
  transport: undefined, // デフォルト

  // `httpAgent` および `httpsAgent` は、node.js で http および https リクエストを行う際に
  // 使用するカスタムエージェントを定義します。これにより、Node.js v19.0.0 より前では
  // デフォルトで有効になっていない `keepAlive` などのオプションを追加できます。
  // Node.js v19.0.0 以降では、`http.globalAgent` で `keepAlive` がデフォルトで有効なため、
  // エージェントをカスタマイズする必要はありません。
  httpAgent: new http.Agent({ keepAlive: true }),
  httpsAgent: new https.Agent({ keepAlive: true }),

  // `proxy` はプロキシサーバのホスト名、ポート、プロトコルを定義します。
  // 一般的な `http_proxy` および `https_proxy` 環境変数を使ってプロキシを定義することもできます。
  // 環境変数でプロキシ設定を行う場合、プロキシしないドメインをカンマ区切りで指定する
  // `no_proxy` 環境変数も定義できます。
  // プロキシを無効にするには `false` を指定し、環境変数を無視します。
  // `auth` はプロキシ接続時に HTTP Basic 認証を利用し、認証情報を提供します。
  // これにより `Proxy-Authorization` ヘッダが設定され、`headers` で指定した
  // 既存の `Proxy-Authorization` カスタムヘッダは上書きされます。
  // プロキシサーバが HTTPS を使用する場合、プロトコルを `https` に設定する必要があります。
  proxy: {
    protocol: 'https',
    host: '127.0.0.1',
    // hostname: '127.0.0.1' // 両方定義されている場合は 'host' より優先されます
    port: 9000,
    auth: {
      username: 'mikeymike',
      password: 'rapunz3l'
    }
  },

  // `cancelToken` はリクエストをキャンセルするために使用できるキャンセルトークンを指定します
  // （詳細は下記のキャンセルのセクションを参照）
  cancelToken: new CancelToken(function (cancel) {
  }),

  // AbortController を使った Axios リクエストのキャンセルの代替方法
  signal: new AbortController().signal,

  // `decompress` はレスポンスボディを自動的に解凍するかどうかを示します。
  // `true` に設定すると、すべての解凍されたレスポンスオブジェクトから
  // 'content-encoding' ヘッダも削除されます。
  // - Node のみ（XHR では解凍をオフにできません）
  decompress: true, // デフォルト

  // `insecureHTTPParser` ブール値。
  // 無効な HTTP ヘッダを受け入れる非セキュアな HTTP パーサを使うかどうかを示します。
  // 非準拠の HTTP 実装との相互運用性が必要な場合に有効です。
  // 非セキュアなパーサの利用は避けてください。
  // オプションの詳細は https://nodejs.org/dist/latest-v12.x/docs/api/http.html#http_http_request_url_options_callback を参照
```
```js
  // 参照: https://nodejs.org/en/blog/vulnerability/february-2020-security-releases/#strict-http-header-parsing-none
  insecureHTTPParser: undefined, // デフォルト

  // 後方互換性のための移行オプション。新しいバージョンで削除される可能性があります。
  transitional: {
    // サイレントJSONパースモード
    // `true`  - JSONパースエラーを無視し、パースに失敗した場合はresponse.dataをnullに設定（旧動作）
    // `false` - JSONパースに失敗した場合はSyntaxErrorを投げる（注意: responseTypeは'json'に設定する必要があります）
    silentJSONParsing: true, // 現在のAxiosバージョンのデフォルト値

    // `responseType`が'json'でなくてもレスポンス文字列をJSONとしてパースしようとする
    forcedJSONParsing: true,

    // リクエストタイムアウト時、汎用的なECONNABORTEDの代わりにETIMEDOUTエラーを投げる
    clarifyTimeoutError: false,
  },

  env: {
    // ペイロードを自動的にFormDataオブジェクトへシリアライズするために使用するFormDataクラス
    FormData: window?.FormData || global?.FormData
  },

  formSerializer: {
      visitor: (value, key, path, helpers) => {}, // フォーム値をシリアライズするカスタムビジター関数
      dots: boolean, // ブラケット形式の代わりにドット形式を使用
      metaTokens: boolean, // パラメータキーの特殊な終端（例: {}）を保持
      indexes: boolean, // 配列インデックス形式 null - ブラケットなし, false - 空のブラケット, true - インデックス付きブラケット
  },

  // httpアダプターのみ（node.js）
  maxRate: [
    100 * 1024, // 100KB/s アップロード制限
    100 * 1024  // 100KB/s ダウンロード制限
  ]
}
```

## レスポンススキーマ

リクエストのレスポンスには以下の情報が含まれます。

```js
{
  // `data` はサーバーから提供されたレスポンス
  data: {},

  // `status` はサーバーレスポンスのHTTPステータスコード
  status: 200,

  // `statusText` はサーバーレスポンスのHTTPステータスメッセージ
  statusText: 'OK',

  // `headers` サーバーが返したHTTPヘッダー
  // すべてのヘッダー名は小文字で、ブラケット記法でアクセスできます。
  // 例: `response.headers['content-type']`
  headers: {},

  // `config` はそのリクエストのために`axios`に渡された設定
  config: {},

  // `request` はこのレスポンスを生成したリクエスト
  // node.jsでは最後のClientRequestインスタンス（リダイレクト時）
  // ブラウザではXMLHttpRequestインスタンス
  request: {}
}
```

`then`を使用する場合、レスポンスは以下のように受け取ります:

```js
axios.get('/user/12345')
  .then(function (response) {
    console.log(response.data);
    console.log(response.status);
    console.log(response.statusText);
    console.log(response.headers);
    console.log(response.config);
  });
```

`catch`を使用する場合、または[拒否コールバック](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then)を`then`の2番目のパラメータとして渡す場合、レスポンスは[エラー処理](#handling-errors)セクションで説明されているように`error`オブジェクトを通じて利用できます。

## 設定デフォルト

すべてのリクエストに適用される設定のデフォルト値を指定できます。

### グローバルaxiosデフォルト

```js
axios.defaults.baseURL = 'https://api.example.com';

// 重要: axiosを複数のドメインで使用する場合、AUTH_TOKENはすべてのドメインに送信されます。
// 下記のカスタムインスタンスデフォルトの例を参照してください。
axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;

axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';
```

### カスタムインスタンスのデフォルト
```
```js
// インスタンス作成時に設定のデフォルト値をセット
const instance = axios.create({
  baseURL: 'https://api.example.com'
});

// インスタンス作成後にデフォルト値を変更
instance.defaults.headers.common['Authorization'] = AUTH_TOKEN;
```

### 設定の優先順位

設定は優先順位に従ってマージされます。順序は、[lib/defaults/index.js](https://github.com/axios/axios/blob/main/lib/defaults/index.js#L49) にあるライブラリのデフォルト値、次にインスタンスの `defaults` プロパティ、最後にリクエストの `config` 引数です。後者が前者よりも優先されます。以下は例です。

```js
// ライブラリが提供する設定のデフォルト値を使ってインスタンスを作成
// この時点では timeout 設定値は `0`（ライブラリのデフォルト値）です
const instance = axios.create();

// ライブラリのデフォルト timeout を上書き
// これでこのインスタンスを使うすべてのリクエストはタイムアウトまで2.5秒待ちます
instance.defaults.timeout = 2500;

// このリクエストは時間がかかることが分かっているので timeout を上書き
instance.get('/longRequest', {
  timeout: 5000
});
```

## インターセプター

`then` や `catch` で処理される前に、リクエストやレスポンスをインターセプトすることができます。

```js

const instance = axios.create();

// リクエストインターセプターを追加
instance.interceptors.request.use(function (config) {
    // リクエスト送信前に何か処理を行う
    return config;
  }, function (error) {
    // リクエストエラー時の処理
    return Promise.reject(error);
  });

// レスポンスインターセプターを追加
instance.interceptors.response.use(function (response) {
    // 2xxのステータスコードの場合、この関数が実行される
    // レスポンスデータの処理
    return response;
  }, function (error) {
    // 2xx以外のステータスコードの場合、この関数が実行される
    // レスポンスエラー時の処理
    return Promise.reject(error);
  });
```

後でインターセプターを削除する必要がある場合も対応できます。

```js
const instance = axios.create();
const myInterceptor = instance.interceptors.request.use(function () {/*...*/});
axios.interceptors.request.eject(myInterceptor);
```

リクエストやレスポンスのインターセプターをすべてクリアすることもできます。
```js
const instance = axios.create();
instance.interceptors.request.use(function () {/*...*/});
instance.interceptors.request.clear(); // リクエストのインターセプターを削除
instance.interceptors.response.use(function () {/*...*/});
instance.interceptors.response.clear(); // レスポンスのインターセプターを削除
```

カスタムインスタンスにもインターセプターを追加できます。

```js
const instance = axios.create();
instance.interceptors.request.use(function () {/*...*/});
```

リクエストインターセプターを追加すると、デフォルトでは非同期として扱われます。これにより、メインスレッドがブロックされている場合は
axiosリクエストの実行に遅延が発生する可能性があります（インターセプターの内部でPromiseが作成され、リクエストがコールスタックの一番下に置かれます）。
インターセプターが同期的である場合は、オプションオブジェクトにフラグを追加することで、axiosに同期的にコードを実行させ、
リクエスト実行の遅延を回避できます。

```js
axios.interceptors.request.use(function (config) {
  config.headers.test = 'I am only a header!';
  return config;
}, null, { synchronous: true });
```

特定のインターセプターを実行時の条件に基づいて実行したい場合は、
オプションオブジェクトに `runWhen` 関数を追加できます。リクエストインターセプターは **戻り値が `false` の場合のみ** 実行されません。
関数はconfigオブジェクトとともに呼び出されます（独自の引数をバインドすることも可能です）。これは
特定のタイミングでのみ実行したい非同期リクエストインターセプターがある場合に便利です。
```
```js
function onGetCall(config) {
  return config.method === 'get';
}
axios.interceptors.request.use(function (config) {
  config.headers.test = 'special get headers';
  return config;
}, null, { runWhen: onGetCall });
```

> **注:** optionsパラメータ（`synchronous` と `runWhen` プロパティを持つ）は、現時点ではリクエストインターセプターのみでサポートされています。

### 複数のインターセプター

複数のレスポンスインターセプターを追加した場合、
レスポンスが正常に処理されたとき
- 各インターセプターが実行される
- 追加された順序で実行される
- 最後のインターセプターの結果のみが返される
- 各インターセプターは前のインターセプターの結果を受け取る
- そして、もし正常終了用インターセプターが例外をスローした場合
    - 次の正常終了用インターセプターは呼ばれない
    - 次の失敗用インターセプターが呼ばれる
    - 捕捉された場合、さらに次の正常終了用インターセプターが再び呼ばれる（プロミスチェーンと同じ動作）。

これらすべてをコードで確認するには[インターセプターテスト](https://raw.githubusercontent.com/axios/axios/v1.x/./test/specs/interceptors.spec.js)を参照してください。

## エラータイプ

axiosには多くの異なるエラーメッセージがあり、エラーの詳細やデバッグの機会を提供します。

axiosエラーの一般的な構造は以下の通りです:
| プロパティ  | 定義  |
| -------- | ----------  |
| message  | エラーメッセージの概要と失敗したステータス。 |
| name     | エラーの発生元を定義します。axiosの場合は常に 'AxiosError' です。 |
| stack    | エラーのスタックトレース。 | 
| config   | リクエスト時にユーザーが定義した特定のインスタンス設定を持つaxiosのconfigオブジェクト |
| code     | axiosが識別したエラーを表します。下の表に内部axiosエラーの具体的な定義を記載しています。 |
| status   | HTTPレスポンスのステータスコード。[こちら](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes)で一般的なHTTPレスポンスステータスコードの意味を確認できます。 

以下はaxiosで識別される可能性のあるエラーの一覧です:

| コード                      | 定義                                                                                                                                                                                                                                                                                                                                                                                     |
| --- | --- |
| ERR_BAD_OPTION_VALUE      | axiosの設定に無効な値が指定されました。                                                                                                                                                                                                                                                                                                                                                 |
| ERR_BAD_OPTION            | axiosの設定に無効なオプションが指定されました。                                                                                                                                                                                                                                                                                                                                                |
| ERR_NOT_SUPPORT           | 現在のaxios環境でサポートされていない機能またはメソッド。                                                                                                                                                                                                                                                                                                                              |
| ERR_DEPRECATED            | 非推奨の機能またはメソッドがaxiosで使用されました。                                                                                                                                                                                                                                                                                                                                                    |
| ERR_INVALID_URL           | axiosリクエストに無効なURLが指定されました。                                                                                                                                                                                                                                                                                                                                                        |
| ECONNABORTED              | 通常はリクエストがタイムアウトした場合（`transitional.clarifyTimeoutError` が設定されていない場合）またはブラウザやプラグインによって中断されたことを示します。                                                                                                                                                                                                                                            |
| ERR_CANCELED              | AbortSignal（またはCancelToken）を使用してユーザーによって明示的にキャンセルされました。                                                                                                                                                                                                                                                                                                  |
| ETIMEDOUT                 | デフォルトのaxiosタイムリミットを超過したためにリクエストがタイムアウトしました。`transitional.clarifyTimeoutError` を `true` に設定する必要があります。そうでない場合は一般的な `ECONNABORTED` エラーがスローされます。                                                                                                                                                                                                         |
| ERR_NETWORK               | ネットワーク関連の問題。ブラウザではこのエラーは[CORS](https://developer.mozilla.org/ru/docs/Web/HTTP/Guides/CORS)や[Mixed Content](https://developer.mozilla.org/en-US/docs/Web/Security/Mixed_content)ポリシー違反によっても発生します。セキュリティ上の理由でブラウザはエラーの実際の理由をJSコードに明示しないため、コンソールを確認してください。 |
| ERR_FR_TOO_MANY_REDIRECTS | リクエストが多すぎる回数リダイレクトされ、axiosの設定で指定された最大リダイレクト数を超えました。                                                                                                                                                                                                                                                                                                  |
| ERR_BAD_RESPONSE          | レスポンスが正しく解析できない、または予期しないフォーマットです。通常 `5xx` ステータスコードのレスポンスに関連しています。                                                                                                                                                                                                                                                                          |
| ERR_BAD_REQUEST           | リクエストのフォーマットが予期しない、または必須パラメータが不足しています。通常 `4xx` ステータスコードのレスポンスに関連しています。                                                                                                                                                                                                                                                                    |

## エラーの処理

デフォルトの動作では、2xxの範囲外のステータスコードで返されたすべてのレスポンスは拒否され、エラーとして扱われます。

```js
axios.get('/user/12345')
  .catch(function (error) {
    if (error.response) {
      // リクエストが送信され、サーバーが2xxの範囲外のステータスコードで応答した場合
      console.log(error.response.data);
      console.log(error.response.status);
      console.log(error.response.headers);
    } else if (error.request) {
      // リクエストは送信されたが、レスポンスを受信しなかった場合
      // `error.request` はブラウザではXMLHttpRequestのインスタンス、node.jsではhttp.ClientRequestのインスタンス
      console.log(error.request);
    } else {
      // リクエストの設定中にエラーが発生した場合
      console.log('Error', error.message);
    }
    console.log(error.config);
  });
```

`validateStatus` 設定オプションを使用すると、デフォルト条件（status >= 200 && status < 300）を上書きし、エラーをスローするHTTPコードを定義できます。

```js
axios.get('/user/12345', {
  validateStatus: function (status) {
    return status < 500; // ステータスコードが500未満の場合のみresolve
  }
})
```

`toJSON` を使用すると、HTTPエラーに関するより多くの情報を持つオブジェクトを取得できます。

```js
axios.get('/user/12345')
  .catch(function (error) {
    console.log(error.toJSON());
```
```

## キャンセル

### AbortController

`v0.22.0` 以降、Axios は fetch API と同様に AbortController を使ってリクエストをキャンセルすることをサポートしています:

```js
const controller = new AbortController();

axios.get('/foo/bar', {
   signal: controller.signal
}).then(function(response) {
   //...
});
// リクエストをキャンセル
controller.abort()
```

### CancelToken `👎非推奨`

*CancelToken* を使ってリクエストをキャンセルすることもできます。

> axios の cancel token API は撤回された [cancellable promises proposal](https://github.com/tc39/proposal-cancelable-promises) に基づいています。

> このAPIは v0.22.0 以降非推奨となっており、新しいプロジェクトでは使用しないでください

以下のように `CancelToken.source` ファクトリを使ってキャンセルトークンを作成できます:

```js
const CancelToken = axios.CancelToken;
const source = CancelToken.source();

axios.get('/user/12345', {
  cancelToken: source.token
}).catch(function (thrown) {
  if (axios.isCancel(thrown)) {
    console.log('Request canceled', thrown.message);
  } else {
    // エラー処理
  }
});

axios.post('/user/12345', {
  name: 'new name'
}, {
  cancelToken: source.token
})

// リクエストをキャンセル（message パラメータは省略可能）
source.cancel('Operation canceled by the user.');
```

また、`CancelToken` コンストラクタに executor 関数を渡してキャンセルトークンを作成することもできます:

```js
const CancelToken = axios.CancelToken;
let cancel;

axios.get('/user/12345', {
  cancelToken: new CancelToken(function executor(c) {
    // executor 関数は cancel 関数をパラメータとして受け取ります
    cancel = c;
  })
});

// リクエストをキャンセル
cancel();
```

> **注意:** 同じキャンセルトークン/アボートコントローラーで複数のリクエストをキャンセルできます。
> Axios リクエスト開始時にキャンセルトークンがすでにキャンセルされている場合、実際のリクエストを試みることなく即座にリクエストがキャンセルされます。

> 移行期間中は、同じリクエストに対して両方のキャンセルAPIを使用することもできます:

## `application/x-www-form-urlencoded` 形式の使用

### URLSearchParams

デフォルトでは、axios は JavaScript オブジェクトを `JSON` にシリアライズします。代わりに [`application/x-www-form-urlencoded` 形式](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST) でデータを送信する場合は、[ほとんどのブラウザ](http://www.caniuse.com/#feat=urlsearchparams)および v10 以降の [Node](https://nodejs.org/api/url.html#url_class_urlsearchparams)（2018年リリース）でサポートされている [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) API を利用できます。

```js
const params = new URLSearchParams({ foo: 'bar' });
params.append('extraparam', 'value');
axios.post('/foo', params);
```

### クエリ文字列（旧ブラウザ向け）

非常に古いブラウザとの互換性のため、[polyfill](https://github.com/WebReflection/url-search-params) が用意されています（グローバル環境もポリフィルすることを忘れずに）。

あるいは、[`qs`](https://github.com/ljharb/qs) ライブラリを使ってデータをエンコードすることもできます:

```js
const qs = require('qs');
axios.post('/foo', qs.stringify({ 'bar': 123 }));
```
```
または別の方法（ES6）で、

```js
import qs from 'qs';
const data = { 'bar': 123 };
const options = {
  method: 'POST',
  headers: { 'content-type': 'application/x-www-form-urlencoded' },
  data: qs.stringify(data),
  url,
};
axios(options);
```

### 古いNode.jsバージョンの場合

古いNode.jsエンジンの場合は、以下のように[`querystring`](https://nodejs.org/api/querystring.html)モジュールを使用できます。

```js
const querystring = require('querystring');
axios.post('https://something.com/', querystring.stringify({ foo: 'bar' }));
```

[`qs`](https://github.com/ljharb/qs)ライブラリも使用できます。

> **注記**: ネストされたオブジェクトを文字列化する必要がある場合は、`querystring`メソッドには[既知の問題](https://github.com/nodejs/node-v0.x-archive/issues/1665)があるため、`qs`ライブラリの使用を推奨します。

### 🆕 URLSearchParamsへの自動シリアライズ

Axiosは、content-typeヘッダーが"application/x-www-form-urlencoded"に設定されている場合、dataオブジェクトを自動的にurlencoded形式にシリアライズします。

```js
const data = {
  x: 1,
  arr: [1, 2, 3],
  arr2: [1, [2], 3],
  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],
};

await axios.postForm('https://postman-echo.com/post', data,
  {headers: {'content-type': 'application/x-www-form-urlencoded'}}
);
```

サーバー側では以下のように処理されます:

```js
  {
    x: '1',
    'arr[]': [ '1', '2', '3' ],
    'arr2[0]': '1',
    'arr2[1][0]': '2',
    'arr2[2]': '3',
    'arr3[]': [ '1', '2', '3' ],
    'users[0][name]': 'Peter',
    'users[0][surname]': 'griffin',
    'users[1][name]': 'Thomas',
    'users[1][surname]': 'Anderson'
  }
```

バックエンドのbody-parser（`express.js`の`body-parser`など）がネストされたオブジェクトのデコードをサポートしている場合、サーバー側でも同じオブジェクトが自動的に取得できます

```js
  var app = express();

  app.use(bodyParser.urlencoded({ extended: true })); // エンコードされたボディのサポート

  app.post('/', function (req, res, next) {
     // ボディをJSONとしてエコー
     res.send(JSON.stringify(req.body));
  });

  server = app.listen(3000);
```

## `multipart/form-data`形式の使用

### FormData

データを`multipart/formdata`として送信するには、formDataインスタンスをペイロードとして渡す必要があります。
`Content-Type`ヘッダーの設定は不要です。Axiosがペイロードの型に基づき自動的に推測します。

```js
const formData = new FormData();
formData.append('foo', 'bar');

axios.post('https://httpbin.org/post', formData);
```

node.jsでは、以下のように[`form-data`](https://github.com/form-data/form-data)ライブラリを使用できます。

```js
const FormData = require('form-data');

const form = new FormData();
form.append('my_field', 'my value');
form.append('my_buffer', new Buffer(10));
form.append('my_file', fs.createReadStream('/foo/bar.jpg'));
```
```js
axios.post('https://example.com', form)
```

### 🆕 FormDataへの自動シリアライズ

`v0.27.0`以降、Axiosはリクエストの`Content-Type`ヘッダーが`multipart/form-data`に設定されている場合、オブジェクトを自動的にFormDataオブジェクトへシリアライズすることをサポートしています。

以下のリクエストは、データをFormData形式で送信します（ブラウザ＆Node.js）:

```js
import axios from 'axios';

axios.post('https://httpbin.org/post', {x: 1}, {
  headers: {
    'Content-Type': 'multipart/form-data'
  }
}).then(({data}) => console.log(data));
```

`node.js`ビルドでは、デフォルトで([`form-data`](https://github.com/form-data/form-data))ポリフィルが使用されます。

`env.FormData`構成変数を設定してFormDataクラスを上書きすることも可能ですが、ほとんどの場合必要ありません:

```js
const axios = require('axios');
var FormData = require('form-data');

axios.post('https://httpbin.org/post', {x: 1, buf: new Buffer(10)}, {
  headers: {
    'Content-Type': 'multipart/form-data'
  }
}).then(({data}) => console.log(data));
```

AxiosのFormDataシリアライザは、以下のような特別なサフィックスで操作を行うことをサポートしています:

- `{}` - 値をJSON.stringifyでシリアライズする
- `[]` - 配列のようなオブジェクトを同じキーで個別のフィールドとして展開する

> **注意**: 配列やFileListオブジェクトではデフォルトでunwrap/expand操作が使用されます

FormDataシリアライザは、まれなケースに対応するために`config.formSerializer: object`プロパティによる追加オプションをサポートしています:

- `visitor: Function` - カスタムルールに従ってデータオブジェクトを`FormData`オブジェクトへ再帰的にシリアライズするために呼び出されるユーザー定義のビジタ関数。

- `dots: boolean = false` - 配列やオブジェクトのシリアライズにブラケットの代わりにドット記法を使用する;

- `metaTokens: boolean = true` - FormDataキーに特別なサフィックス（例: `user{}: '{"name": "John"}'`）を追加する。
バックエンドのbody-parserはこのメタ情報を使って値を自動的にJSONとして解析できる可能性があります。

- `indexes: null|false|true = false` - `flat`な配列のようなオブジェクトのアンラップキーにインデックスをどのように追加するか制御します。

    - `null` - ブラケットを追加しない（`arr: 1`, `arr: 2`, `arr: 3`）
    - `false`（デフォルト）- 空のブラケットを追加（`arr[]: 1`, `arr[]: 2`, `arr[]: 3`）
    - `true` - インデックス付きのブラケットを追加（`arr[0]: 1`, `arr[1]: 2`, `arr[2]: 3`）

例えば次のようなオブジェクトがあるとします:

```js
const obj = {
  x: 1,
  arr: [1, 2, 3],
  arr2: [1, [2], 3],
  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],
  'obj2{}': [{x:1}]
};
```

Axiosのシリアライザは内部的に以下の手順を実行します:

```js
const formData = new FormData();
formData.append('x', '1');
formData.append('arr[]', '1');
formData.append('arr[]', '2');
formData.append('arr[]', '3');
formData.append('arr2[0]', '1');
formData.append('arr2[1][0]', '2');
formData.append('arr2[2]', '3');
formData.append('users[0][name]', 'Peter');
formData.append('users[0][surname]', 'Griffin');
formData.append('users[1][name]', 'Thomas');
formData.append('users[1][surname]', 'Anderson');
formData.append('obj2{}', '[{"x":1}]');
```

Axiosは以下のショートカットメソッドもサポートしています: `postForm`, `putForm`, `patchForm`
これらは対応するHTTPメソッドを、`Content-Type`ヘッダーが`multipart/form-data`にプリセットされた状態で実行します。

## ファイルの送信

単一ファイルを簡単に送信できます:

```js
await axios.postForm('https://httpbin.org/post', {
  'myVar' : 'foo',
  'file': document.querySelector('#fileInput').files[0]
```
});
```

または、複数のファイルを `multipart/form-data` として送信する場合:

```js
await axios.postForm('https://httpbin.org/post', {
  'files[]': document.querySelector('#fileInput').files
});
```

`FileList` オブジェクトは直接渡すことができます:

```js
await axios.postForm('https://httpbin.org/post', document.querySelector('#fileInput').files)
```

すべてのファイルは同じフィールド名 `files[]` で送信されます。

## 🆕 HTMLフォームの送信（ブラウザ）

HTMLフォーム要素をペイロードとして渡すことで、`multipart/form-data` コンテンツとして送信できます。

```js
await axios.postForm('https://httpbin.org/post', document.querySelector('#htmlForm'));
```

`FormData` や `HTMLForm` オブジェクトも、`Content-Type` ヘッダーを `application/json` に明示的に設定することで `JSON` として送信可能です:

```js
await axios.post('https://httpbin.org/post', document.querySelector('#htmlForm'), {
  headers: {
    'Content-Type': 'application/json'
  }
})
```

例えば、以下のフォーム

```html
<form id="form">
  <input type="text" name="foo" value="1">
  <input type="text" name="deep.prop" value="2">
  <input type="text" name="deep prop spaced" value="3">
  <input type="text" name="baz" value="4">
  <input type="text" name="baz" value="5">

  <select name="user.age">
    <option value="value1">Value 1</option>
    <option value="value2" selected>Value 2</option>
    <option value="value3">Value 3</option>
  </select>

  <input type="submit" value="Save">
</form>
```

は、以下のJSONオブジェクトとして送信されます:

```js
{
  "foo": "1",
  "deep": {
    "prop": {
      "spaced": "3"
    }
  },
  "baz": [
    "4",
    "5"
  ],
  "user": {
    "age": "value2"
  }
}
````

`Blobs`/`Files` を `JSON`（`base64`）として送信することは、現在サポートされていません。

## 🆕 進捗の取得

Axiosは、リクエストのアップロード/ダウンロード進捗を取得するために、ブラウザとNode両方の環境をサポートしています。
進捗イベントの頻度は、1秒間に最大3回に制限されています。

```js    
await axios.post(url, data, {
  onUploadProgress: function (axiosProgressEvent) {
    /*{
      loaded: number;
      total?: number;
      progress?: number; // [0..1] の範囲
      bytes: number; // 最後にトリガーされてから転送されたバイト数（差分）
      estimated?: number; // 推定残り時間（秒）
      rate?: number; // アップロード速度（バイト/秒）
      upload: true; // アップロードであることを示す
    }*/
  },

  onDownloadProgress: function (axiosProgressEvent) {
    /*{
      loaded: number;
      total?: number;
      progress?: number;
      bytes: number; 
      estimated?: number;
      rate?: number; // ダウンロード速度（バイト単位）
      download: true; // ダウンロードサイン
    }*/
  }
});  
```

Node.js でもストリームのアップロード／ダウンロード進捗を追跡できます:

```js
const {data} = await axios.post(SERVER_URL, readableStream, {
   onUploadProgress: ({progress}) => {
     console.log((progress * 100).toFixed(2));
   },
  
   headers: {
    'Content-Length': contentLength
   },

   maxRedirects: 0 // ストリーム全体のバッファリングを回避
});
````

> **注意:**
> Node.js環境ではFormDataアップロード進捗の取得は現在サポートされていません。

> **⚠️ 警告**
> **node.js** 環境でストリームをアップロードする場合は、maxRedirects: 0 を設定してリダイレクトを無効にすることを推奨します。
> これは、follow-redirects パッケージが「バックプレッシャー」アルゴリズムを適用せず、ストリーム全体をRAMにバッファリングしてしまうためです。


## 🆕 レート制限

ダウンロードおよびアップロードのレート制限は http アダプタ（node.js）のみ設定できます:

```js
const {data} = await axios.post(LOCAL_SERVER_URL, myBuffer, {
  onUploadProgress: ({progress, rate}) => {
    console.log(`Upload [${(progress*100).toFixed(2)}%]: ${(rate / 1024).toFixed(2)}KB/s`)
  },
   
  maxRate: [100 * 1024], // 100KB/s 制限
});
```

## 🆕 AxiosHeaders

Axiosには独自の `AxiosHeaders` クラスがあり、MapのようなAPIでヘッダーを操作し、大文字小文字を区別しない動作を保証します。
HTTPヘッダーは大文字小文字を区別しませんが、Axiosはスタイル上の理由や、サーバーがヘッダーの大文字小文字を誤って区別する場合の回避策として、
元のヘッダーの大文字小文字を保持します。
従来の headers オブジェクトを直接操作する方法も引き続き利用可能ですが、非推奨であり将来的な利用は推奨されません。

### ヘッダーの操作

AxiosHeaders オブジェクトインスタンスは、設定やマージのロジックを制御するさまざまな型の内部値を含むことができます。
Axios が最終的に `toJSON` メソッドを呼び出して取得するヘッダーオブジェクトは、すべて文字列値となります。

> 注意: ここでの JSON とは、ネットワーク送信用に意図された、文字列値のみを含むオブジェクトを指します。

ヘッダー値には次のいずれかの型を指定できます:
- `string` - サーバーに送信される通常の文字列値
- `null` - JSONへ変換時にこのヘッダーをスキップ
- `false` - JSONへ変換時にこのヘッダーをスキップし、さらに `set` メソッドの `rewrite` オプションを true にしてこの値を上書きする必要があることを示します
  （Axiosはこれを内部的に利用して、ユーザーが `User-Agent` や `Content-Type` など特定のヘッダーの自動設定をオプトアウトできるようにします）
- `undefined` - 値が設定されていません

> 注意: ヘッダー値は undefined でない場合に設定されていると見なされます。

ヘッダーオブジェクトは常にインターセプターやトランスフォーマー内で初期化されます:

```ts
  axios.interceptors.request.use((request: InternalAxiosRequestConfig) => {
      request.headers.set('My-header', 'value');

      request.headers.set({
        "My-set-header1": "my-set-value1",
        "My-set-header2": "my-set-value2"
      });
      
      request.headers.set('User-Agent', false); // Axiosによる後続のヘッダー設定を無効化

      request.headers.setContentType('text/plain');
    
      request.headers['My-set-header2'] = 'newValue' // 直接アクセスは非推奨
    
      return request;
    }
  );
````

`AxiosHeaders` インスタンスは `for...of` 文で反復処理できます:

````js
const headers = new AxiosHeaders({
  foo: '1',
```markdown
  bar: '2',
  baz: '3'
});

for(const [header, value] of headers) {
  console.log(header, value);
}

// foo 1
// bar 2
// baz 3
````

### new AxiosHeaders(headers?)

新しい `AxiosHeaders` インスタンスを構築します。

```
constructor(headers?: RawAxiosHeaders | AxiosHeaders | string);
```

headers オブジェクトが文字列の場合、RAW HTTP ヘッダーとして解析されます。

````js
const headers = new AxiosHeaders(`
Host: www.bing.com
User-Agent: curl/7.54.0
Accept: */*`);

console.log(headers);

// Object [AxiosHeaders] {
//   host: 'www.bing.com',
//   'user-agent': 'curl/7.54.0',
//   accept: '*/*'
// }
````

### AxiosHeaders#set

```ts
set(headerName, value: Axios, rewrite?: boolean);
set(headerName, value, rewrite?: (this: AxiosHeaders, value: string, name: string, headers: RawAxiosHeaders) => boolean);
set(headers?: RawAxiosHeaders | AxiosHeaders | string, rewrite?: boolean);
```

`rewrite` 引数は上書きの動作を制御します:
- `false` - ヘッダー値が設定されている（`undefined` でない）場合は上書きしません
- `undefined` (デフォルト) - 値が `false` でない限りヘッダーを上書きします
- `true` - 常に上書きします

このオプションには、値を上書きするかどうかを決定するユーザー定義関数も指定できます。

`this` を返します。

### AxiosHeaders#get(header)

```
  get(headerName: string, matcher?: true | AxiosHeaderMatcher): AxiosHeaderValue;
  get(headerName: string, parser: RegExp): RegExpExecArray | null;
````

ヘッダーの内部値を返します。追加引数として、`RegExp.exec`、マッチャー関数、または内部のキー・バリューパーサーでヘッダー値を解析することができます。

```ts
const headers = new AxiosHeaders({
  'Content-Type': 'multipart/form-data; boundary=Asrf456BGe4h'
});

console.log(headers.get('Content-Type')); 
// multipart/form-data; boundary=Asrf456BGe4h

console.log(headers.get('Content-Type', true)); // \s,;= デリミタで区切られた文字列からキー・バリューペアを解析:
// [Object: null prototype] {
//   'multipart/form-data': undefined,
//    boundary: 'Asrf456BGe4h'
// }


console.log(headers.get('Content-Type', (value, name, headers) => {
  return String(value).replace(/a/g, 'ZZZ');
}));
// multipZZZrt/form-dZZZtZZZ; boundZZZry=Asrf456BGe4h

console.log(headers.get('Content-Type', /boundary=(\w+)/)?.[0]);
// boundary=Asrf456BGe4h

```

ヘッダーの値を返します。

### AxiosHeaders#has(header, matcher?)

```
has(header: string, matcher?: AxiosHeaderMatcher): boolean;
```

ヘッダーが設定されている（`undefined` 値でない）場合は `true` を返します。
```
### AxiosHeaders#delete(header, matcher?)

```
delete(header: string | string[], matcher?: AxiosHeaderMatcher): boolean;
```

少なくとも1つのヘッダーが削除された場合は `true` を返します。

### AxiosHeaders#clear(matcher?)

```
clear(matcher?: AxiosHeaderMatcher): boolean;
```

すべてのヘッダーを削除します。  
`delete` メソッドの matcher とは異なり、このオプションの matcher は値ではなくヘッダー名に対してマッチングを行います。

```ts
const headers = new AxiosHeaders({
  'foo': '1',
  'x-foo': '2',
  'x-bar': '3',
});

console.log(headers.clear(/^x-/)); // true

console.log(headers.toJSON()); // [Object: null prototype] { foo: '1' }
```

少なくとも1つのヘッダーがクリアされた場合は `true` を返します。

### AxiosHeaders#normalize(format);

ヘッダーオブジェクトが直接変更された場合、大文字小文字の異なる同名の重複が発生することがあります。  
このメソッドは、重複するキーを1つにまとめることでヘッダーオブジェクトを正規化します。  
Axiosは各インターセプター呼び出し後にこのメソッドを内部的に使用します。  
`format` を true に設定すると、ヘッダー名を小文字に変換し、頭文字を大文字にします（例: `cOntEnt-type` => `Content-Type`）

```js
const headers = new AxiosHeaders({
  'foo': '1',
});

headers.Foo = '2';
headers.FOO = '3';

console.log(headers.toJSON()); // [Object: null prototype] { foo: '1', Foo: '2', FOO: '3' }
console.log(headers.normalize().toJSON()); // [Object: null prototype] { foo: '3' }
console.log(headers.normalize(true).toJSON()); // [Object: null prototype] { Foo: '3' }
```

`this` を返します。

### AxiosHeaders#concat(...targets)

```
concat(...targets: Array<AxiosHeaders | RawAxiosHeaders | string | undefined | null>): AxiosHeaders;
```

インスタンスと targets を新しい `AxiosHeaders` インスタンスにマージします。  
target が文字列の場合は、RAW HTTP ヘッダーとしてパースされます。

新しい `AxiosHeaders` インスタンスを返します。

### AxiosHeaders#toJSON(asStrings?)

````
toJSON(asStrings?: boolean): RawAxiosHeaders;
````

すべての内部ヘッダー値を新しい null プロトタイプオブジェクトに解決します。  
`asStrings` を true に設定すると、配列をカンマ区切りで全要素を含む文字列として解決します。

### AxiosHeaders.from(thing?)

````
from(thing?: AxiosHeaders | RawAxiosHeaders | string): AxiosHeaders;
````

渡された生のヘッダーから作成された新しい `AxiosHeaders` インスタンスを返します。  
または、渡されたオブジェクトが `AxiosHeaders` インスタンスの場合はそのまま返します。

### AxiosHeaders.concat(...targets)

````
concat(...targets: Array<AxiosHeaders | RawAxiosHeaders | string | undefined | null>): AxiosHeaders;
````

ターゲットオブジェクトをマージして作成された新しい `AxiosHeaders` インスタンスを返します。

### ショートカット

以下のショートカットが利用できます:

- `setContentType`, `getContentType`, `hasContentType`

- `setContentLength`, `getContentLength`, `hasContentLength`

- `setAccept`, `getAccept`, `hasAccept`

- `setUserAgent`, `getUserAgent`, `hasUserAgent`
- `setContentEncoding`, `getContentEncoding`, `hasContentEncoding`

## 🔥 Fetchアダプター

Fetchアダプターは`v1.7.0`で導入されました。デフォルトでは、ビルドで`xhr`および`http`アダプターが利用できない場合や、環境でサポートされていない場合に使用されます。
デフォルトで使用するには、明示的に選択する必要があります:

```js
const {data} = axios.get(url, {
  adapter: 'fetch' // デフォルトは ['xhr', 'http', 'fetch']
})
```

これ用に個別のインスタンスを作成することもできます:

```js
const fetchAxios = axios.create({
  adapter: 'fetch'
});

const {data} = fetchAxios.get(url);
```

このアダプターは、`xhr`アダプターと同じ機能をサポートし、**アップロードおよびダウンロード進捗の取得も含みます**。
また、（環境がサポートしていれば）`stream`や`formdata`などの追加レスポンスタイプもサポートしています。

## セマンティックバージョニング（Semver）

axiosが`1.0`リリースに到達するまでは、破壊的な変更は新しいマイナーバージョンでリリースされます。例えば、`0.5.1`と`0.5.4`は同じAPIですが、`0.6.0`には破壊的な変更が含まれる可能性があります。

## プロミス（Promises）

axiosは、[サポートされている](https://caniuse.com/promises)ネイティブES6 Promise実装に依存しています。
もしご利用の環境でES6 Promisesがサポートされていない場合、[ポリフィル](https://github.com/jakearchibald/es6-promise)をご利用ください。

## TypeScript

axiosには[TypeScript](https://typescriptlang.org)定義と、axiosエラーの型ガードが含まれています。

```typescript
let user: User = null;
try {
  const { data } = await axios.get('/user?ID=12345');
  user = data.userDetails;
} catch (error) {
  if (axios.isAxiosError(error)) {
    handleAxiosError(error);
  } else {
    handleUnexpectedError(error);
  }
}
```

axiosはESMデフォルトエクスポートとCJSの`module.exports`の両方で公開されているため、いくつか注意点があります。
推奨設定は`"moduleResolution": "node16"`を使うことです（これは`"module": "node16"`で暗黙的に設定されます）。なお、これはTypeScript 4.7以降が必要です。
ESMを利用する場合、設定は問題ありません。
TypeScriptをCJSにコンパイルし、かつ`"moduleResolution": "node16"`が使えない場合は、`esModuleInterop`を有効にする必要があります。
TypeScriptでCJS JavaScriptコードの型チェックのみを行う場合、唯一の選択肢は`"moduleResolution": "node16"`を使用することです。

## オンラインワンクリックセットアップ

Gitpod（オープンソースには無料のオンラインIDE）を使って、オンラインでコントリビュートやサンプルの実行ができます。

[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#https://github.com/axios/axios/blob/main/examples/server.js)

## リソース

* [Changelog](https://github.com/axios/axios/blob/v1.x/CHANGELOG.md)
* [Ecosystem](https://github.com/axios/axios/blob/v1.x/ECOSYSTEM.md)
* [Contributing Guide](https://github.com/axios/axios/blob/v1.x/CONTRIBUTING.md)
* [Code of Conduct](https://github.com/axios/axios/blob/v1.x/CODE_OF_CONDUCT.md)

## クレジット

axiosは、[AngularJS](https://angularjs.org/)で提供されている[$httpサービス](https://docs.angularjs.org/api/ng/service/$http)から大きく影響を受けています。最終的にaxiosは、AngularJSの外部で使えるスタンドアロンな`$http`風サービスを提供するための取り組みです。

## ライセンス

[MIT](LICENSE)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-30

---