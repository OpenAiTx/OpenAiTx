<h3 align="center"> 🥇 حامیان طلایی <br> </h3> <table align="center" width="100%"><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://stytch.com/?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;website-link&amp;utm_campaign&#x3D;axios-http" style="padding: 10px; display: inline-block"> <picture> <source width="200px" height="38px" media="(prefers-color-scheme: dark)" srcset="https://axios-http.com/assets/sponsors/stytch_white.png"> <img width="200px" height="38px" src="https://axios-http.com/assets/sponsors/stytch.png" alt="Stytch"/> </picture> </a> <p align="center" title="API-first authentication, authorization, and fraud prevention">احراز هویت، مجوزدهی و جلوگیری از تقلب مبتنی بر API</p> <p align="center"> <a href="https://stytch.com/?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;website-link&amp;utm_campaign&#x3D;axios-http"><b>وبسایت</b></a> | <a href="https://stytch.com/docs?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;docs-link&amp;utm_campaign&#x3D;axios-http"><b>مستندات</b></a> | <a href="https://github.com/stytchauth/stytch-node?utm_source&#x3D;oss-sponsorship&amp;utm_medium&#x3D;paid_sponsorship&amp;utm_content&#x3D;node-sdk&amp;utm_campaign&#x3D;axios-http"><b>Node.js</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://www.principal.com/about-us?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="133px" height="43px" src="https://axios-http.com/assets/sponsors/principal.svg" alt="Principal Financial Group"/> </a> <p align="center" title="We’re bound by one common purpose: to give you the financial tools, resources and information you need to live your best life.">ما به یک هدف مشترک متعهدیم: ارائه ابزارها، منابع و اطلاعات مالی که برای داشتن بهترین زندگی به آن نیاز دارید.</p> <p align="center"> <a href="https://www.principal.com/about-us?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>www.principal.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://twicsy.com/buy-instagram-followers?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="85px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/buy-instagram-followers-twicsy.png" alt="Buy Instagram Followers Twicsy"/> </a> <p align="center" title="Buy real Instagram followers from Twicsy starting at only $2.97. Twicsy has been voted the best site to buy followers from the likes of US Magazine.">خرید فالوور واقعی اینستاگرام از Twicsy با شروع قیمت تنها ۲٫۹۷ دلار. Twicsy به عنوان بهترین سایت خرید فالوور توسط US Magazine انتخاب شده است.</p> <p align="center"> <a href="https://twicsy.com/buy-instagram-followers?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>twicsy.com</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://www.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship" style="padding: 10px; display: inline-block"> <picture> <source width="200px" height="52px" media="(prefers-color-scheme: dark)" srcset="https://axios-http.com/assets/sponsors/descope_white.png"> <img width="200px" height="52px" src="https://axios-http.com/assets/sponsors/descope.png" alt="Descope"/> </picture> </a> <p align="center" title="Hi, we&#x27;re Descope! We are building something in the authentication space for app developers and can’t wait to place it in your hands.">سلام، ما Descope هستیم! ما در حال ساخت راه‌حل‌هایی در زمینه احراز هویت برای توسعه‌دهندگان اپلیکیشن هستیم و مشتاقانه منتظریم آن را در اختیار شما قرار دهیم.</p> <p align="center"> <a href="https://www.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>وبسایت</b></a> | <a href="https://docs.descope.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>مستندات</b></a> | <a href="https://www.descope.com/community?utm_source&#x3D;axios&amp;utm_medium&#x3D;referral&amp;utm_campaign&#x3D;axios-oss-sponsorship"><b>جامعه</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://buzzoid.com/buy-instagram-followers/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="62px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/buzzoid-buy-instagram-followers.png" alt="Buzzoid - Buy Instagram Followers"/> </a> <p align="center" title="At Buzzoid, you can buy Instagram followers quickly, safely, and easily with just a few clicks. Rated world&#x27;s #1 IG service since 2012.">در Buzzoid می‌توانید تنها با چند کلیک فالوور اینستاگرام را به سرعت، ایمن و آسان خریداری کنید. از سال ۲۰۱۲ به عنوان سرویس شماره ۱ اینستاگرام جهان ارزیابی شده است.</p> <p align="center"> <a href="https://buzzoid.com/buy-instagram-followers/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>buzzoid.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://www.famety.net/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/famety-buy-instagram-followers.png" alt="Famety - Buy Instagram Followers"/> </a> <p align="center" title="At Famety, you can grow your social media following quickly, safely, and easily with just a few clicks. Rated the world’s #1 social media service since 2013.">در Famety می‌توانید دنبال‌کنندگان شبکه‌های اجتماعی خود را تنها با چند کلیک به سرعت، ایمن و آسان افزایش دهید. از سال ۲۰۱۳ به عنوان سرویس شماره ۱ شبکه اجتماعی جهان ارزیابی شده است.</p> <p align="center"> <a href="https://www.famety.net/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>www.famety.net</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/instagram-likes.png" alt="Poprey - Buy Instagram Likes"/> </a> <p align="center" title="Buy Instagram Likes">خرید لایک اینستاگرام</p> <p align="center"> <a href="https://poprey.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>poprey.com</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://ssmarket.net/buy-youtube-subscribers?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="70px" height="70px" src="https://axios-http.com/assets/sponsors/opencollective/youtube-subscribers-ssmarket.png" alt="Buy Youtube Subscribers"/> </a> <p align="center" title="SS Market offers professional social media services that rapidly increase your YouTube subscriber count, elevating your channel to a powerful position.">SS Market خدمات حرفه‌ای شبکه‌های اجتماعی ارائه می‌دهد که تعداد مشترکین یوتیوب شما را به سرعت افزایش داده و کانال شما را به جایگاهی قدرتمند می‌رساند.</p> <p align="center"> <a href="https://ssmarket.net/buy-youtube-subscribers?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>ssmarket.net</b></a> </p>
</td><td align="center" width="33.333333333333336%"> <a href="https://smmpanelserver.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;sponsorlist&amp;utm_campaign&#x3D;sponsorship" style="padding: 10px; display: inline-block"> <img width="200px" height="56px" src="https://axios-http.com/assets/sponsors/opencollective/smmpanelserver123.png" alt="smmpanelserver"/> </a> <p align="center" title="smmpanelserver - Best and Cheapest Smm Panel">smmpanelserver - بهترین و ارزان‌ترین پنل SMM</p> <p align="center"> <a href="https://smmpanelserver.com/?utm_source&#x3D;axios&amp;utm_medium&#x3D;readme_sponsorlist&amp;utm_campaign&#x3D;sponsorship"><b>smmpanelserver.com</b></a> </p>
</td></tr><tr width="33.333333333333336%"><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 حامی شوید</a>
</td><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 حامی شوید</a>
</td><td align="center" width="33.333333333333336%"> <a href="https://opencollective.com/axios/contribute">💜 حامی شوید</a>
</td></tr></table>

<!--<div>marker</div>-->
<br><br>
<div align="center">
   <a href="https://axios-http.com"><img src="https://axios-http.com/assets/logo.svg" /></a><br>
</div>

<p align="center">کلاینت HTTP مبتنی بر Promise برای مرورگر و node.js</p>

<p align="center">
    <a href="https://axios-http.com/"><b>وبسایت</b></a> •
    <a href="https://axios-http.com/docs/intro"><b>مستندات</b></a>
</p>

<div align="center">

[![npm version](https://img.shields.io/npm/v/axios.svg?style=flat-square)](https://www.npmjs.org/package/axios)
[![CDNJS](https://img.shields.io/cdnjs/v/axios.svg?style=flat-square)](https://cdnjs.com/libraries/axios)
[![Build status](https://img.shields.io/github/actions/workflow/status/axios/axios/ci.yml?branch=v1.x&label=CI&logo=github&style=flat-square)](https://github.com/axios/axios/actions/workflows/ci.yml)
[![Gitpod Ready-to-Code](https://img.shields.io/badge/Gitpod-Ready--to--Code-blue?logo=gitpod&style=flat-square)](https://gitpod.io/#https://github.com/axios/axios)
[![code coverage](https://img.shields.io/coveralls/mzabriskie/axios.svg?style=flat-square)](https://coveralls.io/r/mzabriskie/axios)
[![install size](https://img.shields.io/badge/dynamic/json?url=https://packagephobia.com/v2/api.json?p=axios&query=$.install.pretty&label=install%20size&style=flat-square)](https://packagephobia.now.sh/result?p=axios)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/axios?style=flat-square)](https://bundlephobia.com/package/axios@latest)
[![npm downloads](https://img.shields.io/npm/dm/axios.svg?style=flat-square)](https://npm-stat.com/charts.html?package=axios)
[![gitter chat](https://img.shields.io/gitter/room/mzabriskie/axios.svg?style=flat-square)](https://gitter.im/mzabriskie/axios)
[![code helpers](https://www.codetriage.com/axios/axios/badges/users.svg)](https://www.codetriage.com/axios/axios)
[![Known Vulnerabilities](https://snyk.io/test/npm/axios/badge.svg)](https://snyk.io/test/npm/axios)




</div>

## فهرست مطالب

  - [ویژگی‌ها](#features)
  - [پشتیبانی مرورگر](#browser-support)
  - [نصب](#installing)
    - [مدیر بسته](#package-manager)
    - [CDN](#cdn)
  - [مثال](#example)
  - [API اکسيوس](#axios-api)
  - [میانبرهای متد درخواست](#request-method-aliases)
  - [همزمانی 👎](#concurrency-deprecated)
  - [ایجاد یک نمونه](#creating-an-instance)
  - [متدهای نمونه](#instance-methods)
  - [پیکربندی درخواست](#request-config)
  - [ساختار پاسخ](#response-schema)
  - [پیش‌فرض‌های پیکربندی](#config-defaults)
    - [پیش‌فرض‌های سراسری axios](#global-axios-defaults)
    - [پیش‌فرض‌های نمونه سفارشی](#custom-instance-defaults)
    - [ترتیب اولویت پیکربندی](#config-order-of-precedence)
  - [اینترسپتور‌ها](#interceptors)
    - [چندین اینترسپتور](#multiple-interceptors)
  - [مدیریت خطاها](#handling-errors)
  - [لغو درخواست](#cancellation)
    - [AbortController](#abortcontroller)
    - [CancelToken 👎](#canceltoken-deprecated)
  - [استفاده از فرمت application/x-www-form-urlencoded](#using-applicationx-www-form-urlencoded-format)
    - [URLSearchParams](#urlsearchparams)
    - [رشته کوئری](#query-string-older-browsers)
    - [🆕 سریال‌سازی خودکار](#-automatic-serialization-to-urlsearchparams)
  - [استفاده از فرمت multipart/form-data](#using-multipartform-data-format)
    - [FormData](#formdata)
    - [🆕 سریال‌سازی خودکار](#-automatic-serialization-to-formdata)
  - [ارسال فایل‌ها](#files-posting)
  - [ارسال فرم HTML](#-html-form-posting-browser)
  - [🆕 دریافت پیشرفت](#-progress-capturing)
  - [🆕 محدودسازی نرخ](#-progress-capturing)
  - [🆕 AxiosHeaders](#-axiosheaders)
  - [🔥 آداپتور Fetch](#-fetch-adapter)
  - [Semver](#semver)
  - [وعده‌ها](#promises)
  - [TypeScript](#typescript)
  - [منابع](#resources)
  - [اعتبارات](#credits)
  - [مجوز](#license)

## ویژگی‌ها

- ارسال [XMLHttpRequests](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest) از مرورگر
- ارسال درخواست‌های [http](https://nodejs.org/api/http.html) از node.js
- پشتیبانی از API [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)
- اینترسپت کردن درخواست و پاسخ
- تغییر داده‌های درخواست و پاسخ
- لغو درخواست‌ها
- تبدیل خودکار برای داده‌های [JSON](https://www.json.org/json-en.html)
- 🆕 سریال‌سازی خودکار اشیاء داده به انکدینگ‌های بدنه‌ی `multipart/form-data` و `x-www-form-urlencoded`
- پشتیبانی سمت کلاینت برای محافظت در برابر [XSRF](https://fa.wikipedia.org/wiki/%D8%AF%D8%B1%D8%AE%D9%88%D8%A7%D8%B3%D8%AA_%D8%AC%D8%B9%D9%84%DB%8C_%D8%A8%D8%B1%D8%A7%DB%8C_%D8%B3%D8%A7%DB%8C%D8%AA_%D9%87%D8%A7%DB%8C_%D9%85%D8%AE%D8%AA%D9%84%D9%81)

## پشتیبانی مرورگر

![Chrome](https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome_48x48.png) | ![Firefox](https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox_48x48.png) | ![Safari](https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari/safari_48x48.png) | ![Opera](https://raw.githubusercontent.com/alrra/browser-logos/main/src/opera/opera_48x48.png) | ![Edge](https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge_48x48.png) |
--- | --- | --- | --- | --- |
آخرین ✔ | آخرین ✔ | آخرین ✔ | آخرین ✔ | آخرین ✔ | ۱۱ ✔ |

[![Browser Matrix](https://saucelabs.com/open_sauce/build_matrix/axios.svg)](https://saucelabs.com/u/axios)

## نصب

### مدیر بسته

با استفاده از npm:

```bash
$ npm install axios
```

با استفاده از bower:

```bash
$ bower install axios
```

با استفاده از yarn:

```bash
$ yarn add axios
```

با استفاده از pnpm:

```bash
$ pnpm add axios
```

با استفاده از bun:

```bash
$ bun add axios
```

پس از نصب بسته، می‌توانید کتابخانه را با رویکرد `import` یا `require` وارد کنید:

```js
import axios, {isCancel, AxiosError} from 'axios';
```

همچنین می‌توانید از خروجی پیش‌فرض استفاده کنید، زیرا خروجی نام‌گذاری شده تنها یک بازصادرات از کارخانه Axios است:

```js
import axios from 'axios';

console.log(axios.isCancel('something'));
```

اگر برای وارد کردن از `require` استفاده می‌کنید، **فقط خروجی پیش‌فرض در دسترس است**:

```js
const axios = require('axios');

console.log(axios.isCancel('something'));
```

برای برخی بسته‌بندها و برخی لینترهای ES6 ممکن است نیاز به انجام کار زیر باشد:

```js
import { default as axios } from 'axios';
```

در مواردی که هنگام وارد کردن یک ماژول در محیط سفارشی یا قدیمی مشکلی پیش آمد،
می‌توانید سعی کنید بسته ماژول را به صورت مستقیم وارد کنید:

```js
const axios = require('axios/dist/browser/axios.cjs'); // باندل commonJS مرورگر (ES2017)
// const axios = require('axios/dist/node/axios.cjs'); // باندل commonJS نود (ES2017)
```

### CDN

با استفاده از CDN jsDelivr (ماژول مرورگر ES5 UMD):

```html
<script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
```

با استفاده از CDN unpkg:

```html
<script src="https://unpkg.com/axios@1.6.7/dist/axios.min.js"></script>
```

## مثال

> **توجه**: استفاده از CommonJS  
> برای دریافت تایپینگ‌های TypeScript (برای intellisense / autocomplete) هنگام استفاده از واردات CommonJS با `require()`، از رویکرد زیر استفاده کنید:
```js
import axios from 'axios';
//const axios = require('axios'); // روش قدیمی

// ارسال یک درخواست برای کاربری با شناسه مشخص
axios.get('/user?ID=12345')
  .then(function (response) {
    // مدیریت موفقیت
    console.log(response);
  })
  .catch(function (error) {
    // مدیریت خطا
    console.log(error);
  })
  .finally(function () {
    // همواره اجرا می‌شود
  });

// به طور اختیاری، درخواست بالا می‌تواند به صورت زیر نیز انجام شود
axios.get('/user', {
    params: {
      ID: 12345
    }
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  })
  .finally(function () {
    // همواره اجرا می‌شود
  });

// می‌خواهید از async/await استفاده کنید؟ کافیست کلیدواژه `async` را به تابع/متد بیرونی خود اضافه کنید.
async function getUser() {
  try {
    const response = await axios.get('/user?ID=12345');
    console.log(response);
  } catch (error) {
    console.error(error);
  }
}
```

> **توجه**: `async/await` بخشی از ECMAScript 2017 است و در Internet
> Explorer و مرورگرهای قدیمی‌تر پشتیبانی نمی‌شود، بنابراین با احتیاط استفاده کنید.

انجام یک درخواست `POST`

```js
axios.post('/user', {
    firstName: 'Fred',
    lastName: 'Flintstone'
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
```

انجام چندین درخواست همزمان

```js
function getUserAccount() {
  return axios.get('/user/12345');
}

function getUserPermissions() {
  return axios.get('/user/12345/permissions');
}

Promise.all([getUserAccount(), getUserPermissions()])
  .then(function (results) {
    const acct = results[0];
    const perm = results[1];
  });
```

## رابط برنامه‌نویسی axios

درخواست‌ها می‌توانند با ارسال پیکربندی مربوطه به `axios` انجام شوند.

##### axios(config)

```js
// ارسال یک درخواست POST
axios({
  method: 'post',
  url: '/user/12345',
  data: {
    firstName: 'Fred',
    lastName: 'Flintstone'
  }
});
```

```js
// ارسال درخواست GET برای تصویر راه دور در node.js
axios({
  method: 'get',
  url: 'https://bit.ly/2mTM3nY',
  responseType: 'stream'
})
  .then(function (response) {
    response.data.pipe(fs.createWriteStream('ada_lovelace.jpg'))
  });
```

##### axios(url[, config])

```js
// ارسال یک درخواست GET (متد پیش‌فرض)
axios('/user/12345');
```

### نام‌های مستعار روش‌های درخواست

برای راحتی، نام‌های مستعاری برای تمام روش‌های رایج درخواست فراهم شده است.

##### axios.request(config)
##### axios.get(url[, config])
##### axios.delete(url[, config])
##### axios.head(url[, config])
##### axios.options(url[, config])
##### axios.post(url[, data[, config]])
##### axios.put(url[, data[, config]])
##### axios.patch(url[, data[, config]])

###### توجه
هنگام استفاده از متدهای نام مستعار، خواص `url`، `method` و `data` نیازی به تعیین در config ندارند.

### همزمانی (منسوخ شده)
لطفاً از `Promise.all` برای جایگزینی توابع زیر استفاده کنید.

توابع کمکی برای کار با درخواست‌های همزمان.

axios.all(iterable)
axios.spread(callback)

### ایجاد یک نمونه

شما می‌توانید یک نمونه جدید از axios با پیکربندی سفارشی ایجاد کنید.

##### axios.create([config])

```js
const instance = axios.create({
  baseURL: 'https://some-domain.com/api/',
  timeout: 1000,
  headers: {'X-Custom-Header': 'foobar'}
});
```

### متدهای نمونه

متدهای قابل استفاده برای نمونه در زیر فهرست شده‌اند. پیکربندی تعیین شده با پیکربندی نمونه ترکیب خواهد شد.

##### axios#request(config)
##### axios#get(url[, config])
##### axios#delete(url[, config])
##### axios#head(url[, config])
##### axios#options(url[, config])
##### axios#post(url[, data[, config]])
##### axios#put(url[, data[, config]])
##### axios#patch(url[, data[, config]])
##### axios#getUri([config])

## پیکربندی درخواست

این‌ها گزینه‌های پیکربندی موجود برای ارسال درخواست هستند. فقط `url` الزامی است. اگر `method` مشخص نشده باشد، درخواست‌ها به طور پیش‌فرض `GET` خواهند بود.

```js
{
  // `url` آدرسی از سرور است که برای درخواست استفاده خواهد شد
  url: '/user',

  // `method` روشی است که هنگام ارسال درخواست استفاده خواهد شد
  method: 'get', // پیش‌فرض

  // `baseURL` به `url` اضافه خواهد شد مگر این که `url` مطلق بوده و گزینه `allowAbsoluteUrls` روی true باشد.
  // تنظیم `baseURL` برای یک نمونه از axios جهت ارسال آدرس‌های نسبی به متدهای آن نمونه می‌تواند مفید باشد.
  baseURL: 'https://some-domain.com/api/',

  // `allowAbsoluteUrls` تعیین می‌کند که آیا آدرس‌های مطلق می‌توانند بر `baseUrl` پیکربندی شده غلبه کنند یا خیر.
  // زمانی که روی true (پیش‌فرض) تنظیم شود، مقادیر مطلق برای `url` بر `baseUrl` غلبه می‌کنند.
  // زمانی که روی false تنظیم شود، مقادیر مطلق برای `url` همیشه با `baseUrl` شروع می‌شوند.
  allowAbsoluteUrls: true,

  // `transformRequest` اجازه می‌دهد که داده‌های درخواست قبل از ارسال به سرور تغییر داده شوند
  // این فقط برای روش‌های 'PUT'، 'POST'، 'PATCH' و 'DELETE' قابل اعمال است
  // آخرین تابع در آرایه باید یک رشته یا نمونه‌ای از Buffer، ArrayBuffer،
  // FormData یا Stream را بازگرداند
  // شما می‌توانید شیء headers را تغییر دهید.
  transformRequest: [function (data, headers) {
    // هر کاری که می‌خواهید برای تغییر داده‌ها انجام دهید
```
```markdown
    return data;
  }],

  // `transformResponse` به شما اجازه می‌دهد تا تغییراتی روی داده‌های پاسخ قبل از
  // ارسال به then/catch اعمال کنید
  transformResponse: [function (data) {
    // هر کاری که می‌خواهید برای تبدیل داده انجام دهید

    return data;
  }],

  // `headers` هدرهای سفارشی هستند که باید ارسال شوند
  headers: {'X-Requested-With': 'XMLHttpRequest'},

  // `params` پارامترهای URL هستند که باید با درخواست ارسال شوند
  // باید یک شی ساده یا یک شی URLSearchParams باشد
  params: {
    ID: 12345
  },
  
  // `paramsSerializer` یک تنظیم اختیاری است که به شما اجازه می‌دهد سریال‌سازی `params` را شخصی‌سازی کنید. 
  paramsSerializer: {

    // تابع رمزگذار سفارشی که جفت کلید/مقدار را به صورت تکراری ارسال می‌کند.
    encode?: (param: string): string => { /* عملیات سفارشی را اینجا انجام داده و رشته تبدیل شده را بازگردانید */ }, 
    
    // تابع سریالایزر سفارشی برای کل پارامترها. به کاربر اجازه می‌دهد رفتار نسخه‌های قبل از 1.x را شبیه‌سازی کند.
    serialize?: (params: Record<string, any>, options?: ParamsSerializerOptions ), 
    
    // تنظیمات برای قالب‌بندی اندیس‌های آرایه در پارامترها.
    indexes: false // سه گزینه موجود است: (1) indexes: null (بدون کروشه)، (2) (پیش‌فرض) indexes: false (کروشه خالی)، (3) indexes: true (کروشه با اندیس).    
  },

  // `data` داده‌هایی است که باید به عنوان بدنه درخواست ارسال شود
  // فقط برای متدهای درخواست 'PUT'، 'POST'، 'DELETE' و 'PATCH' قابل استفاده است
  // زمانی که `transformRequest` تعیین نشده باشد، باید یکی از انواع زیر باشد:
  // - رشته، شی ساده، ArrayBuffer، ArrayBufferView، URLSearchParams
  // - فقط مرورگر: FormData، File، Blob
  // - فقط Node: Stream، Buffer، FormData (بسته form-data)
  data: {
    firstName: 'Fred'
  },

  // نحوه نوشتار جایگزین برای ارسال داده در بدنه
  // متد post
  // فقط مقدار ارسال می‌شود، نه کلید
  data: 'Country=Brasil&City=Belo Horizonte',

  // `timeout` تعداد میلی‌ثانیه قبل از تایم‌اوت شدن درخواست را مشخص می‌کند.
  // اگر درخواست بیشتر از `timeout` طول بکشد، قطع خواهد شد.
  timeout: 1000, // پیش‌فرض `0` (بدون تایم‌اوت)

  // `withCredentials` نشان می‌دهد که آیا درخواست‌های کنترل دسترسی بین سایت‌ها
  // باید با احراز هویت ارسال شوند یا خیر
  withCredentials: false, // پیش‌فرض

  // `adapter` اجازه می‌دهد تا مدیریت سفارشی درخواست‌ها را انجام دهید که تست کردن را ساده‌تر می‌کند.
  // یک Promise بازگردانید و یک پاسخ معتبر ارائه دهید (به lib/adapters/README.md مراجعه کنید)
  adapter: function (config) {
    /* ... */
  },
  // همچنین می‌توانید نام آداپتور داخلی را تعیین کنید یا آرایه‌ای از نام‌ها را ارائه دهید
  // تا اولین مورد در محیط انتخاب شود
  adapter: 'xhr', // 'fetch' | 'http' | ['xhr', 'http', 'fetch']

  // `auth` نشان می‌دهد که باید از احراز هویت پایه HTTP استفاده شود و اطلاعات ورود را فراهم می‌کند.
  // این یک هدر `Authorization` تنظیم می‌کند و هر هدر سفارشی موجود با همین نام را بازنویسی می‌کند.
  // توجه داشته باشید که فقط احراز هویت پایه HTTP از این طریق قابل تنظیم است.
  // برای توکن‌های Bearer و موارد مشابه، از هدر سفارشی `Authorization` استفاده کنید.
  auth: {
    username: 'janedoe',
    password: 's00pers3cret'
  },

  // `responseType` نوع داده‌ای که سرور پاسخ خواهد داد را مشخص می‌کند
  // گزینه‌ها: 'arraybuffer'، 'document'، 'json'، 'text'، 'stream'
  //   فقط مرورگر: 'blob'
  responseType: 'json', // پیش‌فرض

  // `responseEncoding` رمزگذاری مورد استفاده برای رمزگشایی پاسخ‌ها را مشخص می‌کند (فقط Node.js)
  // توجه: برای `responseType` برابر با 'stream' یا درخواست‌های سمت کلاینت نادیده گرفته می‌شود
  // گزینه‌ها: 'ascii'، 'ASCII'، 'ansi'، 'ANSI'، 'binary'، 'BINARY'، 'base64'، 'BASE64'، 'base64url',
  // 'BASE64URL'، 'hex'، 'HEX'، 'latin1'، 'LATIN1'، 'ucs-2'، 'UCS-2'، 'ucs2'، 'UCS2'، 'utf-8'، 'UTF-8',
  // 'utf8'، 'UTF8'، 'utf16le'، 'UTF16LE'
  responseEncoding: 'utf8', // پیش‌فرض

  // `xsrfCookieName` نام کوکی است که به عنوان مقدار توکن xsrf استفاده می‌شود
  xsrfCookieName: 'XSRF-TOKEN', // پیش‌فرض

  // `xsrfHeaderName` نام هدر http است که مقدار توکن xsrf را حمل می‌کند
  xsrfHeaderName: 'X-XSRF-TOKEN', // پیش‌فرض
    
  // `undefined` (پیش‌فرض) - هدر XSRF فقط برای درخواست‌های هم‌مبدا تنظیم می‌شود
  withXSRFToken: boolean | undefined | ((config: InternalAxiosRequestConfig) => boolean | undefined),

  // `onUploadProgress` امکان مدیریت رویدادهای پیشرفت بارگذاری را فراهم می‌کند
  // مرورگر و node.js
  onUploadProgress: function ({loaded, total, progress, bytes, estimated, rate, upload = true}) {
```
```markdown
    // هر کاری که می‌خواهید با رویداد پیشرفت Axios انجام دهید
  },

  // `onDownloadProgress` اجازه می‌دهد تا رویدادهای پیشرفت برای دانلودها مدیریت شود
  // مرورگر و node.js
  onDownloadProgress: function ({loaded, total, progress, bytes, estimated, rate, download = true}) {
    // هر کاری که می‌خواهید با رویداد پیشرفت Axios انجام دهید
  },

  // `maxContentLength` حداکثر اندازه مجاز محتوای پاسخ http را به بایت در node.js تعریف می‌کند
  maxContentLength: 2000,

  // `maxBodyLength` (فقط گزینه Node) حداکثر اندازه مجاز محتوای درخواست http را به بایت تعریف می‌کند
  maxBodyLength: 2000,

  // `validateStatus` تعیین می‌کند که آیا پرومیس برای یک کد وضعیت
  // پاسخ HTTP مشخص حل یا رد شود. اگر `validateStatus` مقدار `true` را برگرداند
  // (یا مقدار آن برابر با `null` یا `undefined` باشد)، پرومیس حل خواهد شد؛
  // در غیر این صورت، پرومیس رد خواهد شد.
  validateStatus: function (status) {
    return status >= 200 && status < 300; // پیش‌فرض
  },

  // `maxRedirects` حداکثر تعداد ریدایرکت‌هایی که باید در node.js دنبال شوند را تعریف می‌کند.
  // اگر مقدار آن 0 باشد، هیچ ریدایرکتی دنبال نخواهد شد.
  maxRedirects: 21, // پیش‌فرض

  // `beforeRedirect` تابعی تعریف می‌کند که قبل از ریدایرکت فراخوانی می‌شود.
  // از این تابع برای تنظیم گزینه‌های درخواست هنگام ریدایرکت،
  // بررسی آخرین هدرهای پاسخ،
  // یا لغو درخواست با پرتاب یک خطا استفاده کنید.
  // اگر maxRedirects برابر با 0 باشد، `beforeRedirect` استفاده نمی‌شود.
  beforeRedirect: (options, { headers }) => {
    if (options.hostname === "example.com") {
      options.auth = "user:password";
    }
  },

  // `socketPath` یک سوکت یونیکس را که باید در node.js استفاده شود تعریف می‌کند.
  // به عنوان مثال '/var/run/docker.sock' برای ارسال درخواست به دیمون داکر.
  // فقط یکی از `socketPath` یا `proxy` می‌تواند مشخص شود.
  // اگر هر دو مشخص شوند، `socketPath` استفاده می‌شود.
  socketPath: null, // پیش‌فرض
  
  // `transport` روش انتقالی را که برای انجام درخواست استفاده می‌شود تعیین می‌کند.
  // اگر تعریف شود، استفاده خواهد شد. در غیر این صورت، اگر `maxRedirects` برابر با 0 باشد،
  // کتابخانه پیش‌فرض `http` یا `https` استفاده خواهد شد، بسته به پروتکل مشخص‌شده در `protocol`.
  // در غیر این صورت، کتابخانه `httpFollow` یا `httpsFollow` استفاده خواهد شد، باز هم بر اساس پروتکل،
  // که می‌تواند ریدایرکت‌ها را مدیریت کند.
  transport: undefined, // پیش‌فرض

  // `httpAgent` و `httpsAgent` یک عامل سفارشی را برای درخواست‌های http
  // و https به ترتیب در node.js تعریف می‌کنند. این اجازه می‌دهد گزینه‌هایی مانند
  // `keepAlive` اضافه شود که به طور پیش‌فرض قبل از Node.js v19.0.0 فعال نیست. پس از Node.js
  // v19.0.0، دیگر نیازی به سفارشی‌سازی عامل برای فعال‌سازی `keepAlive` ندارید زیرا
  // `http.globalAgent` به طور پیش‌فرض `keepAlive` را فعال دارد.
  httpAgent: new http.Agent({ keepAlive: true }),
  httpsAgent: new https.Agent({ keepAlive: true }),

  // `proxy` نام میزبان، پورت و پروتکل سرور پراکسی را تعریف می‌کند.
  // همچنین می‌توانید پراکسی خود را با استفاده از متغیرهای محیطی معمول `http_proxy` و
  // `https_proxy` تعریف کنید. اگر از متغیرهای محیطی برای پیکربندی پراکسی خود استفاده می‌کنید،
  // می‌توانید یک متغیر محیطی `no_proxy` نیز به عنوان لیستی از دامنه‌هایی که نباید پراکسی شوند، تعریف کنید.
  // برای غیرفعال کردن پراکسی و نادیده گرفتن متغیرهای محیطی از مقدار `false` استفاده کنید.
  // `auth` نشان می‌دهد که احراز هویت پایه HTTP برای اتصال به پراکسی استفاده شود و
  // اطلاعات ورود را فراهم می‌کند.
  // این کار یک هدر `Proxy-Authorization` تنظیم می‌کند و هر هدر سفارشی
  // `Proxy-Authorization` که با استفاده از `headers` تعیین کرده‌اید را بازنویسی می‌کند.
  // اگر سرور پراکسی از HTTPS استفاده می‌کند، باید پروتکل را روی `https` تنظیم کنید.
  proxy: {
    protocol: 'https',
    host: '127.0.0.1',
    // hostname: '127.0.0.1' // اگر هر دو تعریف شده باشند، بر 'host' اولویت دارد
    port: 9000,
    auth: {
      username: 'mikeymike',
      password: 'rapunz3l'
    }
  },

  // `cancelToken` یک توکن لغو را مشخص می‌کند که می‌تواند برای لغو درخواست استفاده شود
  // (برای جزئیات به بخش لغو مراجعه کنید)
  cancelToken: new CancelToken(function (cancel) {
  }),

  // یک روش جایگزین برای لغو درخواست‌های Axios با استفاده از AbortController
  signal: new AbortController().signal,

  // `decompress` مشخص می‌کند که آیا بدنه پاسخ باید به طور خودکار از حالت فشرده خارج شود یا نه.
  // اگر مقدار آن `true` باشد، هدر 'content-encoding' را نیز از اشیای پاسخ‌های خارج‌شده از حالت فشرده حذف خواهد کرد
  // - فقط Node (XHR نمی‌تواند فشرده‌زدایی را خاموش کند)
  decompress: true, // پیش‌فرض

  // `insecureHTTPParser` بولین.
  // مشخص می‌کند که آیا باید از یک تجزیه‌گر HTTP ناامن که هدرهای HTTP نامعتبر را می‌پذیرد استفاده شود یا نه.
  // این کار ممکن است باعث همکاری با پیاده‌سازی‌های ناسازگار HTTP شود.
  // استفاده از تجزیه‌گر ناامن باید اجتناب شود.
  // گزینه‌ها را در https://nodejs.org/dist/latest-v12.x/docs/api/http.html#http_http_request_url_options_callback ببینید
```
```js
// همچنین مراجعه کنید به https://nodejs.org/en/blog/vulnerability/february-2020-security-releases/#strict-http-header-parsing-none
insecureHTTPParser: undefined, // مقدار پیش‌فرض

// گزینه‌های انتقالی برای سازگاری با نسخه‌های قدیمی که ممکن است در نسخه‌های جدیدتر حذف شوند
transitional: {
  // حالت تجزیه بی‌صدای JSON
  // `true`  - خطاهای تجزیه JSON را نادیده بگیر و در صورت شکست، response.data را برابر null قرار بده (رفتار قدیمی)
  // `false` - اگر تجزیه JSON شکست بخورد، SyntaxError پرتاب کن (توجه: باید responseType روی 'json' تنظیم شده باشد)
  silentJSONParsing: true, // مقدار پیش‌فرض برای نسخه فعلی Axios

  // تلاش برای تجزیه رشته پاسخ به عنوان JSON حتی اگر `responseType` روی 'json' نباشد
  forcedJSONParsing: true,

  // به جای خطای عمومی ECONNABORTED، خطای ETIMEDOUT را هنگام پایان زمان درخواست پرتاب کن
  clarifyTimeoutError: false,
},

env: {
  // کلاسی که برای سریال‌سازی خودکار payload به شی FormData استفاده می‌شود
  FormData: window?.FormData || global?.FormData
},

formSerializer: {
    visitor: (value, key, path, helpers) => {}, // تابع ویزیتور سفارشی برای سریال‌سازی مقادیر فرم
    dots: boolean; // استفاده از نقطه به جای فرمت براکت
    metaTokens: boolean; // نگه داشتن پایان‌های خاص مانند {} در کلید پارامتر
    indexes: boolean; // فرمت اندیس آرایه null - بدون براکت، false - براکت خالی، true - براکت با اندیس‌ها
},

// فقط برای آداپتور http (node.js)
maxRate: [
  100 * 1024, // محدودیت آپلود 100 کیلوبایت بر ثانیه،
  100 * 1024  // محدودیت دانلود 100 کیلوبایت بر ثانیه
]
}
```

## ساختار پاسخ (Response Schema)

پاسخ یک درخواست شامل اطلاعات زیر است.

```js
{
  // `data` پاسخی است که توسط سرور ارائه شده است
  data: {},

  // `status` کد وضعیت HTTP از پاسخ سرور است
  status: 200,

  // `statusText` پیام وضعیت HTTP از پاسخ سرور است
  statusText: 'OK',

  // `headers` هدرهای HTTP هستند که سرور با آن‌ها پاسخ داده است
  // همه نام‌های هدر با حروف کوچک هستند و می‌توان با نماد براکت به آن‌ها دسترسی داشت.
  // مثال: `response.headers['content-type']`
  headers: {},

  // `config` پیکربندی است که به `axios` برای درخواست داده شده است
  config: {},

  // `request` درخواستی است که این پاسخ را تولید کرده است
  // آخرین نمونه ClientRequest در node.js (در ریدایرکت‌ها)
  // و یک نمونه XMLHttpRequest در مرورگر است
  request: {}
}
```

هنگام استفاده از `then`، پاسخ را به صورت زیر دریافت خواهید کرد:

```js
axios.get('/user/12345')
  .then(function (response) {
    console.log(response.data);
    console.log(response.status);
    console.log(response.statusText);
    console.log(response.headers);
    console.log(response.config);
  });
```

هنگام استفاده از `catch` یا ارسال یک [کال‌بک رد شدن](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then) به عنوان پارامتر دوم `then`، پاسخ از طریق شیء `error` همانطور که در بخش [مدیریت خطاها](#handling-errors) توضیح داده شده، در دسترس خواهد بود.

## مقادیر پیش‌فرض پیکربندی (Config Defaults)

شما می‌توانید مقادیر پیش‌فرض پیکربندی را مشخص کنید که برای هر درخواست اعمال می‌شوند.

### پیش‌فرض‌های سراسری axios

```js
axios.defaults.baseURL = 'https://api.example.com';

// مهم: اگر axios با چندین دامنه استفاده شود، AUTH_TOKEN به همه آن‌ها ارسال خواهد شد.
// برای مثال استفاده از پیش‌فرض‌های نمونه سفارشی به مثال زیر مراجعه کنید.
axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;

axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';
```

### پیش‌فرض‌های نمونه سفارشی
```
```js
// تنظیم مقادیر پیش‌فرض کانفیگ هنگام ساخت نمونه
const instance = axios.create({
  baseURL: 'https://api.example.com'
});

// تغییر مقادیر پیش‌فرض پس از ایجاد نمونه
instance.defaults.headers.common['Authorization'] = AUTH_TOKEN;
```

### ترتیب اولویت کانفیگ

کانفیگ با ترتیب اولویت ادغام می‌شود. ترتیب به این صورت است: مقادیر پیش‌فرض کتابخانه که در [lib/defaults/index.js](https://github.com/axios/axios/blob/main/lib/defaults/index.js#L49) یافت می‌شود، سپس ویژگی `defaults` از نمونه، و در نهایت آرگومان `config` برای درخواست. مورد آخر نسبت به قبلی‌ها اولویت خواهد داشت. در اینجا یک مثال آورده شده است.

```js
// ایجاد یک نمونه با استفاده از مقادیر پیش‌فرض کانفیگ ارائه‌شده توسط کتابخانه
// در این لحظه مقدار کانفیگ timeout برابر با `0` است که مقدار پیش‌فرض کتابخانه می‌باشد
const instance = axios.create();

// بازنویسی مقدار پیش‌فرض timeout برای کتابخانه
// اکنون همه درخواست‌هایی که از این نمونه استفاده می‌کنند، قبل از تایم‌اوت ۲.۵ ثانیه صبر خواهند کرد
instance.defaults.timeout = 2500;

// بازنویسی مقدار تایم‌اوت برای این درخواست خاص که می‌دانیم مدت‌زمان زیادی طول می‌کشد
instance.get('/longRequest', {
  timeout: 5000
});
```

## اینترسپتور‌ها (Interceptors)

شما می‌توانید درخواست‌ها یا پاسخ‌ها را قبل از این که توسط `then` یا `catch` مدیریت شوند، رهگیری (intercept) کنید.

```js

const instance = axios.create();

// افزودن یک اینترسپتور درخواست
instance.interceptors.request.use(function (config) {
    // انجام کاری قبل از ارسال درخواست
    return config;
  }, function (error) {
    // انجام کاری هنگام بروز خطا در درخواست
    return Promise.reject(error);
  });

// افزودن یک اینترسپتور پاسخ
instance.interceptors.response.use(function (response) {
    // هر کد وضعیتی که در بازه 2xx باشد باعث فعال شدن این تابع می‌شود
    // انجام کاری با داده‌های پاسخ
    return response;
  }, function (error) {
    // هر کد وضعیتی که خارج از بازه 2xx باشد باعث فعال شدن این تابع می‌شود
    // انجام کاری هنگام بروز خطا در پاسخ
    return Promise.reject(error);
  });
```

اگر نیاز داشتید بعداً یک اینترسپتور را حذف کنید، می‌توانید این کار را انجام دهید.

```js
const instance = axios.create();
const myInterceptor = instance.interceptors.request.use(function () {/*...*/});
axios.interceptors.request.eject(myInterceptor);
```

شما همچنین می‌توانید همه اینترسپتورهای درخواست یا پاسخ را پاک کنید.
```js
const instance = axios.create();
instance.interceptors.request.use(function () {/*...*/});
instance.interceptors.request.clear(); // حذف اینترسپتورهای درخواست
instance.interceptors.response.use(function () {/*...*/});
instance.interceptors.response.clear(); // حذف اینترسپتورهای پاسخ
```

شما می‌توانید اینترسپتورها را به نمونه سفارشی axios اضافه کنید.

```js
const instance = axios.create();
instance.interceptors.request.use(function () {/*...*/});
```

وقتی که اینترسپتورهای درخواست را اضافه می‌کنید، به طور پیش‌فرض فرض می‌شود که آن‌ها ناهمزمان (asynchronous) هستند. این می‌تواند باعث تاخیر
در اجرای درخواست axios شما شود زمانی که رشته اصلی (main thread) مسدود شده باشد (یک پرامیس به صورت داخلی برای
اینترسپتور ایجاد می‌شود و درخواست شما به انتهای پشته فراخوانی (call stack) می‌رود). اگر اینترسپتورهای درخواست شما همزمان (synchronous) هستند، می‌توانید یک پرچم (flag)
به شیء گزینه‌ها اضافه کنید تا به axios بگویید کد را به صورت همزمان اجرا کند و از هرگونه تاخیر در اجرای درخواست جلوگیری کند.

```js
axios.interceptors.request.use(function (config) {
  config.headers.test = 'I am only a header!';
  return config;
}, null, { synchronous: true });
```

اگر می‌خواهید یک اینترسپتور خاص را بر اساس بررسی در زمان اجرا (runtime check) اجرا کنید،
می‌توانید یک تابع `runWhen` به شیء گزینه‌ها اضافه کنید. اینترسپتور درخواست **در صورتی و فقط در صورتی** اجرا نمی‌شود که مقدار بازگشتی
`runWhen` برابر با `false` باشد. این تابع با شیء کانفیگ فراخوانی می‌شود (فراموش نکنید که می‌توانید آرگومان‌های خودتان را هم به آن bind کنید). این می‌تواند زمانی مفید باشد که
یک اینترسپتور درخواست ناهمزمان دارید که فقط در شرایط خاصی باید اجرا شود.
```
```js
function onGetCall(config) {
  return config.method === 'get';
}
axios.interceptors.request.use(function (config) {
  config.headers.test = 'special get headers';
  return config;
}, null, { runWhen: onGetCall });
```

> **توجه:** پارامتر options (که شامل ویژگی‌های `synchronous` و `runWhen` است) در حال حاضر فقط برای اینترسپتورهای درخواست پشتیبانی می‌شود.

### اینترسپتورهای چندگانه

اگر چندین اینترسپتور پاسخ اضافه کنید
و زمانی که پاسخ دریافت شد
- هر اینترسپتور اجرا می‌شود
- به ترتیبی که افزوده شده‌اند اجرا می‌شوند
- فقط نتیجه آخرین اینترسپتور بازگردانده می‌شود
- هر اینترسپتور نتیجه اینترسپتور قبلی را دریافت می‌کند
- و اگر اینترسپتور برآورده‌کننده خطا دهد
    - اینترسپتور برآورده‌کننده بعدی فراخوانی نمی‌شود
    - اینترسپتور ردکننده بعدی فراخوانی می‌شود
    - پس از گرفتن خطا، مجدداً اینترسپتور برآورده‌کننده بعدی فراخوانی می‌شود (مشابه زنجیره promise).

برای مشاهده کد مربوط به این موارد، [تست‌های اینترسپتور](https://raw.githubusercontent.com/axios/axios/v1.x/./test/specs/interceptors.spec.js) را مطالعه کنید.

## انواع خطا

خطاهای مختلفی در axios وجود دارد که اطلاعات پایه‌ای درباره جزئیات خطا و فرصت‌های اشکال‌زدایی ارائه می‌کنند.

ساختار کلی خطاهای axios به صورت زیر است:
| ویژگی    | تعریف  |
| -------- | ----------  |
| message  | خلاصه‌ای سریع از پیام خطا و وضعیت شکست. |
| name     | منبع ایجاد خطا را تعریف می‌کند. برای axios همیشه 'AxiosError' خواهد بود. |
| stack    | ردپای پشته (stack trace) خطا را فراهم می‌کند. | 
| config   | شیء پیکربندی axios با تنظیمات خاص نمونه که توسط کاربر هنگام ارسال درخواست تعیین شده است. |
| code     | نمایانگر کد خطای شناسایی‌شده توسط axios است. جدول زیر تعاریف خاص برای خطاهای داخلی axios را فهرست کرده است. |
| status   | کد وضعیت پاسخ HTTP. برای معانی رایج کدهای وضعیت HTTP [اینجا](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes) را ببینید. 

در زیر لیستی از خطاهای احتمالی شناسایی‌شده توسط axios آمده است:

| کد                        | تعریف                                                                                                                                                                                                                                                                                                                                                 |
| --- | --- |
| ERR_BAD_OPTION_VALUE      | مقدار نامعتبر در پیکربندی axios ارائه شده است.                                                                                                                                                                                                                                                                                                       |
| ERR_BAD_OPTION            | گزینه نامعتبر در پیکربندی axios ارائه شده است.                                                                                                                                                                                                                                                                                                       |
| ERR_NOT_SUPPORT           | ویژگی یا متد در محیط فعلی axios پشتیبانی نمی‌شود.                                                                                                                                                                                                                                                                                                    |
| ERR_DEPRECATED            | ویژگی یا متد منسوخ‌شده در axios استفاده شده است.                                                                                                                                                                                                                                                              |
| ERR_INVALID_URL           | URL نامعتبر برای درخواست axios ارائه شده است.                                                                                                                                                                                                                                                                                                        |
| ECONNABORTED              | معمولاً نشان‌دهنده این است که درخواست به دلیل اتمام زمان (مگر اینکه `transitional.clarifyTimeoutError` تنظیم شده باشد) یا توسط مرورگر یا افزونه آن لغو شده است.                                                                                                                                                                                     |
| ERR_CANCELED              | ویژگی یا متد به طور صریح توسط کاربر با استفاده از AbortSignal (یا CancelToken) لغو شده است.                                                                                                                                                                                                                                                           |
| ETIMEDOUT                 | درخواست به دلیل عبور از محدودیت زمانی پیش‌فرض axios منقضی شده است. باید `transitional.clarifyTimeoutError` روی `true` تنظیم شود، در غیر این صورت یک خطای کلی `ECONNABORTED` پرتاب خواهد شد.                                                                                                                   |
| ERR_NETWORK               | مشکل مرتبط با شبکه. در مرورگر، این خطا می‌تواند توسط خط‌مشی [CORS](https://developer.mozilla.org/ru/docs/Web/HTTP/Guides/CORS) یا [Mixed Content](https://developer.mozilla.org/en-US/docs/Web/Security/Mixed_content) نیز ایجاد شود. مرورگر اجازه نمی‌دهد کد JS دلیل واقعی خطاهای امنیتی را مشخص کند، بنابراین کنسول را بررسی کنید. |
| ERR_FR_TOO_MANY_REDIRECTS | درخواست بیش از حد مجاز تغییر مسیر داده شده است؛ از حداکثر تعداد تغییر مسیر تعیین‌شده در پیکربندی axios فراتر رفته است.                                                                                                                                                                                      |
| ERR_BAD_RESPONSE          | پاسخ به درستی قابل تجزیه نیست یا قالب غیرمنتظره دارد. معمولاً مربوط به پاسخ با کد وضعیت `5xx` است.                                                                                                                                                                                                            |
| ERR_BAD_REQUEST           | درخواست قالب غیرمنتظره دارد یا پارامترهای مورد نیاز را ندارد. معمولاً مربوط به پاسخ با کد وضعیت `4xx` است.                                                                                                                                                                                                    |

## مدیریت خطاها

رفتار پیش‌فرض این است که هر پاسخی که با کد وضعیت خارج از بازه 2xx بازمی‌گردد را رد کرده و به عنوان خطا در نظر بگیرد.

```js
axios.get('/user/12345')
  .catch(function (error) {
    if (error.response) {
      // درخواست ارسال شده و سرور با یک کد وضعیت که خارج از بازه 2xx است پاسخ داده است
      console.log(error.response.data);
      console.log(error.response.status);
      console.log(error.response.headers);
    } else if (error.request) {
      // درخواست ارسال شده اما پاسخی دریافت نشده است
      // `error.request` در مرورگر نمونه‌ای از XMLHttpRequest و در node.js نمونه‌ای از http.ClientRequest است
      console.log(error.request);
    } else {
      // در هنگام آماده‌سازی درخواست، خطایی رخ داده است
      console.log('Error', error.message);
    }
    console.log(error.config);
  });
```

با استفاده از گزینه پیکربندی `validateStatus`، می‌توانید شرط پیش‌فرض (status >= 200 && status < 300) را بازنویسی کنید و کد(های) HTTP که باید خطا پرتاب کند را تعریف نمایید.

```js
axios.get('/user/12345', {
  validateStatus: function (status) {
    return status < 500; // فقط اگر کد وضعیت کمتر از 500 باشد resolve می‌شود
  }
})
```

با استفاده از `toJSON`، یک شیء با اطلاعات بیشتر درباره خطای HTTP دریافت می‌کنید.

```js
axios.get('/user/12345')
  .catch(function (error) {
    console.log(error.toJSON());
```
```markdown
  });
```

## لغو کردن درخواست

### AbortController

از نسخه `v0.22.0`، آکسیوس از AbortController برای لغو درخواست‌ها به سبک fetch API پشتیبانی می‌کند:

```js
const controller = new AbortController();

axios.get('/foo/bar', {
   signal: controller.signal
}).then(function(response) {
   //...
});
// لغو درخواست
controller.abort()
```

### CancelToken `👎منسوخ شده`

شما همچنین می‌توانید با استفاده از *CancelToken* یک درخواست را لغو کنید.

> API توکن لغو آکسیوس بر اساس [پیشنهاد لغو وعده‌ها](https://github.com/tc39/proposal-cancelable-promises) که کنار گذاشته شده است، ساخته شده است.

> این API از نسخه v0.22.0 منسوخ شده و نباید در پروژه‌های جدید استفاده شود.

می‌توانید یک توکن لغو با استفاده از تابع سازنده `CancelToken.source` به صورت زیر ایجاد کنید:

```js
const CancelToken = axios.CancelToken;
const source = CancelToken.source();

axios.get('/user/12345', {
  cancelToken: source.token
}).catch(function (thrown) {
  if (axios.isCancel(thrown)) {
    console.log('درخواست لغو شد', thrown.message);
  } else {
    // مدیریت خطا
  }
});

axios.post('/user/12345', {
  name: 'new name'
}, {
  cancelToken: source.token
})

// لغو درخواست (پارامتر پیام اختیاری است)
source.cancel('عملیات توسط کاربر لغو شد.');
```

همچنین می‌توانید با ارسال یک تابع اجرایی به سازنده `CancelToken` یک توکن لغو ایجاد کنید:

```js
const CancelToken = axios.CancelToken;
let cancel;

axios.get('/user/12345', {
  cancelToken: new CancelToken(function executor(c) {
    // تابع اجرایی یک تابع لغو به عنوان پارامتر دریافت می‌کند
    cancel = c;
  })
});

// لغو درخواست
cancel();
```

> **نکته:** شما می‌توانید چندین درخواست را با یک توکن لغو/AbortController یکسان لغو کنید.
> اگر یک توکن لغو در لحظه شروع درخواست آکسیوس قبلاً لغو شده باشد، درخواست بلافاصله لغو می‌شود و هیچ تلاشی برای ارسال درخواست واقعی صورت نمی‌گیرد.

> در دوره گذار، می‌توانید هر دو API لغو را حتی برای یک درخواست واحد استفاده کنید:

## استفاده از فرمت `application/x-www-form-urlencoded`

### URLSearchParams

به طور پیش‌فرض، آکسیوس اشیاء جاوااسکریپت را به `JSON` سریالایز می‌کند. برای ارسال داده‌ها در قالب [`application/x-www-form-urlencoded`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST)، می‌توانید از API [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) استفاده کنید که در اکثر مرورگرها [پشتیبانی می‌شود](http://www.caniuse.com/#feat=urlsearchparams) و در [Node](https://nodejs.org/api/url.html#url_class_urlsearchparams) از نسخه 10 به بعد (انتشار در 2018) نیز موجود است.

```js
const params = new URLSearchParams({ foo: 'bar' });
params.append('extraparam', 'value');
axios.post('/foo', params);
```

### رشته کوئری (مرورگرهای قدیمی‌تر)

برای سازگاری با مرورگرهای بسیار قدیمی، یک [polyfill](https://github.com/WebReflection/url-search-params) در دسترس است (حتماً محیط سراسری را polyfill کنید).

همچنین می‌توانید داده‌ها را با استفاده از کتابخانه [`qs`](https://github.com/ljharb/qs) رمزگذاری کنید:

```js
const qs = require('qs');
axios.post('/foo', qs.stringify({ 'bar': 123 }));
```
```
یا به روش دیگر (ES6)،

```js
import qs from 'qs';
const data = { 'bar': 123 };
const options = {
  method: 'POST',
  headers: { 'content-type': 'application/x-www-form-urlencoded' },
  data: qs.stringify(data),
  url,
};
axios(options);
```

### نسخه‌های قدیمی‌تر Node.js

برای موتورهای قدیمی‌تر Node.js، می‌توانید از ماژول [`querystring`](https://nodejs.org/api/querystring.html) به شکل زیر استفاده کنید:

```js
const querystring = require('querystring');
axios.post('https://something.com/', querystring.stringify({ foo: 'bar' }));
```

همچنین می‌توانید از کتابخانه [`qs`](https://github.com/ljharb/qs) استفاده کنید.

> **نکته**: اگر نیاز به تبدیل آبجکت‌های تو در تو به رشته دارید، استفاده از کتابخانه `qs` پیشنهاد می‌شود، زیرا متد `querystring` در این کاربرد [مشکلات شناخته‌شده‌ای](https://github.com/nodejs/node-v0.x-archive/issues/1665) دارد.

### 🆕 سریال‌سازی خودکار به URLSearchParams

اگر هدر content-type برابر با "application/x-www-form-urlencoded" تنظیم شده باشد، Axios به صورت خودکار شیء داده را به فرمت urlencoded سریال‌سازی می‌کند.

```js
const data = {
  x: 1,
  arr: [1, 2, 3],
  arr2: [1, [2], 3],
  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],
};

await axios.postForm('https://postman-echo.com/post', data,
  {headers: {'content-type': 'application/x-www-form-urlencoded'}}
);
```

سرور داده را به این صورت دریافت می‌کند:

```js
  {
    x: '1',
    'arr[]': [ '1', '2', '3' ],
    'arr2[0]': '1',
    'arr2[1][0]': '2',
    'arr2[2]': '3',
    'arr3[]': [ '1', '2', '3' ],
    'users[0][name]': 'Peter',
    'users[0][surname]': 'griffin',
    'users[1][name]': 'Thomas',
    'users[1][surname]': 'Anderson'
  }
```

اگر body-parser بک‌اند شما (مانند `body-parser` در `express.js`) از رمزگشایی آبجکت‌های تو در تو پشتیبانی کند، همان شیء را به صورت خودکار در سمت سرور دریافت خواهید کرد.

```js
  var app = express();

  app.use(bodyParser.urlencoded({ extended: true })); // پشتیبانی از بدنه‌های کدگذاری‌شده

  app.post('/', function (req, res, next) {
     // اکو کردن بدنه به صورت JSON
     res.send(JSON.stringify(req.body));
  });

  server = app.listen(3000);
```

## استفاده از فرمت `multipart/form-data`

### FormData

برای ارسال داده به صورت `multipart/formdata` باید یک نمونه formData را به عنوان payload ارسال کنید.
تنظیم هدر `Content-Type` الزامی نیست زیرا Axios آن را براساس نوع payload حدس می‌زند.

```js
const formData = new FormData();
formData.append('foo', 'bar');

axios.post('https://httpbin.org/post', formData);
```

در node.js می‌توانید از کتابخانه [`form-data`](https://github.com/form-data/form-data) به شکل زیر استفاده کنید:

```js
const FormData = require('form-data');

const form = new FormData();
form.append('my_field', 'my value');
form.append('my_buffer', new Buffer(10));
form.append('my_file', fs.createReadStream('/foo/bar.jpg'));
```
axios.post('https://example.com', form)
```

### 🆕 سریال‌سازی خودکار به FormData

از نسخه `v0.27.0`، Axios از سریال‌سازی خودکار شیء به یک شیء FormData پشتیبانی می‌کند اگر هدر درخواست `Content-Type`
بر روی `multipart/form-data` تنظیم شده باشد.

درخواست زیر داده‌ها را در قالب FormData ارسال خواهد کرد (در مرورگر و Node.js):

```js
import axios from 'axios';

axios.post('https://httpbin.org/post', {x: 1}, {
  headers: {
    'Content-Type': 'multipart/form-data'
  }
}).then(({data}) => console.log(data));
```

در نسخه `node.js`، پلی‌فیل ([`form-data`](https://github.com/form-data/form-data)) به صورت پیش‌فرض استفاده می‌شود.

شما می‌توانید کلاس FormData را با تنظیم متغیر کانفیگ `env.FormData` بازنویسی کنید،
اما در اکثر مواقع به این کار نیازی نخواهید داشت:

```js
const axios = require('axios');
var FormData = require('form-data');

axios.post('https://httpbin.org/post', {x: 1, buf: new Buffer(10)}, {
  headers: {
    'Content-Type': 'multipart/form-data'
  }
}).then(({data}) => console.log(data));
```

سریالایزر FormData در Axios از برخی پسوندهای خاص برای انجام عملیات‌های زیر پشتیبانی می‌کند:

- `{}` - مقدار را با JSON.stringify سریالایز می‌کند
- `[]` - شیء شبیه آرایه را به صورت فیلدهای جداگانه با کلید یکسان باز می‌کند

> **نکته:** عملیات unwrap/expand به طور پیش‌فرض بر روی آرایه‌ها و اشیاء FileList انجام می‌شود

سریالایزر FormData از گزینه‌های اضافی از طریق ویژگی `config.formSerializer: object` برای مدیریت حالت‌های خاص پشتیبانی می‌کند:

- `visitor: Function` - تابع بازدیدکننده تعریف‌شده توسط کاربر که به صورت بازگشتی برای سریال‌سازی شیء داده
به یک شیء `FormData` طبق قواعد سفارشی فراخوانی می‌شود.

- `dots: boolean = false` - استفاده از نشانه‌گذاری نقطه‌ای به جای براکت برای سریال‌سازی آرایه‌ها و اشیاء؛

- `metaTokens: boolean = true` - افزودن پسوند خاص (مثلاً `user{}: '{"name": "John"}'`) به کلید FormData.
تجزیه‌کننده سمت سرور می‌تواند از این متااطلاعات برای تجزیه خودکار مقدار به عنوان JSON استفاده کند.

- `indexes: null|false|true = false` - نحوه افزودن ایندکس به کلیدهای باز شده آرایه‌های شبیه flat را کنترل می‌کند.

    - `null` - بدون افزودن براکت (`arr: 1`, `arr: 2`, `arr: 3`)
    - `false` (پیش‌فرض) - افزودن براکت خالی (`arr[]: 1`, `arr[]: 2`, `arr[]: 3`)
    - `true` - افزودن براکت با ایندکس  (`arr[0]: 1`, `arr[1]: 2`, `arr[2]: 3`)

فرض کنید شیء زیر را داریم:

```js
const obj = {
  x: 1,
  arr: [1, 2, 3],
  arr2: [1, [2], 3],
  users: [{name: 'Peter', surname: 'Griffin'}, {name: 'Thomas', surname: 'Anderson'}],
  'obj2{}': [{x:1}]
};
```

گام‌های زیر به صورت داخلی توسط سریالایزر Axios اجرا می‌شود:

```js
const formData = new FormData();
formData.append('x', '1');
formData.append('arr[]', '1');
formData.append('arr[]', '2');
formData.append('arr[]', '3');
formData.append('arr2[0]', '1');
formData.append('arr2[1][0]', '2');
formData.append('arr2[2]', '3');
formData.append('users[0][name]', 'Peter');
formData.append('users[0][surname]', 'Griffin');
formData.append('users[1][name]', 'Thomas');
formData.append('users[1][surname]', 'Anderson');
formData.append('obj2{}', '[{"x":1}]');
```

Axios از متدهای میانبر زیر پشتیبانی می‌کند: `postForm`، `putForm`، `patchForm`
که همان متدهای http متناظر با هدر `Content-Type` از پیش تعیین شده به `multipart/form-data` هستند.

## ارسال فایل‌ها

شما می‌توانید به راحتی یک فایل تکی ارسال کنید:

```js
await axios.postForm('https://httpbin.org/post', {
  'myVar' : 'foo',
  'file': document.querySelector('#fileInput').files[0]
});
```

یا چندین فایل به صورت `multipart/form-data`:

```js
await axios.postForm('https://httpbin.org/post', {
  'files[]': document.querySelector('#fileInput').files
});
```

شیء `FileList` را می‌توان مستقیماً ارسال کرد:

```js
await axios.postForm('https://httpbin.org/post', document.querySelector('#fileInput').files)
```

تمام فایل‌ها با نام فیلد یکسان `files[]` ارسال خواهند شد.

## 🆕 ارسال فرم HTML (مرورگر)

عنصر فرم HTML را به عنوان payload ارسال کنید تا آن را به صورت محتوای `multipart/form-data` ارسال کنید.

```js
await axios.postForm('https://httpbin.org/post', document.querySelector('#htmlForm'));
```

اشیاء `FormData` و `HTMLForm` را نیز می‌توان با تنظیم صریح هدر `Content-Type` به `application/json` به عنوان `JSON` ارسال کرد:

```js
await axios.post('https://httpbin.org/post', document.querySelector('#htmlForm'), {
  headers: {
    'Content-Type': 'application/json'
  }
})
```

برای مثال، فرم زیر

```html
<form id="form">
  <input type="text" name="foo" value="1">
  <input type="text" name="deep.prop" value="2">
  <input type="text" name="deep prop spaced" value="3">
  <input type="text" name="baz" value="4">
  <input type="text" name="baz" value="5">

  <select name="user.age">
    <option value="value1">Value 1</option>
    <option value="value2" selected>Value 2</option>
    <option value="value3">Value 3</option>
  </select>

  <input type="submit" value="Save">
</form>
```

به صورت شیء JSON زیر ارسال خواهد شد:

```js
{
  "foo": "1",
  "deep": {
    "prop": {
      "spaced": "3"
    }
  },
  "baz": [
    "4",
    "5"
  ],
  "user": {
    "age": "value2"
  }
}
````

ارسال `Blob`ها/`File`ها به صورت JSON (`base64`) در حال حاضر پشتیبانی نمی‌شود.

## 🆕 دریافت پیشرفت (Progress capturing)

Axios هم در محیط مرورگر و هم Node از دریافت پیشرفت بارگذاری/دانلود درخواست پشتیبانی می‌کند.
فرکانس رویدادهای پیشرفت به طور اجباری به `3` بار در ثانیه محدود می‌شود.

```js    
await axios.post(url, data, {
  onUploadProgress: function (axiosProgressEvent) {
    /*{
      loaded: number;
      total?: number;
      progress?: number; // در بازه [0..1]
      bytes: number; // تعداد بایت‌هایی که از آخرین فراخوانی منتقل شده‌اند (دلتا)
      estimated?: number; // زمان تخمینی بر حسب ثانیه
      rate?: number; // سرعت بارگذاری به بایت
      upload: true; // علامت بارگذاری
    }*/
  },

  onDownloadProgress: function (axiosProgressEvent) {
    /*{
```js
      loaded: number;
      total?: number;
      progress?: number;
      bytes: number; 
      estimated?: number;
      rate?: number; // سرعت دانلود بر حسب بایت
      download: true; // علامت دانلود
    }*/
  }
});  
```

همچنین می‌توانید پیشرفت آپلود/دانلود جریان را در node.js پیگیری کنید:

```js
const {data} = await axios.post(SERVER_URL, readableStream, {
   onUploadProgress: ({progress}) => {
     console.log((progress * 100).toFixed(2));
   },
  
   headers: {
    'Content-Length': contentLength
   },

   maxRedirects: 0 // جلوگیری از بافر کردن کل جریان
});
````

> **توجه:**
> در حال حاضر گرفتن پیشرفت آپلود FormData در محیط‌های node.js پشتیبانی نمی‌شود.

> **⚠️ هشدار**
> توصیه می‌شود برای آپلود جریان در محیط **node.js**، با تنظیم maxRedirects: 0 ریدایرکت‌ها را غیرفعال کنید،
> زیرا پکیج follow-redirects کل جریان را در RAM بافر می‌کند و الگوریتم "backpressure" را دنبال نمی‌کند.


## 🆕 محدودیت نرخ (Rate limiting)

محدودیت‌های نرخ دانلود و آپلود فقط برای آداپتور http (node.js) قابل تنظیم است:

```js
const {data} = await axios.post(LOCAL_SERVER_URL, myBuffer, {
  onUploadProgress: ({progress, rate}) => {
    console.log(`آپلود [${(progress*100).toFixed(2)}%]: ${(rate / 1024).toFixed(2)}KB/s`)
  },
   
  maxRate: [100 * 1024], // محدودیت 100KB/s
});
```

## 🆕 AxiosHeaders

Axios کلاس اختصاصی `AxiosHeaders` را برای مدیریت هدرها با استفاده از API مشابه Map ارائه می‌دهد که کار بدون حساسیت به حروف را تضمین می‌کند.
اگرچه HTTP در هدرها نسبت به حروف بزرگ و کوچک حساس نیست، اما Axios برای دلایل ظاهری و همچنین راهکاری برای مواقعی که سرور به اشتباه به حروف هدر حساسیت نشان می‌دهد، قالب اصلی هدر را حفظ می‌کند.
روش قدیمی ویرایش مستقیم شیء headers همچنان در دسترس است اما منسوخ شده و توصیه نمی‌شود در آینده استفاده گردد.

### کار با هدرها

یک نمونه از شیء AxiosHeaders می‌تواند مقادیر داخلی مختلفی داشته باشد که منطق تنظیم و ادغام را کنترل می‌کند.
شیء نهایی هدرها با مقادیر رشته‌ای توسط Axios با فراخوانی متد `toJSON` به دست می‌آید.

> توجه: در اینجا منظور از JSON شیئی است که فقط شامل مقادیر رشته‌ای بوده و برای ارسال روی شبکه در نظر گرفته شده است.

مقدار هدر می‌تواند یکی از انواع زیر باشد:
- `string` - مقدار رشته‌ای معمولی که به سرور ارسال می‌شود
- `null` - هنگام تبدیل به JSON از هدر صرف‌نظر می‌شود
- `false` - هنگام تبدیل به JSON از هدر صرف‌نظر می‌شود، همچنین نشان می‌دهد که متد `set` باید با گزینه `rewrite` برابر با `true` فراخوانی شود
  تا این مقدار بازنویسی گردد (Axios به طور داخلی از این مورد استفاده می‌کند تا به کاربران اجازه دهد برخی هدرها مانند `User-Agent` یا `Content-Type` را نصب نکنند)
- `undefined` - مقدار تنظیم نشده است

> توجه: اگر مقدار هدر برابر undefined نباشد، مقدار آن تنظیم شده در نظر گرفته می‌شود.

شیء headers همیشه در داخل اینترسپتورها و ترنسفورمرها مقداردهی اولیه می‌شود:

```ts
  axios.interceptors.request.use((request: InternalAxiosRequestConfig) => {
      request.headers.set('My-header', 'value');

      request.headers.set({
        "My-set-header1": "my-set-value1",
        "My-set-header2": "my-set-value2"
      });
      
      request.headers.set('User-Agent', false); // غیرفعال کردن تنظیم هدر توسط Axios در مراحل بعدی

      request.headers.setContentType('text/plain');
    
      request.headers['My-set-header2'] = 'newValue' // دسترسی مستقیم منسوخ شده است
    
      return request;
    }
  );
````

می‌توانید روی یک نمونه `AxiosHeaders` با استفاده از دستور `for...of` پیمایش کنید:

````js
const headers = new AxiosHeaders({
  foo: '1',
```
```markdown
  bar: '2',
  baz: '3'
});

for(const [header, value] of headers) {
  console.log(header, value);
}

// foo 1
// bar 2
// baz 3
````

### new AxiosHeaders(headers?)

یک نمونه جدید از `AxiosHeaders` می‌سازد.

```
constructor(headers?: RawAxiosHeaders | AxiosHeaders | string);
```

اگر شیء هدرها یک رشته باشد، به عنوان هدرهای خام HTTP تجزیه خواهد شد.

````js
const headers = new AxiosHeaders(`
Host: www.bing.com
User-Agent: curl/7.54.0
Accept: */*`);

console.log(headers);

// Object [AxiosHeaders] {
//   host: 'www.bing.com',
//   'user-agent': 'curl/7.54.0',
//   accept: '*/*'
// }
````

### AxiosHeaders#set

```ts
set(headerName, value: Axios, rewrite?: boolean);
set(headerName, value, rewrite?: (this: AxiosHeaders, value: string, name: string, headers: RawAxiosHeaders) => boolean);
set(headers?: RawAxiosHeaders | AxiosHeaders | string, rewrite?: boolean);
```

آرگومان `rewrite` رفتار بازنویسی را کنترل می‌کند:
- `false` - اگر مقدار هدر تنظیم شده باشد (مقدار آن `undefined` نباشد) بازنویسی نکن
- `undefined` (پیش‌فرض) - هدر را بازنویسی کن مگر اینکه مقدار آن `false` باشد
- `true` - در هر صورت بازنویسی کن

این گزینه همچنین می‌تواند یک تابع تعریف‌شده توسط کاربر را بپذیرد که تعیین می‌کند آیا مقدار باید بازنویسی شود یا نه.

`this` را بازمی‌گرداند.

### AxiosHeaders#get(header)

```
  get(headerName: string, matcher?: true | AxiosHeaderMatcher): AxiosHeaderValue;
  get(headerName: string, parser: RegExp): RegExpExecArray | null;
````

مقدار داخلی هدر را بازمی‌گرداند. می‌تواند یک آرگومان اضافی برای تجزیه مقدار هدر با `RegExp.exec`،
تابع مقایسه‌گر یا تجزیه‌گر داخلی کلید-مقدار بگیرد.

```ts
const headers = new AxiosHeaders({
  'Content-Type': 'multipart/form-data; boundary=Asrf456BGe4h'
});

console.log(headers.get('Content-Type')); 
// multipart/form-data; boundary=Asrf456BGe4h

console.log(headers.get('Content-Type', true)); // جفت‌های کلید-مقدار را از رشته‌ای که با \s,;= جدا شده‌اند تجزیه می‌کند:
// [Object: null prototype] {
//   'multipart/form-data': undefined,
//    boundary: 'Asrf456BGe4h'
// }


console.log(headers.get('Content-Type', (value, name, headers) => {
  return String(value).replace(/a/g, 'ZZZ');
}));
// multipZZZrt/form-dZZZtZZZ; boundZZZry=Asrf456BGe4h

console.log(headers.get('Content-Type', /boundary=(\w+)/)?.[0]);
// boundary=Asrf456BGe4h

```

مقدار هدر را بازمی‌گرداند.

### AxiosHeaders#has(header, matcher?)

```
has(header: string, matcher?: AxiosHeaderMatcher): boolean;
```

اگر هدر تنظیم شده باشد (مقدار `undefined` نداشته باشد) مقدار `true` بازمی‌گرداند.
```
### AxiosHeaders#delete(header, matcher?)

```
delete(header: string | string[], matcher?: AxiosHeaderMatcher): boolean;
```

اگر حداقل یک هدر حذف شده باشد، مقدار `true` را بازمی‌گرداند.

### AxiosHeaders#clear(matcher?)

```
clear(matcher?: AxiosHeaderMatcher): boolean;
```

تمام هدرها را حذف می‌کند.
برخلاف متد `delete`، این matcher اختیاری برای تطابق با نام هدر (نه مقدار آن) استفاده خواهد شد.

```ts
const headers = new AxiosHeaders({
  'foo': '1',
  'x-foo': '2',
  'x-bar': '3',
});

console.log(headers.clear(/^x-/)); // true

console.log(headers.toJSON()); // [Object: null prototype] { foo: '1' }
```

اگر حداقل یک هدر پاک شده باشد، مقدار `true` را بازمی‌گرداند.

### AxiosHeaders#normalize(format);

اگر شیء هدرها مستقیماً تغییر داده شود، ممکن است کلیدهای تکراری با نام‌های یکسان اما با حروف متفاوت داشته باشد.
این متد شیء هدرها را با ترکیب کلیدهای تکراری به یک کلید، نرمال‌سازی می‌کند.
Axios پس از فراخوانی هر interceptor، به صورت داخلی از این متد استفاده می‌کند.
برای تبدیل نام هدرها به حروف کوچک و بزرگ کردن حروف ابتدایی (`cOntEnt-type` => `Content-Type`)، مقدار `format` را true قرار دهید.

```js
const headers = new AxiosHeaders({
  'foo': '1',
});

headers.Foo = '2';
headers.FOO = '3';

console.log(headers.toJSON()); // [Object: null prototype] { foo: '1', Foo: '2', FOO: '3' }
console.log(headers.normalize().toJSON()); // [Object: null prototype] { foo: '3' }
console.log(headers.normalize(true).toJSON()); // [Object: null prototype] { Foo: '3' }
```

مقدار `this` را بازمی‌گرداند.

### AxiosHeaders#concat(...targets)

```
concat(...targets: Array<AxiosHeaders | RawAxiosHeaders | string | undefined | null>): AxiosHeaders;
```

نمونه را با targetها در یک نمونه جدید `AxiosHeaders` ادغام می‌کند. اگر target یک رشته باشد، به عنوان هدرهای خام HTTP تجزیه خواهد شد.

یک نمونه جدید از `AxiosHeaders` را بازمی‌گرداند.

### AxiosHeaders#toJSON(asStrings?)

````
toJSON(asStrings?: boolean): RawAxiosHeaders;
````

تمام مقادیر داخلی هدرها را به یک شیء جدید با prototype تهی تبدیل می‌کند.
برای تبدیل آرایه‌ها به رشته‌ای شامل تمام عناصر جدا شده با ویرگول، `asStrings` را true قرار دهید.

### AxiosHeaders.from(thing?)

````
from(thing?: AxiosHeaders | RawAxiosHeaders | string): AxiosHeaders;
````

یک نمونه جدید از `AxiosHeaders` ایجاد شده از هدرهای خام ورودی را بازمی‌گرداند،
یا اگر ورودی یک نمونه `AxiosHeaders` باشد، همان را بازمی‌گرداند.

### AxiosHeaders.concat(...targets)

````
concat(...targets: Array<AxiosHeaders | RawAxiosHeaders | string | undefined | null>): AxiosHeaders;
````

یک نمونه جدید از `AxiosHeaders` را که با ادغام اشیاء هدف ساخته شده است، بازمی‌گرداند.

### میانبرها

میانبرهای زیر در دسترس هستند:

- `setContentType`, `getContentType`, `hasContentType`

- `setContentLength`, `getContentLength`, `hasContentLength`

- `setAccept`, `getAccept`, `hasAccept`

- `setUserAgent`, `getUserAgent`, `hasUserAgent`
- `setContentEncoding`، `getContentEncoding`، `hasContentEncoding`

## 🔥 آداپتور Fetch

آداپتور Fetch در نسخه `v1.7.0` معرفی شد. به طور پیش‌فرض، اگر آداپتورهای `xhr` و `http` در ساخت موجود نباشند،
یا محیط از آن‌ها پشتیبانی نکند، از آن استفاده خواهد شد.
برای استفاده پیش‌فرض، باید به طور صریح انتخاب شود:

```js
const {data} = axios.get(url, {
  adapter: 'fetch' // به طور پیش‌فرض ['xhr', 'http', 'fetch']
})
```

می‌توانید یک نمونه جداگانه برای این منظور بسازید:

```js
const fetchAxios = axios.create({
  adapter: 'fetch'
});

const {data} = fetchAxios.get(url);
```

این آداپتور همان قابلیت‌های آداپتور `xhr` را پشتیبانی می‌کند، **شامل ثبت پیشرفت بارگذاری و دانلود**.
همچنین، از انواع پاسخ اضافی مانند `stream` و `formdata` (در صورت پشتیبانی محیط) نیز پشتیبانی می‌کند.

## Semver

تا زمانی که axios به نسخه `1.0` نرسیده باشد، تغییرات ناسازگار با نسخه قبلی با یک نسخه فرعی جدید منتشر خواهد شد. برای مثال، نسخه‌های `0.5.1` و `0.5.4` رابط برنامه‌نویسی یکسانی خواهند داشت، اما نسخه `0.6.0` شامل تغییرات ناسازگار خواهد بود.

## Promiseها

axios به پیاده‌سازی بومی Promise در ES6 وابسته است تا [پشتیبانی شود](https://caniuse.com/promises).
اگر محیط شما از Promiseهای ES6 پشتیبانی نمی‌کند، می‌توانید از [polyfill](https://github.com/jakearchibald/es6-promise) استفاده کنید.

## TypeScript

axios شامل تعاریف [TypeScript](https://typescriptlang.org) و یک نگهبان نوع برای خطاهای axios است.

```typescript
let user: User = null;
try {
  const { data } = await axios.get('/user?ID=12345');
  user = data.userDetails;
} catch (error) {
  if (axios.isAxiosError(error)) {
    handleAxiosError(error);
  } else {
    handleUnexpectedError(error);
  }
}
```

از آنجایی که axios به صورت دوگانه با خروجی پیش‌فرض ESM و `module.exports` در CJS منتشر می‌شود، برخی ملاحظات وجود دارد.
تنظیم پیشنهادی این است که از `"moduleResolution": "node16"` استفاده کنید (این تنظیم ضمنی با `"module": "node16"` فعال می‌شود). توجه داشته باشید که این کار به TypeScript 4.7 یا بالاتر نیاز دارد.
اگر از ESM استفاده می‌کنید، تنظیمات شما مناسب خواهد بود.
اگر TypeScript را به CJS کامپایل می‌کنید و نمی‌توانید از `"moduleResolution": "node16"` استفاده کنید، باید `esModuleInterop` را فعال کنید.
اگر از TypeScript برای بررسی نوع کد جاوااسکریپت CJS استفاده می‌کنید، تنها گزینه شما استفاده از `"moduleResolution": "node16"` است.

## راه‌اندازی آنلاین یک‌کلیکی

می‌توانید از Gitpod، یک محیط توسعه آنلاین (که برای پروژه‌های متن‌باز رایگان است) برای مشارکت یا اجرای مثال‌ها به صورت آنلاین استفاده کنید.

[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#https://github.com/axios/axios/blob/main/examples/server.js)


## منابع

* [تغییرات](https://github.com/axios/axios/blob/v1.x/CHANGELOG.md)
* [اکوسیستم](https://github.com/axios/axios/blob/v1.x/ECOSYSTEM.md)
* [راهنمای مشارکت](https://github.com/axios/axios/blob/v1.x/CONTRIBUTING.md)
* [آیین‌نامه رفتاری](https://github.com/axios/axios/blob/v1.x/CODE_OF_CONDUCT.md)

## اعتبارها

axios به شدت از [$http service](https://docs.angularjs.org/api/ng/service/$http) ارائه شده در [AngularJS](https://angularjs.org/) الهام گرفته است. در نهایت، axios تلاشی است برای ارائه سرویسی مشابه `$http` برای استفاده خارج از AngularJS.

## مجوز

[MIT](LICENSE)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-30

---