
<div align="center"><p><a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=en"><img src="https://img.shields.io/badge/EN-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=zh-CN"><img src="https://img.shields.io/badge/ç®€ä¸­-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=zh-TW"><img src="https://img.shields.io/badge/ç¹ä¸­-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=ja"><img src="https://img.shields.io/badge/æ—¥æœ¬èª-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=ko"><img src="https://img.shields.io/badge/í•œêµ­ì–´-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=hi"><img src="https://img.shields.io/badge/à¤¹à¤¿à¤¨à¥à¤¦à¥€-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=th"><img src="https://img.shields.io/badge/à¹„à¸—à¸¢-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=fr"><img src="https://img.shields.io/badge/FranÃ§ais-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=de"><img src="https://img.shields.io/badge/Deutsch-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=es"><img src="https://img.shields.io/badge/EspaÃ±ol-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=it"><img src="https://img.shields.io/badge/Italiano-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=ru"><img src="https://img.shields.io/badge/Ğ ÑƒÑÑĞºĞ¸Ğ¹-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=pt"><img src="https://img.shields.io/badge/PortuguÃªs-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=nl"><img src="https://img.shields.io/badge/Nederlands-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=pl"><img src="https://img.shields.io/badge/Polski-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=ar"><img src="https://img.shields.io/badge/Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=fa"><img src="https://img.shields.io/badge/ÙØ§Ø±Ø³ÛŒ-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=tr"><img src="https://img.shields.io/badge/TÃ¼rkÃ§e-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=vi"><img src="https://img.shields.io/badge/Tiáº¿ng Viá»‡t-white" alt="version"></a> <a href="https://openaitx.github.io/view.html?user=Milor123&project=pubchem-agent-toolkit&lang=id"><img src="https://img.shields.io/badge/Bahasa Indonesia-white" alt="version"></a> </p></div>

# Ulepszony serwer PubChem MCP dla asystentÃ³w AI

ğŸ§ª Zaawansowany, niezawodny i skoncentrowany na prywatnoÅ›ci serwer MCP, umoÅ¼liwiajÄ…cy asystentom AI inteligentne wyszukiwanie i dostÄ™p do informacji o zwiÄ…zkach chemicznych z PubChem.

Ten serwer PubChem MCP dziaÅ‚a jako potÄ™Å¼ne Å‚Ä…cze miÄ™dzy asystentami AI (takimi jak w AnythingLLM) a ogromnÄ… bazÄ… danych chemicznych PubChem. Wykorzystuje Model Context Protocol (MCP), aby umoÅ¼liwiÄ‡ modelom AI inteligentne, odporne wyszukiwania zwiÄ…zkÃ³w chemicznych i programowe pobieranie ich szczegÃ³Å‚owych wÅ‚aÅ›ciwoÅ›ci.

---

## âœ¨ Kluczowe funkcje

To nie jest kolejna zwykÅ‚a nakÅ‚adka na PubChem. Serwer zostaÅ‚ zbudowany od podstaw, aby byÄ‡ wyjÄ…tkowo niezawodny i inteligentny:

-   **ğŸ§  Inteligentne wyszukiwanie awaryjne**: JeÅ›li wyszukiwanie popularnej nazwy (np. "Witamina D") siÄ™ nie powiedzie, serwer automatycznie przeprowadza gÅ‚Ä™bsze wyszukiwanie w bazie PubChem Substance, by znaleÅºÄ‡ wÅ‚aÅ›ciwy zwiÄ…zek. ZnaczÄ…co zwiÄ™ksza to skutecznoÅ›Ä‡ dla niejednoznacznych zapytaÅ„.
-   **ğŸ›¡ï¸ Solidna obsÅ‚uga bÅ‚Ä™dÃ³w i ponownych prÃ³b**: Serwer jest zaprojektowany do Å‚agodnego radzenia sobie z bÅ‚Ä™dami API. JeÅ›li napotka bÅ‚Ä…d "Server Busy" z PubChem, automatycznie poczeka i ponowi zapytanie, dziÄ™ki czemu Twoje zapytania zakoÅ„czÄ… siÄ™ sukcesem nawet przy duÅ¼ym obciÄ…Å¼eniu.
-   **ğŸ”’ Opcjonalna obsÅ‚uga proxy Tor**: Masz peÅ‚nÄ… kontrolÄ™ nad swojÄ… prywatnoÅ›ciÄ…. Prosty plik `config.ini` pozwala na kierowanie wszystkich zapytaÅ„ przez sieÄ‡ Tor (przez proxy SOCKS5 lub HTTP), zapobiegajÄ…c ujawnieniu Twojego adresu IP. Serwer jest domyÅ›lnie bezpieczny i **nigdy** nie ujawni Twojego IP, jeÅ›li poÅ‚Ä…czenie proxy siÄ™ nie powiedzie.
-   **ğŸ” Wyszukiwanie pojedynczych i wielu zwiÄ…zkÃ³w**: Bezproblemowo obsÅ‚uguje zapytania dotyczÄ…ce jednego lub wielu zwiÄ…zkÃ³w w jednej wiadomoÅ›ci.
-   **ğŸ§ª SzczegÃ³Å‚owe pobieranie wÅ‚aÅ›ciwoÅ›ci**: DostÄ™p do kluczowych wÅ‚aÅ›ciwoÅ›ci chemicznych, takich jak nazwa IUPAC, wzÃ³r czÄ…steczkowy, masa czÄ…steczkowa oraz, co najwaÅ¼niejsze, **masa monoisotopowa**.

---

---

### ğŸš€ Bez instalacji: wyprÃ³buj na Å¼ywo w Smithery.ai

Dla osÃ³b, ktÃ³re sÄ… nowe w serwerach MCP lub chcÄ… po prostu przetestowaÄ‡ moÅ¼liwoÅ›ci tego narzÄ™dzia bez lokalnej instalacji, dostÄ™pna jest wersja na Å¼ywo, hostowana na Smithery.ai. UmoÅ¼liwia ona rozmowÄ™ z agentem bezpoÅ›rednio w przeglÄ…darce.

[**<-- Przetestuj agenta PubChem na Å¼ywo w Smithery.ai -->**](https://smithery.ai/server/@Milor123/smithery-pubchem-deploy)

**Jak zaczÄ…Ä‡:**

1.  Kliknij powyÅ¼szy link, aby przejÅ›Ä‡ do strony serwera.
2.  Zaloguj siÄ™ za pomocÄ… konta **GitHub** lub **Google**.
3.  Kliknij przycisk **"Explore capabilities"**, aby otworzyÄ‡ interfejs czatu i rozpoczÄ…Ä‡ testowanie!

> **âœ… Zalecane modele dla najlepszych wynikÃ³w**
>
> Aby uzyskaÄ‡ najwyÅ¼szÄ… dokÅ‚adnoÅ›Ä‡, szczegÃ³lnie przy dÅ‚ugich liczbach dziesiÄ™tnych, zdecydowanie zalecamy korzystanie z mocnych modeli. NastÄ™pujÄ…ce zostaÅ‚y przetestowane i dziaÅ‚ajÄ… doskonale z tym narzÄ™dziem:
>
> *   **Claude 3 Sonnet od Anthropic**
> *   **OpenAI GPT-4 Turbo** (lub nowsze wersje jak GPT-4o)
>
> PotwierdziliÅ›my, Å¼e oba modele prawidÅ‚owo przetwarzaÅ‚y peÅ‚nÄ… precyzjÄ™ liczb dziesiÄ™tnych zwracanych przez narzÄ™dzie bez zaokrÄ…gleÅ„.

---

## ğŸš€ Szybki start i instalacja

Ten serwer jest przeznaczony do uruchamiania lokalnie, na Twoim komputerze lub w Å›rodowisku Docker AnythingLLM.

### 1. Wymagane zaleÅ¼noÅ›ci

Ten projekt wymaga kilku bibliotek Pythona. Upewnij siÄ™, Å¼e sÄ… zainstalowane w Twoim Å›rodowisku.

UtwÃ³rz plik `requirements.txt` z nastÄ™pujÄ…cÄ… zawartoÅ›ciÄ…:
```txt
requests
bs4 
mcp 
pubchempy
pandas
PySocks
```

Zainstaluj je za pomocÄ… `uv` lub `pip`:
```bash
uv venv
.venv\Scripts\activate
uv pip install -r requirements.txt
```
*(Uwaga: `PySocks` jest wymagany tylko jeÅ›li planujesz uÅ¼ywaÄ‡ funkcji proxy Tor SOCKS5.)*

### 2. Konfiguracja

Serwer jest konfigurowany za pomocÄ… pliku `config.ini`, ktÃ³ry jest **automatycznie tworzony** przy pierwszym uruchomieniu. Plik ten pojawi siÄ™ w tym samym katalogu co skrypt `pubchem_server.py`.

**DomyÅ›lny `config.ini`:**
```ini
[proxy]
# Change 'use_proxy' to 'true' to route all requests through a proxy.
# Essential for protecting your privacy if you use Tor.
use_proxy = false

# Defines the proxy type. Options:
#   socks5h  -> (Recommended for Tor) The native SOCKS proxy for Tor. More secure.
#   http     -> An HTTP proxy. If using Tor, requires additional configuration.
proxy_type = socks5h

# The proxy address. THIS IS A CRITICAL SETTING!
#   - If you run this script on your DESKTOP, use: 127.0.0.1
#   - If you run this script inside DOCKER, use: host.docker.internal
host = 127.0.0.1

# The proxy port.
#   9050 -> Default port for Tor's SOCKS proxy.
#   8118 -> Default port for Tor's HTTP proxy (if enabled).
port = 9050
```

### 3. Integracja z AnythingLLM

PostÄ™puj zgodnie z oficjalnÄ… dokumentacjÄ…, aby dodaÄ‡ to jako niestandardowy serwer MCP. Kluczowe jest wskazanie `command` na swÃ³j plik wykonywalny Pythona oraz skrypt `pubchem_server.py`.

**PrzykÅ‚ad dla AnythingLLM Desktop (`plugins/anythingllm_mcp_servers.json`):**
```json
{
  "mcpServers": {
    "pubchem": {
      "name": "PubChem Server (Enhanced)",
      "transport": "stdio",
      "command": "\"C:\\path\\to\\your\\.venv\\Scripts\\python.exe\" \"C:\\path\\to\\your\\project\\pubchem_server.py\"",
      "cwd": "C:\\path\\to\\your\\project"
    }
  }
}
```


### 3.1 PrzykÅ‚ady implementacji z AnythingLLM

Oto kilka przykÅ‚adÃ³w, jak moÅ¼na wspÃ³Å‚pracowaÄ‡ z agentem. Testy te zostaÅ‚y przeprowadzone przy uÅ¼yciu AnythingLLM Desktop, Å‚Ä…czÄ…c siÄ™ z rÃ³Å¼nymi duÅ¼ymi modelami jÄ™zykowymi przez OpenRouter.

Kluczowym wnioskiem z naszych testÃ³w jest znaczenie wyboru modelu. **Zdecydowanie odradzamy uÅ¼ywanie maÅ‚ych lub lokalnych modeli** do tego zadania. Mniejsze modele czÄ™sto majÄ… trudnoÅ›ci z poprawnym przetwarzaniem danych zwracanych przez narzÄ™dzie, co prowadzi do bÅ‚Ä™dÃ³w takich jak halucynowane wartoÅ›ci, nieprawidÅ‚owe formatowanie, lub - co najwaÅ¼niejsze - **zaokrÄ…glanie liczb dziesiÄ™tnych**, co niweczy cel tego narzÄ™dzia wysokiej precyzji.

Aby zapewniÄ‡ integralnoÅ›Ä‡ wynikÃ³w, zawsze warto zweryfikowaÄ‡ surowe dane zwracane przez MCP. Jak to zrobiÄ‡, dowiesz siÄ™ w nastÄ™pnej sekcji: [3.2 Jak zweryfikowaÄ‡ wyniki MCP w logach](#32-jak-zweryfikowac-wyniki-mcp-w-logach).

<img width="837" height="1060" alt="imagen" src="https://github.com/user-attachments/assets/5a16c7a2-d65d-4d64-98dd-f3cb4cae9b22" />

Z drugiej strony, kilka modeli wykazaÅ‚o doskonaÅ‚Ä… wydajnoÅ›Ä‡. OsiÄ…gnÄ™liÅ›my znakomite rezultaty z **Google `Gemini 2.5 Flash lite`**. wykazaÅ‚ siÄ™ niezwykÅ‚Ä… precyzjÄ… w obsÅ‚udze dÅ‚ugich liczb dziesiÄ™tnych i poprawnym formatowaniu koÅ„cowej tabeli Markdown.

Google gemini 2.5 flash lite bez prompta i z promptem zachowuje idealne wartoÅ›ci dziesiÄ™tne (w przykÅ‚adzie uÅ¼yto temperatury 0.6)

<img width="1089" height="1061" alt="imagen" src="https://github.com/user-attachments/assets/4574efa5-d6d9-49e3-a665-a39a427f09a1" />

Do tego konkretnego zadania moim osobistym faworytem jest **`Gemini 2.5 Flash lite`** ze wzglÄ™du na jego konsekwentnÄ… precyzjÄ™ i niezawodnoÅ›Ä‡.

### 3.2 Jak zweryfikowaÄ‡ wyniki MCP w logach

Najlepszym sposobem potwierdzenia, Å¼e agent otrzymuje poprawne dane i LLM nie popeÅ‚nia bÅ‚Ä™dÃ³w, jest sprawdzenie pliku dziennika debugowania generowanego przez serwer MCP.

Ten serwer jest skonfigurowany do automatycznego tworzenia pliku logu w podfolderze w katalogu Twojego projektu. Lokalizacja bÄ™dzie:

```
your-project-folder/
â””â”€â”€ logs_mcp/
    â””â”€â”€ mcp_debug.log
```

W pliku `mcp_debug.log` znajdziesz dokÅ‚adne dane JSON, ktÃ³re narzÄ™dzie przesyÅ‚a do LLM *przed* przetworzeniem przez model. MoÅ¼esz rÄ™cznie sprawdziÄ‡ ten JSON, aby zweryfikowaÄ‡ dowolne wartoÅ›ci, szczegÃ³lnie dÅ‚ugie liczby dziesiÄ™tne z wÅ‚aÅ›ciwoÅ›ci takich jak `monoisotopic_mass`, upewniajÄ…c siÄ™, Å¼e LLM nie wprowadziÅ‚ Å¼adnych bÅ‚Ä™dÃ³w zaokrÄ…gleÅ„ ani halucynacji w swojej ostatecznej odpowiedzi.

---

## ğŸ“Š UÅ¼ytkowanie

Po integracji TwÃ³j asystent AI automatycznie uÅ¼yje tego narzÄ™dzia podczas zapytaÅ„ o informacje chemiczne. GÅ‚Ã³wnym udostÄ™pnionym narzÄ™dziem jest `search_compounds_by_name`.

### PrzykÅ‚adowa komenda

Ten przykÅ‚ad pokazuje moÅ¼liwoÅ›ci narzÄ™dzia w obsÅ‚udze listy zwiÄ…zkÃ³w o rÃ³Å¼nych typach nazw i pobieraniu wielu wÅ‚aÅ›ciwoÅ›ci.

```
@agent
Please use your PubChem tool to find information on the following compounds:

- Thiamine (Vitamin B1)
- Riboflavin (Vitamin B2)
- Folic Acid
- Hydroxocobalamin

For each compound found, please retrieve the IUPAC Name, Molecular Formula, and Monoisotopic Mass.

Present all the results in a single Markdown table.
```

Agent wywoÅ‚a narzÄ™dzie `search_compounds_by_name`, ktÃ³re inteligentnie odnajdzie kaÅ¼dy zwiÄ…zek, pobierze jego dane i zwrÃ³ci je do LLM w celu sformatowania.

---

## ğŸ›  UdostÄ™pnione narzÄ™dzie MCP

### `search_compounds_by_name`

Wyszukuje wiele zwiÄ…zkÃ³w po nazwie, jeden po drugim, stosujÄ…c inteligentnÄ… strategiÄ™ rezerwowÄ… z pauzami i ponownymi prÃ³bami dla maksymalnej niezawodnoÅ›ci.

**Parametry:**
-   `names` (List[str]): Lista nazw zwiÄ…zkÃ³w. PrzykÅ‚ad: `["Aspirin", "Ibuprofen"]`

**Zwraca:** ListÄ™ sÅ‚ownikÃ³w, z ktÃ³rych kaÅ¼dy zawiera informacje o znalezionym zwiÄ…zku lub komunikat o bÅ‚Ä™dzie wyjaÅ›niajÄ…cy, dlaczego wyszukiwanie nie powiodÅ‚o siÄ™ dla danego zwiÄ…zku.

---

## ğŸ™ PodziÄ™kowania

Ten projekt zostaÅ‚ mocno zainspirowany i zbudowany na bazie oryginalnego [PubChem-MCP-Server](https://github.com/JackKuo666/PubChem-MCP-Server) stworzonego przez **JackKuo666**.

ChociaÅ¼ to repozytorium nie jest bezpoÅ›rednim forkiem, oryginalny projekt byÅ‚ kluczowym punktem wyjÅ›cia. Ta wersja rozszerza pierwotnÄ… koncepcjÄ™, koncentrujÄ…c siÄ™ na ekstremalnej odpornoÅ›ci, inteligentnych strategiach wyszukiwania oraz prywatnoÅ›ci uÅ¼ytkownika dziÄ™ki opcjonalnej integracji z Tor ğŸ§….

Serdeczne podziÄ™kowania dla oryginalnego autora za fantastycznÄ… pracÄ™ i jej udostÄ™pnienie spoÅ‚ecznoÅ›ci.

---

## âš ï¸ ZastrzeÅ¼enie

NarzÄ™dzie przeznaczone jest do celÃ³w badawczych i edukacyjnych. Prosimy o przestrzeganie warunkÃ³w korzystania z PubChem i odpowiedzialne uÅ¼ywanie tego narzÄ™dzia.


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-08-27

---