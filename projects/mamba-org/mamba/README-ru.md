# Mamba: Быстрый кроссплатформенный менеджер пакетов

![mamba header image](https://raw.githubusercontent.com/mamba-org/mamba/main/docs/assets/mamba_header.png)

<!-- markdownlint-disable-file MD033 -->

<table>
<thead align="center" cellspacing="10">
  <tr>
    <th colspan="3" align="center" border="">часть mamba-org</th>
  </tr>
</thead>
<tbody>
  <tr background="#FFF">
    <td align="center">Менеджер пакетов <a href="https://github.com/mamba-org/mamba">mamba</a></td>
    <td align="center">Сервер пакетов <a href="https://github.com/mamba-org/quetz">quetz</a></td>
  </tr>
</tbody>
</table>

## mamba

[![Build Status](https://github.com/mamba-org/mamba/actions/workflows/tests.yml/badge.svg)](https://github.com/mamba-org/mamba/actions/workflows/tests.yml?query=branch%3Amain)
[![Join the Gitter Chat](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/mamba-org/Lobby?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)
[![docs](https://readthedocs.org/projects/mamba/badge/?version=latest&style=flat)](https://mamba.readthedocs.io/en/latest)
[![Gurubase](https://img.shields.io/badge/Gurubase-Ask%20mamba%20Guru-006BFF)](https://gurubase.io/g/mamba)

`mamba` — это переосмысление менеджера пакетов conda на языке C++.

- параллельная загрузка данных репозиториев и файлов пакетов с использованием многопоточности
- libsolv для гораздо более быстрой обработки зависимостей, передовая библиотека, используемая в RPM-менеджере пакетов Red Hat, Fedora и OpenSUSE
- основные части `mamba` реализованы на C++ для максимальной эффективности

При этом `mamba` использует тот же парсер командной строки, код установки и удаления пакетов, а также процедуры проверки транзакций, что и `conda`, чтобы оставаться максимально совместимой.

`mamba` является частью экосистемы [conda-forge](https://conda-forge.org/), которая также включает `quetz`, открытый сервер пакетов `conda`.

Вы можете прочитать наш [анонс в блоге](https://medium.com/@QuantStack/open-software-packaging-for-science-61cecee7fc23).

## micromamba

`micromamba` — это статически слинкованная версия `mamba`.

Её можно установить как отдельный исполняемый файл без каких-либо зависимостей, что делает её отличным выбором для CI/CD пайплайнов и контейнерных сред.

Подробнее см. в [документации по `micromamba`](https://mamba.readthedocs.io/en/latest/user_guide/micromamba.html).

## `mamba` против `micromamba`

`mamba` предпочтительнее использовать, когда:

- `libmambapy` или `libmamba` используются другим ПО в той же среде.
- Необходимы регулярные обновления библиотек (особенно по соображениям безопасности).
- Среда ориентирована на сокращение занимаемого зависимостями дискового пространства.

`micromamba` предпочтительнее использовать, когда:

- Необходимо использовать единый самодостаточный исполняемый файл.
- Распределение miniforge отсутствует.
- Использование требует минимального времени выполнения.

## Установка

Пожалуйста, обратитесь к руководству по установке [mamba](https://mamba.readthedocs.io/en/latest/installation/mamba-installation.html)
и [micromamba](https://mamba.readthedocs.io/en/latest/installation/micromamba-installation.html) в документации.

## Дополнительные возможности Mamba и Micromamba

`mamba` и `micromamba` предоставляют дополнительные функции по сравнению со стандартной `conda`.

### `repoquery`

Для эффективного поиска по репозиториям и зависимостям пакетов используйте `mamba repoquery` или `micromamba repoquery`.

Подробнее см. [документацию по repoquery](https://mamba.readthedocs.io/en/latest/user_guide/mamba.html#repoquery).

### Установка lock-файлов

`micromamba` может использоваться для установки lock-файлов, созданных с помощью [conda-lock](https://conda.github.io/conda-lock/), без необходимости установки `conda-lock`.

Просто выполните команду `micromamba create` с опцией `-f`, указав lock-файл окружения, имя которого оканчивается на
`-lock.yml` или `-lock.yaml`; например:

```bash
micromamba create -n my-env -f conda-lock.yml
```

### setup-micromamba (замена setup-miniconda)

[setup-micromamba](https://github.com/marketplace/actions/setup-micromamba) — это замена [setup-miniconda](https://github.com/marketplace/actions/setup-miniconda), использующая `micromamba`.

Она может значительно сократить время настройки CI за счёт:

- Использования `micromamba`, которую можно установить примерно за 1 секунду.
- Кэширования загрузок пакетов.
- Кэширования целых окружений `conda`.

## Отличия от `conda`

Хотя `mamba` и `micromamba` обычно являются полноценной заменой `conda`, есть некоторые различия:

- `mamba` и `micromamba` не поддерживают ревизии (см. обсуждение: <https://github.com/mamba-org/mamba/issues/803>)
- `mamba` и `micromamba` нормализуют строки `MatchSpec` до самой простой формы, в то время как `conda` использует более подробную форму.
  Это может привести к небольшим отличиям в выводе команд `conda env export` и `mamba env export`.

## Установка для разработки

Пожалуйста, следуйте инструкциям из [официальной документации](https://mamba.readthedocs.io/en/latest/developer_zone/dev_environment.html).

## Стабильность API и ABI

Проект Mamba использует [семантическое версионирование](https://semver.org/) в формате `MAJOR.MINOR.PATCH`.
Хотя мы стараемся поддерживать стабильность для пользователей, иногда необходимо вносить несовместимые изменения для улучшения Mamba и снижения технического долга.
В будущих версиях Mamba могут быть даны более строгие гарантии.

### `libmamba` (C++)

Нам неизвестны потребители C++ API, поэтому мы оставляем себе пространство для улучшений.
Для `libmamba` термин _обратная совместимость_ понимается следующим образом:

- _ABI обратно совместим_: можно заменить бинарные файлы библиотеки без перекомпиляции вашего кода с обновлёнными заголовками.
  Поведение останется тем же, за исключением исчезновения (надеемся) багов и изменений производительности.
- _API обратно совместим_: необходимо перекомпилировать ваш код с новой версией библиотеки, но менять код не потребуется, только пересобрать.
  Это действует при условии, что вы не использовали элементы, считающиеся приватными, например, в подпакетах `detail`.
  Поведение останется тем же, за исключением исчезновения (надеемся) багов и изменений производительности.
  Когда объявления устарели, но не удалены и всё ещё работают, мы также считаем это обратной совместимостью, так как меняется только поведение при компиляции.

Исходя из этого, `libmamba` предоставляет следующие гарантии:

- `PATCH`-релизы обратно совместимы по API и ABI;
- `MINOR`-релизы обратно совместимы по API для объявлений в `mamba/api`,
  могут ломать API вне этой области и ABI в любом месте;
- `MAJOR`-релизы не дают никаких гарантий.

### `libmambapy` (Python)

Для `libmambapy` термин _API обратно совместим_ означает, что ваш Python-код будет работать с новой версией `libmambapy`, если вы не использовали элементы, считающиеся приватными (например, начинающиеся с `_`).
Поведение останется тем же, за исключением исчезновения (надеемся) багов и изменений производительности.
Когда объявления устарели, но не удалены и всё ещё работают, мы также считаем это обратной совместимостью, так как изменение поведения наблюдается только при активации Python
`DeprecationWarning`, который обычно включён только в режиме разработки.

Исходя из этого, `libmambapy` предоставляет следующие гарантии:

- `PATCH`-релизы обратно совместимы по API;
- `MINOR`-релизы обратно совместимы по API;
- `MAJOR`-релизы не дают никаких гарантий.

### `mamba` и `micromamba` (исполняемые файлы)

Для исполняемых файлов термин _обратная совместимость_ относится к программируемым входам и выходам и означает,
что ваш код (включая shell-скрипты) будет работать с новыми версиями исполняемых файлов без изменений.
К программируемым входам/выходам относятся имя исполняемого файла, аргументы командной строки, конфигурационные файлы,
переменные окружения, JSON-выходы командной строки и создаваемые файлы.
Это _не включает_ вывод для человека и сообщения об ошибках, а также предупреждения об устаревании, выводимые в человекочитаемом формате.

Исходя из этого, `mamba` и `micromamba` предоставляют следующие гарантии:

- `PATCH`-релизы обратно совместимы;
- `MINOR`-релизы обратно совместимы;
- `MAJOR`-релизы не дают никаких гарантий.

## Поддержка

Поддерживаются и активно развиваются только `mamba` и `micromamba` версии 2.0 и выше.

Ветка `1.x` поддерживается только для устранения проблем с безопасностью, таких как CVE.

Для вопросов вы также можете присоединиться к нам в [чате QuantStack](https://gitter.im/QuantStack/Lobby)
или на [канале Conda](https://gitter.im/conda/conda) (обратите внимание, что этот проект официально не связан с `conda` или Anaconda Inc.).

## Лицензия

Мы используем общую модель авторских прав, которая позволяет всем участникам сохранять авторские права на свои вклад.

Это программное обеспечение лицензировано по лицензии BSD-3-Clause. Подробности см. в файле [LICENSE](https://raw.githubusercontent.com/mamba-org/mamba/main/LICENSE).

---

### Двухнедельные встречи разработчиков

Мы проводим видеоконференции каждые две недели, где обсуждаем, над чем работаем, и получаем обратную связь друг от друга.

Каждый желающий может присоединиться, чтобы обсудить тему или просто послушать.

- Когда: вторник [16:00 CET (Европа)](https://calendar.google.com/calendar/u/0/embed?src=ab3jrfpede0kq0ubsroe82cd00@group.calendar.google.com&ctz=Europe/Paris)
- Где: [Mamba jitsi](https://meet.jit.si/mamba-org)
- Что: [Заметки встречи](https://hackmd.io/@guj2k_aBSSyr1YHBG9raWw/HyHt-Ekzj)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-08

---