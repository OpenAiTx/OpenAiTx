[
  {
    "Id": 1,
    "Content": "# PacketSniffer - 实时网络抓包与协议解析工具\n\n一个基于 C# 开发的实时网络抓包工具，支持自动协议识别、解析和业务逻辑分发。\n\n## 功能特性\n\n- 🔍 **实时抓包**：使用 SharpPcap 进行网络数据包捕获\n- 🔄 **自动协议识别**：支持 JSON、HTTP、二进制协议自动识别\n- 📊 **智能解析**：自动提取协议字段和内容\n- 🎯 **业务分发**：支持自定义业务逻辑处理\n- 🛡️ **扩展性强**：易于添加新的协议解析器\n\n## 项目结构\n",
    "ContentSha": "GZhXeRaWotgL2QjihgdpXBHvnJ/sAGyIyhkw0fOd1pM=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "# PacketSniffer - リアルタイムネットワークキャプチャとプロトコル解析ツール\n\nC# をベースに開発されたリアルタイムネットワークキャプチャツールで、自動プロトコル識別、解析、業務ロジックの分配をサポートします。\n\n## 機能特徴\n\n- 🔍 **リアルタイムキャプチャ**：SharpPcap を使用したネットワークパケットのキャプチャ\n- 🔄 **自動プロトコル識別**：JSON、HTTP、バイナリプロトコルの自動識別をサポート\n- 📊 **スマート解析**：プロトコルフィールドと内容の自動抽出\n- 🎯 **業務分配**：カスタム業務ロジック処理をサポート\n- 🛡️ **高い拡張性**：新しいプロトコル解析器の追加が容易\n\n## プロジェクト構成\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 2,
    "Content": "```\nPacketSniffer/\n├── PacketSniffer.csproj      # 项目配置文件\n├── Program.cs                 # 程序入口\n├── Core/\n│   ├── Sniffer.cs            # 抓包核心模块\n│   └── PacketRouter.cs       # 数据包路由分发器\n├── Parsers/\n│   ├── IParser.cs            # 解析器接口\n│   ├── JsonParser.cs         # JSON 协议解析器\n│   ├── HttpParser.cs         # HTTP 协议解析器\n│   └── BinaryParser.cs       # 二进制协议解析器（兜底）\n└── Models/\n    └── ParsedResult.cs       # 解析结果数据模型\n```",
    "ContentSha": "JIt5vuG43YSBpH6jp7kzGbBKBF8RP95V0EAxKezALhI=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```\nPacketSniffer/\n├── PacketSniffer.csproj      # 项目配置文件\n├── Program.cs                 # 程序入口\n├── Core/\n│   ├── Sniffer.cs            # 抓包核心模块\n│   └── PacketRouter.cs       # 数据包路由分发器\n├── Parsers/\n│   ├── IParser.cs            # 解析器接口\n│   ├── JsonParser.cs         # JSON 协议解析器\n│   ├── HttpParser.cs         # HTTP 协议解析器\n│   └── BinaryParser.cs       # 二进制协议解析器（兜底）\n└── Models/\n    └── ParsedResult.cs       # 解析结果数据模型\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 3,
    "Content": "\n## 环境要求\n\n- .NET 6.0 或更高版本\n- Windows 操作系统（需要管理员权限运行）\n- 已安装的网络适配器\n\n## 安装步骤\n\n### 1. 克隆或下载项目\n",
    "ContentSha": "a7BvBnad3lWftPhKsUVTvN1cCo1vqhGeotdZs1FTOZ0=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n## 環境要件\n\n- .NET 6.0 以上\n- Windows オペレーティングシステム（管理者権限での実行が必要）\n- インストール済みのネットワークアダプター\n\n## インストール手順\n\n### 1. プロジェクトのクローンまたはダウンロード\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 4,
    "Content": "```bash\ncd \"D:\\C# Project\\zhuabao\"\n```",
    "ContentSha": "iGPuA/6Spg9ZEDz2TfRtQfiT8YWr+wwOTRh9reHcdAw=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```bash\ncd \"D:\\C# Project\\zhuabao\"\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 5,
    "Content": "\n### 2. 恢复 NuGet 依赖\n",
    "ContentSha": "wogAZxSMPuF3CMf+SkajjyZOuu5BK3dC5wcp4eN/1x4=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n### 2. NuGet 依存関係の復元\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 6,
    "Content": "```bash\ndotnet restore\n```",
    "ContentSha": "+Oy6whqeumY9C3bBuQJB+9sKwk7SGKnhLLK9WFhJSbs=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```bash\ndotnet restore\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 7,
    "Content": "\n### 3. 构建项目\n",
    "ContentSha": "QMrlKc9SaL1odE0jdmYwc9IO13NKRwuh0+JTtGaPtW4=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "### 3. プロジェクトの構築\n\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 8,
    "Content": "```bash\ndotnet build\n```",
    "ContentSha": "/qh4FT/+fK65m7vGe0WB8ZDdAkgFps1KnyvBeQiBhRA=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```bash\ndotnet build\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 9,
    "Content": "\n## 使用方法\n\n### 基本运行\n\n**重要：必须以管理员权限运行！**\n",
    "ContentSha": "Hc56q2TtMj4rEoLXBoTyVrAFez9oTtprkRALvXFM7q4=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n## 使用方法\n\n### 基本运行\n\n**重要：必ず管理者権限で実行してください！**\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 10,
    "Content": "```bash\n# 默认模式：只打印 HTTP Request 的时间 + 方法 + 路径\ndotnet run\n\n# 完整模式：打印完整数据包信息（包含 IP/MAC/端口/Body 等）\ndotnet run -- --full\n\n# 先构建后运行\ndotnet build\ndotnet bin/Debug/net6.0/PacketSniffer.exe\n```",
    "ContentSha": "n1GCxX7RGtAk5c+qtrTsQSNQ9AmkwudFgTty/HtfrZM=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```bash\n# 默认模式：只打印 HTTP Request 的时间 + 方法 + 路径\ndotnet run\n\n# 完整模式：打印完整数据包信息（包含 IP/MAC/端口/Body 等）\ndotnet run -- --full\n\n# 先构建后运行\ndotnet build\ndotnet bin/Debug/net6.0/PacketSniffer.exe\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 11,
    "Content": "\n### 配置文件 `config.json`\n\n所有需要手动调整的内容都集中在根目录的 `config.json`，程序运行时会从 **exe 所在目录** 读取该文件。\n\n示例：\n",
    "ContentSha": "LQ+/kb4tfnMeJroUHUZnDtRtbIVkTW87i3+Wp354204=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n### 配置文件 `config.json`\n\n所有需要手动调整的内容都集中在根目录的 `config.json`，程序运行时会从 **exe 所在目录** 读取该文件。\n\n示例：\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 12,
    "Content": "```json\n{\n  \"DeviceKeyword\": \"loopback\",\n  \"Ports\": [5005],\n  \"FilterSourcePort\": true,\n  \"FilterDestinationPort\": true,\n  \"HttpPathFilters\": [\n    \"/api/\"\n  ]\n}\n```",
    "ContentSha": "gj3SRLSUHjwJeAg7m/ObjJSgFl79brekSS7H5hVMe+I=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```json\n{\n  \"DeviceKeyword\": \"loopback\",\n  \"Ports\": [5005],\n  \"FilterSourcePort\": true,\n  \"FilterDestinationPort\": true,\n  \"HttpPathFilters\": [\n    \"/api/\"\n  ]\n}\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 13,
    "Content": "\n- **DeviceKeyword**：网卡筛选关键字（匹配 Name/Description）。  \n  例如 `\"Intel\"`、`\"Realtek\"`、`\"Npcap Loopback\"`、`\"loopback\"`。为空或省略时，将自动选择物理网卡优先，其次 Npcap Loopback。\n- **Ports**：监听的端口列表（源端口或目标端口任一匹配即可）。为空或省略时，监听所有端口。\n- **FilterSourcePort / FilterDestinationPort**：是否按源端口 / 目标端口进行过滤。\n- **HttpPathFilters**：HTTP 请求路径过滤关键字，仅对 **HTTP Request** 生效。  \n  例如 `[\"/api/\"]` 表示只打印路径中包含 `/api/` 的 HTTP 请求。\n\n### 运行流程\n\n1. 启动时读取 `config.json`，确定：网卡关键字、监听端口、HTTP 路径过滤规则。\n2. 根据 `DeviceKeyword` 从网卡列表中模糊匹配，优先选择配置指定的网卡；若未配置则自动选择物理网卡优先，其次 Npcap Loopback。  \n   此时控制台会列出所有网卡并标注 `[PHYSICAL]` / `[VIRTUAL]` / `[LOOPBACK]`。\n3. 开启混杂模式（Promiscuous Mode）进行抓包。\n4. 实时捕获 TCP/UDP 包的 payload，并根据端口配置 (`Ports` + FilterSource/FilterDestination) 做过滤。\n5. 自动识别协议类型（JsonParser → HttpParser → BinaryParser）。\n6. 默认模式下：只处理 HTTP Request，解析请求行并打印 `时间 + 方法 + 路径 + 端口`，可选按路径关键字过滤。\n7. 完整模式（`--full`）下：对每个包构建 `PacketInfo`，打印完整的包结构、头部信息和 Payload 摘要。\n\n### 停止程序\n\n按 `Ctrl+C` 优雅退出，程序会自动停止抓包并清理资源。\n\n## 协议解析说明\n\n### JSON 协议解析\n\n- **识别方式**：检查 payload 是否以 `{` 或 `[` 开头\n- **解析内容**：提取所有一级字段的键值对\n- **输出格式**：`Protocol=json, Fields={key1=value1, key2=value2, ...}`\n\n### HTTP 协议解析\n\n- **识别方式**：检查是否以 HTTP 方法（GET/POST等）或 `HTTP/1.x` 开头\n- **解析内容**：\n  - 解析 HTTP Headers（所有 header 字段）\n  - 解析 Request Line 或 Status Line\n  - 如果 Body 是 JSON 格式，自动解析 JSON 字段\n- **输出格式**：`Protocol=http, Fields={request_line=..., header_Content-Type=..., ...}`\n",
    "ContentSha": "moJnXu/W8fiiHGWbC6h3xqQSMuh4zL3p1W/UBmRdyu4=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "- **DeviceKeyword**：ネットワークカードのフィルターキーワード（Name/Descriptionにマッチ）。  \n  例えば `\"Intel\"`、`\"Realtek\"`、`\"Npcap Loopback\"`、`\"loopback\"`。空または省略時は物理ネットワークカードを優先的に選択し、次に Npcap Loopback を選択します。\n- **Ports**：監視するポートのリスト（送信元ポートまたは宛先ポートのいずれかにマッチすればよい）。空または省略時は全ポートを監視します。\n- **FilterSourcePort / FilterDestinationPort**：送信元ポート / 宛先ポートでフィルタリングするかどうか。\n- **HttpPathFilters**：HTTPリクエストパスのフィルターキーワード。**HTTP Request** のみ有効。  \n  例えば `[\"/api/\"]` はパスに `/api/` を含むHTTPリクエストのみを表示します。\n\n### 実行フロー\n\n1. 起動時に `config.json` を読み込み、ネットワークカードキーワード、監視ポート、HTTPパスフィルターのルールを決定します。\n2. `DeviceKeyword` に基づきネットワークカードリストから曖昧一致で選択し、設定がなければ物理ネットワークカードを優先し、次に Npcap Loopback を選択します。  \n   この時点でコンソールに全てのネットワークカードが `[PHYSICAL]` / `[VIRTUAL]` / `[LOOPBACK]` のラベル付きで表示されます。\n3. プロミスキャスモード（Promiscuous Mode）を有効にしてパケットキャプチャを開始します。\n4. TCP/UDPパケットのペイロードをリアルタイムにキャプチャし、ポート設定（`Ports` + FilterSource/FilterDestination）に基づいてフィルタリングします。\n5. プロトコルタイプを自動識別します（JsonParser → HttpParser → BinaryParser）。\n6. デフォルトモードでは：HTTPリクエストのみ処理し、リクエストラインを解析して `時間 + メソッド + パス + ポート` を表示し、パスキーワードによるフィルタも可能です。\n7. フルモード（`--full`）では：各パケットに対して `PacketInfo` を構築し、完全なパケット構造、ヘッダー情報、ペイロードの概要を表示します。\n\n### プログラム停止\n\n`Ctrl+C` を押すと正常終了し、プログラムは自動的にキャプチャを停止しリソースを解放します。\n\n## プロトコル解析説明\n\n### JSON プロトコル解析\n\n- **識別方法**：ペイロードが `{` または `[` で始まるかをチェック\n- **解析内容**：トップレベルの全フィールドのキーと値を抽出\n- **出力フォーマット**：`Protocol=json, Fields={key1=value1, key2=value2, ...}`\n\n### HTTP プロトコル解析\n\n- **識別方法**：HTTPメソッド（GET/POSTなど）や `HTTP/1.x` で始まるかをチェック\n- **解析内容**：\n  - HTTPヘッダー（全ヘッダー項目）を解析\n  - リクエストラインまたはステータスラインを解析\n  - ボディがJSON形式の場合は自動的にJSONフィールドを解析\n- **出力フォーマット**：`Protocol=http, Fields={request_line=..., header_Content-Type=..., ...}`\n\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 14,
    "Content": "### 二进制协议解析\n\n- **识别方式**：作为兜底解析器，所有无法识别的协议都会使用此解析器\n- **解析内容**：将 payload 转换为十六进制字符串\n- **输出格式**：`Protocol=binary, Fields={hex=AA BB CC DD ...}`\n- **扩展提示**：可在 `BinaryParser.cs` 中添加自定义协议解析逻辑\n\n## 业务逻辑处理\n\n当前版本默认只做“捕获 + 解析 + 打印”，便于你观察实际流量：\n\n- 默认模式下：只打印 HTTP Request 的时间、方法、路径和端口信息。\n- 完整模式下：打印完整 `PacketInfo`，包括链路层/IP 层/传输层信息及 Payload 概要。\n- 业务处理入口 `HandleBusinessLogic(ParsedResult result)` 仍然保留，方便你后续按解析结果做自定义处理。\n\n## 自定义扩展\n\n### 添加新的协议解析器\n\n1. 实现 `IParser` 接口：\n",
    "ContentSha": "iXwPJZN2OhoK3Ixbq5QfVA18Ab6U5X/x5BnxedVU0/8=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "### バイナリプロトコル解析\n\n- **識別方法**：フォールバック解析器として、認識できないすべてのプロトコルはこの解析器を使用します\n- **解析内容**：ペイロードを16進数の文字列に変換します\n- **出力形式**：`Protocol=binary, Fields={hex=AA BB CC DD ...}`\n- **拡張ヒント**：`BinaryParser.cs` にカスタムプロトコル解析ロジックを追加可能です\n\n## ビジネスロジック処理\n\n現バージョンでは「キャプチャ＋解析＋表示」のみをデフォルトで行い、実際のトラフィックを観察しやすくしています：\n\n- デフォルトモード：HTTPリクエストの時間、メソッド、パス、ポート情報のみを表示します。\n- フルモード：リンク層/IP層/トランスポート層情報およびペイロード概要を含む完全な `PacketInfo` を表示します。\n- ビジネス処理のエントリポイント `HandleBusinessLogic(ParsedResult result)` は残してあり、解析結果に応じたカスタム処理を後で追加しやすくしています。\n\n## カスタム拡張\n\n### 新しいプロトコル解析器の追加\n\n1. `IParser` インターフェースを実装する：\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 15,
    "Content": "```csharp\npublic class CustomParser : IParser\n{\n    public bool CanParse(byte[] payload)\n    {\n        // 判断逻辑\n        return false;\n    }\n\n    public ParsedResult Parse(byte[] payload)\n    {\n        // 解析逻辑\n        return new ParsedResult { ... };\n    }\n}\n```",
    "ContentSha": "JijA5yH2KqtfK5MLMrmj2mIEd6FLUDmdQQV70f+dm5A=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```csharp\npublic class CustomParser : IParser\n{\n    public bool CanParse(byte[] payload)\n    {\n        // 判断逻辑\n        return false;\n    }\n\n    public ParsedResult Parse(byte[] payload)\n    {\n        // 解析逻辑\n        return new ParsedResult { ... };\n    }\n}\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 16,
    "Content": "\n2. 在 `Program.cs` 中注册：\n",
    "ContentSha": "5ULV455HJ1YbqrOv5wZ7RbAtsrRd5Dfh+ghl6Rp/uws=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n2. `Program.cs` に登録します：\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 17,
    "Content": "```csharp\nrouter.RegisterParser(new CustomParser());\n```",
    "ContentSha": "wFX8h0yNAMvpVabAuAVj27jrxQYQKJEHoLUORBxw43s=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```csharp\nrouter.RegisterParser(new CustomParser());\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 18,
    "Content": "\n### 扩展业务逻辑\n\n在 `PacketRouter.cs` 的 `HandleBusinessLogic()` 方法中添加自定义逻辑：\n",
    "ContentSha": "MoDCsOzoUBbTGz4Oh3fDZIPQ2SM1i8KlRSIaBZGq9xE=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n### 拡張ビジネスロジック\n\n`PacketRouter.cs` の `HandleBusinessLogic()` メソッドにカスタムロジックを追加します：\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 19,
    "Content": "```csharp\nprivate void HandleBusinessLogic(ParsedResult result)\n{\n    // 添加你的业务逻辑\n    if (result.Fields.ContainsKey(\"yourKey\"))\n    {\n        // 处理逻辑\n    }\n}\n```",
    "ContentSha": "sYW0j0E177DdT/boNGR8Wr9MmKDd+v+2A4zbcfm2BYg=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```csharp\nprivate void HandleBusinessLogic(ParsedResult result)\n{\n    // 添加你的业务逻辑\n    if (result.Fields.ContainsKey(\"yourKey\"))\n    {\n        // 处理逻辑\n    }\n}\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 20,
    "Content": "\n## 输出示例\n\n### 默认模式：只打印 HTTP 请求路径\n\n使用如下配置（`config.json`）示例：\n",
    "ContentSha": "kjUNFS+ihDTNaXlo54HmrQixS0o2I5i25Kk1M+YY5tE=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n## 出力例\n\n### デフォルトモード：HTTPリクエストパスのみを表示\n\n以下の設定（`config.json`）の例を使用します：\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 21,
    "Content": "```json\n{\n  \"DeviceKeyword\": \"loopback\",\n  \"Ports\": [5005],\n  \"FilterSourcePort\": true,\n  \"FilterDestinationPort\": true,\n  \"HttpPathFilters\": [\n    \"/api/\"\n  ]\n}\n```",
    "ContentSha": "gj3SRLSUHjwJeAg7m/ObjJSgFl79brekSS7H5hVMe+I=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```json\n{\n  \"DeviceKeyword\": \"loopback\",\n  \"Ports\": [5005],\n  \"FilterSourcePort\": true,\n  \"FilterDestinationPort\": true,\n  \"HttpPathFilters\": [\n    \"/api/\"\n  ]\n}\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 22,
    "Content": "\n运行输出示例：\n",
    "ContentSha": "ttyJSMwcYnWfMOCQskiBdeWaSDHMlW4ODPAu2SWbWlk=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n実行出力例：\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 23,
    "Content": "```text\n=== Packet Sniffer - Protocol Parse Mode ===\n已加载配置文件: C:\\...\\bin\\Debug\\net6.0\\config.json\n端口过滤: 已启用，监听端口: 5005\n过滤模式: 源端口=True, 目标端口=True\n网卡关键字: \"loopback\"（将优先匹配 Name/Description）\nHTTP 路径过滤已启用，关键字列表：\n  - /api/\n\nUsing device (from config/auto): Npcap Loopback Adapter\nPacket capture started. Press Ctrl+C to stop.\n\n======================================================================================================================\n[2025-12-01 16:30:12.345] GET /api/user/123  (src:52345 -> dst:5005)\n======================================================================================================================\n[2025-12-01 16:30:13.001] POST /api/order/create  (src:52346 -> dst:5005)\n```",
    "ContentSha": "ehlAaoqDEz/SP6PkMReJ+EutZcS8mYsEhrYyQi54zCw=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```text\n=== Packet Sniffer - Protocol Parse Mode ===\n已加载配置文件: C:\\...\\bin\\Debug\\net6.0\\config.json\n端口过滤: 已启用，监听端口: 5005\n过滤模式: 源端口=True, 目标端口=True\n网卡关键字: \"loopback\"（将优先匹配 Name/Description）\nHTTP 路径过滤已启用，关键字列表：\n  - /api/\n\nUsing device (from config/auto): Npcap Loopback Adapter\nPacket capture started. Press Ctrl+C to stop.\n\n======================================================================================================================\n[2025-12-01 16:30:12.345] GET /api/user/123  (src:52345 -> dst:5005)\n======================================================================================================================\n[2025-12-01 16:30:13.001] POST /api/order/create  (src:52346 -> dst:5005)\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 24,
    "Content": "\n### 完整模式：打印完整包信息\n",
    "ContentSha": "BOgPxRr70W4E7hJlS4BbEYiXANvv87M9onax+kT8GBQ=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "\n### フルモード：完全なパケット情報を表示\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 25,
    "Content": "```bash\ndotnet run -- --full\n```",
    "ContentSha": "iPAGoY1IEehPB9ljqrm7K9htGPUJXVm7YYUqrS0z/dM=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```bash\ndotnet run -- --full\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 26,
    "Content": "\n输出示例（截断）：\n",
    "ContentSha": "FTXFTujTuqP6UvSqfn8T5If20THk0hKRxjq2DfFaS6c=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "出力例（切り捨て）：\n\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 27,
    "Content": "```text\n================================================================================\n数据包捕获时间: 2025-12-01 16:31:00.123\n--------------------------------------------------------------------------------\n数据包长度: 1500 字节\n链路层类型: Ethernet\n源 MAC 地址: AA:BB:CC:DD:EE:FF\n目标 MAC 地址: 11:22:33:44:55:66\n\n网络层协议: IPv4Packet\nIP 版本: IPv4\n源 IP 地址: 192.168.1.100\n目标 IP 地址: 192.168.1.1\nTTL: 64\n\n传输层协议: TCP\n源端口: 52345\n目标端口: 5005\nTCP 标志: Syn, Ack\n\nPayload 长度: 256 字节\nPayload (十六进制):\n0000: 47 45 54 20 2F 61 70 69 2F 75 73 65 72 2F 31 32 | GET /api/user/12\n...\n================================================================================\n```",
    "ContentSha": "uI25QoRyiUFWIJHoUMhtxqaeoAkBHdkPX4kkKZaquLc=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "```text\n================================================================================\n数据包捕获时间: 2025-12-01 16:31:00.123\n--------------------------------------------------------------------------------\n数据包长度: 1500 字节\n链路层类型: Ethernet\n源 MAC 地址: AA:BB:CC:DD:EE:FF\n目标 MAC 地址: 11:22:33:44:55:66\n\n网络层协议: IPv4Packet\nIP 版本: IPv4\n源 IP 地址: 192.168.1.100\n目标 IP 地址: 192.168.1.1\nTTL: 64\n\n传输层协议: TCP\n源端口: 52345\n目标端口: 5005\nTCP 标志: Syn, Ack\n\nPayload 长度: 256 字节\nPayload (十六进制):\n0000: 47 45 54 20 2F 61 70 69 2F 75 73 65 72 2F 31 32 | GET /api/user/12\n...\n================================================================================\n```",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": true
  },
  {
    "Id": 28,
    "Content": "\n## 注意事项\n\n1. **管理员权限**：抓包功能需要管理员权限，否则无法打开网络适配器\n2. **防火墙**：某些防火墙可能会阻止抓包操作\n3. **性能影响**：大量网络流量可能会影响程序性能，建议使用端口过滤减少处理量\n4. **隐私安全**：请确保在合法合规的环境中使用，不要抓取他人隐私数据\n5. **端口过滤**：使用端口过滤可以显著减少处理的数据包数量，提高性能\n\n## 故障排除\n\n### 问题1：找不到网络设备\n\n**错误信息**：`No network devices found`\n\n**解决方案**：\n- 确保已安装网络适配器驱动\n- 检查是否有可用的网络连接\n- 尝试以管理员权限运行\n\n### 问题2：无法打开设备\n\n**错误信息**：`Failed to open device`\n\n**解决方案**：\n- 确保以管理员权限运行\n- 检查是否有其他程序占用网络适配器\n- 尝试重启程序\n\n### 问题3：解析失败\n\n**现象**：某些数据包无法解析\n\n**说明**：这是正常现象，无法识别的协议会使用 BinaryParser 输出十六进制格式\n\n## 技术栈\n\n- **.NET 6.0** - 开发框架\n- **SharpPcap 6.2.5** - 网络抓包库\n- **PacketDotNet 1.4.7** - 数据包解析库",
    "ContentSha": "O51vD6tG6vjx8xmeQW5pxGURF2SMCo7Ut44OxMgd8a8=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "## 注意事項\n\n1. **管理者権限**：パケットキャプチャ機能は管理者権限が必要で、そうでなければネットワークアダプターを開けません\n2. **ファイアウォール**：一部のファイアウォールはパケットキャプチャ操作を阻止する可能性があります\n3. **パフォーマンス影響**：大量のネットワークトラフィックはプログラムのパフォーマンスに影響を与えるため、ポートフィルタリングの使用を推奨します\n4. **プライバシーと安全性**：合法かつ適切な環境で使用し、他人のプライバシーデータをキャプチャしないでください\n5. **ポートフィルタリング**：ポートフィルタリングを使用すると処理するパケット数を大幅に減らし、パフォーマンスを向上させます\n\n## トラブルシューティング\n\n### 問題1：ネットワークデバイスが見つからない\n\n**エラーメッセージ**：`No network devices found`\n\n**解決策**：\n- ネットワークアダプターのドライバーがインストールされていることを確認する\n- 利用可能なネットワーク接続があるか確認する\n- 管理者権限で実行してみる\n\n### 問題2：デバイスを開けない\n\n**エラーメッセージ**：`Failed to open device`\n\n**解決策**：\n- 管理者権限で実行していることを確認する\n- 他のプログラムがネットワークアダプターを使用していないか確認する\n- プログラムを再起動してみる\n\n### 問題3：解析失敗\n\n**現象**：一部のパケットが解析できない\n\n**説明**：これは正常な現象で、認識できないプロトコルは BinaryParser により16進数形式で出力されます\n\n## 技術スタック\n\n- **.NET 6.0** - 開発フレームワーク\n- **SharpPcap 6.2.5** - ネットワークキャプチャライブラリ\n- **PacketDotNet 1.4.7** - パケット解析ライブラリ\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  },
  {
    "Id": 29,
    "Content": "- **Newtonsoft.Json 13.0.3** - JSON 解析库\n\n## 许可证\n\n本项目仅供学习和研究使用。\n\n## 更新日志\n\n### v1.0.0 (2024)\n- ✅ 实现实时网络抓包功能\n- ✅ 支持 JSON/HTTP/二进制协议自动识别\n- ✅ 实现业务逻辑分发机制\n- ✅ 支持优雅退出（Ctrl+C）\n\n## 联系方式\n\n如有问题或建议，请提交 Issue 或 Pull Request。\n\n---\n\n**⚠️ 免责声明**：本工具仅供学习和合法用途使用，使用者需自行承担使用本工具所产生的法律责任。\n\n\n## Stargazers over time\n[![Stargazers over time](https://starchart.cc/Preserved-name/PacketSniffer.svg?variant=adaptive)](https://starchart.cc/Preserved-name/PacketSniffer)\n",
    "ContentSha": "wJGM+pFhlbZjwS3sAAbfUGeraf7t5sLkx07t1K/LPoQ=",
    "SectionType": "",
    "StartLine": 0,
    "EndLine": 0,
    "Translation": "- **Newtonsoft.Json 13.0.3** - JSON解析ライブラリ\n\n## ライセンス\n\n本プロジェクトは学習および研究目的のみに使用してください。\n\n## 更新履歴\n\n### v1.0.0 (2024)\n- ✅ リアルタイムネットワークパケットキャプチャ機能を実装\n- ✅ JSON/HTTP/バイナリプロトコルの自動識別に対応\n- ✅ ビジネスロジックのディスパッチ機構を実装\n- ✅ 優雅な終了（Ctrl+C）に対応\n\n## 連絡先\n\nご質問やご提案がありましたら、IssueまたはPull Requestを提出してください。\n\n---\n\n**⚠️ 免責事項**：本ツールは学習および合法的な用途のみに使用してください。使用に伴う法的責任は利用者自身が負うものとします。\n\n\n## Stargazers over time\n[![Stargazers over time](https://starchart.cc/Preserved-name/PacketSniffer.svg?variant=adaptive)](https://starchart.cc/Preserved-name/PacketSniffer)\n",
    "Status": "ok",
    "RowTranslations": [],
    "IsCodeBlock": false
  }
]