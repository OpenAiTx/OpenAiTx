# wmproxy
[![crates.io](https://img.shields.io/crates/v/wmproxy.svg)](https://crates.io/crates/wmproxy)
[![rustc 1.70.0](https://img.shields.io/badge/rust-1.70%2B-orange.svg)](https://img.shields.io/badge/rust-1.70%2B-orange.svg)
[![Released API docs](https://docs.rs/wmproxy/badge.svg)](https://docs.rs/wmproxy)

ุชู ุชูููุฐ `wmproxy` ุจุงุณุชุฎุฏุงู ูุบุฉ `Rust`ุ ููุฏุนู ูููู `http/https`ุ ูููู `socks5`ุ ุงููููู ุงูุนูุณูุ ููุงุฒูุฉ ุงูุชุญูููุ ุฎุงุฏู ุงููููุงุช ุงูุซุงุจุชุฉุ ูููู `websocket`ุ ุฅุนุงุฏุฉ ุชูุฌูู TCP/UDP ูู ุงูุทุจูุฉ ุงูุฑุงุจุนุฉุ ุงุฎุชุฑุงู ุงูุดุจูุฉ ุงูุฏุงุฎููุฉุ ูุบูุฑูุง.

## ๐ฆ ุงูุชุซุจูุช & ๐ ุงูุงุณุชุฎุฏุงู

### ุงูุชุซุจูุช

```bash
cargo install wmproxy
```

ุฃู

```bash
git clone https://github.com/tickbh/wmproxy
cd wmproxy
cargo install --path .
```

```docker
docker pull dreamwhat/wmproxy
docker run -p 8090:8090 --name proxy_bash dreamwhat/wmproxy /bin/./wmproxy proxy -b 0.0.0.0:8090
```

### ุงูุงุณุชุฎุฏุงู
ุงููููุฐ ุงูุงูุชุฑุงุถู ูู 8090ุ ูุนููุงู ุงูุงุณุชูุงุน ุงูุงูุชุฑุงุถู ูู 127.0.0.1
```bash
# ุงุณุชุฎุฏุงู ุงููุนููุงุช ุงูุงูุชุฑุงุถูุฉ ูุจุงุดุฑุฉ
wmproxy proxy

# ุชุนููู ุงุณู ูุณุชุฎุฏู ููููุฉ ูุฑูุฑ
wmproxy proxy -b 0.0.0.0:8090 --user wmproxy --pass wmproxy

# ุฃูุงูุฑ ุฃุฎุฑู
wmproxy --help

# ุจุฏุก ุงูุชุดุบูู ุจุงุณุชุฎุฏุงู ููู ุงูุฅุนุฏุงุฏุงุช
wmproxy config -c config/client.toml
```

##### ุจุฏุก ูููู ุซุงููู
1. ุชุดุบูู ุงููููู ูุญูููุง
```bash
wmproxy proxy -b 127.0.0.1:8090 -S 127.0.0.1:8091 --ts
```
ุฃู
```bash
wmproxy config -c config/client.toml
```
ููู ุงูุฅุนุฏุงุฏุงุช ููุง ููู:
```toml
[proxy]
# ุนููุงู ุงูุงุชุตุงู ุจุงูุฎุงุฏู
#server = "127.0.0.1:8091"
bind_addr = "0.0.0.0:8090"
flag = "http https socks5"
# ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู ูุดูุฑ
ts = true
two_way_tls = true
# username = "wmproxy"
# password = "wmproxy"

# ูุตูููุฉ ุฅุนุฏุงุฏุงุช ุฑุจุท ุงูุดุจูุฉ ุงูุฏุงุฎููุฉ

  # ุฅุนุงุฏุฉ ุชูุฌูู ุงุณู ูุทุงู localhost ุฅูู ุงูุนููุงู ุงููุญูู 127.0.0.1:8080
[[proxy.mappings]]
name = "web"
mode = "http"
local_addr = "127.0.0.1:8080"
domain = "localhost"

headers = [
  "proxy x-forward-for {client_ip}",
  "proxy + from $url",
  "+ last-modified 'from proxy'",
  "- etag",
]

# ุฅุนุงุฏุฉ ุชูุฌูู ุญุฑูุฉ ูุฑูุฑ tcp ุบูุฑ ูุดุฑูุทุฉ ุฅูู 127.0.0.1:8080
[[proxy.mappings]]
name = "tcp"
mode = "tcp"
local_addr = "127.0.0.1:8080"
domain = ""
```

ูุธุฑูุง ูุฃูู ุฅุนุงุฏุฉ ุชูุฌูู ููุทุ ูุฅู ุชุนููู ุงุณู ูุณุชุฎุฏู ููููุฉ ูุฑูุฑ ุนูู ูุฐู ุงูุนูุฏุฉ ููุณ ูู ูุนูู. ูุดูุฑ ุงูุฎูุงุฑ `-S` ุฅูู ุนููุงู ุงููููู ุงูุซุงููู ุงูุฐู ูุชู ุงูุงุชุตุงู ุจูุ **ูุฌูุฏ ูุฐุง ุงูุฎูุงุฑ ูุนูู ุฃูู ูููู ูุณูุทุ ูุฅูุง ููู ูููู ููุงุฆู.** ูุดูุฑ ุงูุฎูุงุฑ ```--ts``` ุฅูู ุฃู ุงูุงุชุตุงู ุจุงููููู ุงูุฃุนูู ูุฌุจ ุฃู ูููู ูุดูุฑูุง.

2. ุชุดุบูู ุงููููู ุนู ุจูุนุฏ
```bash
wmproxy proxy --user proxy --pass proxy -b 0.0.0.0:8091 --tc
```
ุฃู
```bash
wmproxy config -c config/server.toml
```
ููู ุงูุฅุนุฏุงุฏุงุช ููุง ููู:
```toml
[proxy]
# ุนููุงู IP ุงููุฑุชุจุท
bind_addr = "127.0.0.1:8091"

# ุงููุธุงุฆู ุงููุฏุนููุฉ ูู ุงูููููุ 1 ุชุนูู httpุ 2 ุชุนูู httpsุ 4 ุชุนูู socks5
# flag = "7"
username = "wmproxy"
password = "wmproxy"

# ุนููุงู ุฑุจุท http ูุฑุจุท ุงูุดุจูุฉ ุงูุฏุงุฎููุฉ
map_http_bind = "127.0.0.1:8001"
# ุนููุงู ุฑุจุท tcp ูุฑุจุท ุงูุดุจูุฉ ุงูุฏุงุฎููุฉ
map_tcp_bind = "127.0.0.1:8002"
# ุนููุงู ุฑุจุท https ูุฑุจุท ุงูุดุจูุฉ ุงูุฏุงุฎููุฉ
map_https_bind = "127.0.0.1:8003"
# ุดูุงุฏุฉ ุงูููุชุงุญ ุงูุนุงู ูุฑุจุท ุงูุดุจูุฉ ุงูุฏุงุฎููุฉุ ุฅุฐุง ูุงูุช ูุงุฑุบุฉ ููู ุงูุดูุงุฏุฉ ุงูุงูุชุฑุงุถูุฉ
# map_cert = 
# ุดูุงุฏุฉ ุงูููุชุงุญ ุงูุฎุงุต ูุฑุจุท ุงูุดุจูุฉ ุงูุฏุงุฎููุฉุ ุฅุฐุง ูุงูุช ูุงุฑุบุฉ ููู ุงูุดูุงุฏุฉ ุงูุงูุชุฑุงุถูุฉ
# map_key =
# ูุตุงุฏูุฉ ุซูุงุฆูุฉ ุงูุงุชุฌุงู
two_way_tls = true
# ุงุณุชูุจุงู ุงูุนููุงุก ูุน ุชุดููุฑ
tc = true
# ูุถุน ุงูุฎุฏูุฉ ุงูุญุงููุ server ููุฎุงุฏูุ client ููุนููู
mode = "server"
```

ูุดูุฑ ุงูุฎูุงุฑ ```--tc``` ุฅูู ุฃู ุงุณุชูุจุงู ุงููููุงุก ูู ุงููุณุชูู ุงูุฃุฏูู ูุฌุจ ุฃู ูููู ุนุจุฑ ุงุชุตุงู ูุดูุฑุ ูููููู ุงุณุชุฎุฏุงู ```--cert``` ูุชุญุฏูุฏ ุดูุงุฏุฉ ุงูููุชุงุญ ุงูุนุงูุ ู```--key``` ูุชุญุฏูุฏ ุดูุงุฏุฉ ุงูููุชุงุญ ุงูุฎุงุตุ ู```--domain``` ูุชุญุฏูุฏ ุงุณู ุงููุทุงู ุงูุฎุงุต ุจุงูุดูุงุฏุฉุ ุฅุฐุง ูู ูุชู ุชุญุฏูุฏูุงุ ุณูุชู ุงุณุชุฎุฏุงู ุงูุดูุงุฏุฉ ุงูุงูุชุฑุงุถูุฉ ุงููุฑููุฉ.
> ูู ูุฐู ุงูููุทุฉุ ูู ูุชููู ูู ุงูุญุตูู ุนูู ุงูุนููุงู ุงูุญูููู ููุทูุจุ ููุท ุนููุงู ุงูุทูุจ ุงูุตุงุฏุฑ ูู ุงููููู

### ุงููุตุงุฏูุฉ ุจูู ุงููููุงุก
> ุญุงูููุงุ ููุงู ุทุฑููุชุงู ูููุตุงุฏูุฉ ุงูุซูุงุฆูุฉุ ุนูุฏ ุชูุนูู ```two_way_tls``` ุณูุชู ุชูุนูู ูุตุงุฏูุฉ ุดูุงุฏุฉ ุงูุนูููุ ูุงูุทุฑููุฉ ุงูุฃุฎุฑู ูู ุนูุฏ ุชุนููู ```username``` ู ```password``` ูู ุงูุฎุงุฏูุ ูุฌุจ ุนูู ุงูุนููู ุชุนููู ููุณ ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ ูุชูุนูู ุงููุตุงุฏูุฉุ ููููู ุงุณุชุฎุฏุงู ุงูุทุฑููุชูู ูุนูุง ุฃู ูู ูุงุญุฏุฉ ุนูู ุญุฏุฉ.
> ุฃุถู ุงูุชูููู ููุง ููู:

```yaml
proxy:
  two_way_tls: true
  username: wmproxy
  password: wmproxy
```

# ๐ฅ ุฎุงุฑุทุฉ ุงูุทุฑูู
### socks5

- [x] ุฏุนู IPV6
- [x] ุทุฑู ุชุญูู `SOCKS5`
  - [x] `NOAUTH`
  - [x] `USERPASS`
- [x] ุฃูุงูุฑ `SOCKS5`
  - [x] `CONNECT`
  - [x] `UDP ASSOCIATE`

### http/https

- [x] ุฏุนู IPV6

### ุงุฎุชุฑุงู ุงูุดุจูุฉ ุงูุฏุงุฎููุฉ

- [x] ุฏุนู Http
- [x] ุฏุนู Https
- [x] ุฏุนู Tcp

### ุงููููู ุงูุนูุณู

- [x] ุฎุงุฏู ูููุงุช ุซุงุจุชุฉ
- [x] ูุญุต ุตุญุฉ ุณูุจู
- [x] ูุญุต ุตุญุฉ ูุดุท
- [x] ุชุญููู ุงูุชูููู ุฏููุงูููููุง
- [x] ููุงุฒูุฉ ุงูุชุญููู
- [x] ุชุญููู TCP ูู ุงูุทุจูุฉ ุงูุฑุงุจุนุฉ
- [x] ุชุญููู UDP ูู ุงูุทุจูุฉ ุงูุฑุงุจุนุฉ
- [x] ุงูุชุญูู ูู ุญุฑูุฉ ุงููุฑูุฑ
- [x] ุฅุนุงุฏุฉ ุชูุฌูู websocket

### ุงููุฏุฑุงุช ุงูุฃุณุงุณูุฉ
- [x] ุงูุณุฌูุงุช

#### ุงููุฏุฑุงุช ุงูุฅุถุงููุฉ

- [x] ุชุญุฏูุฏ ุณุฑุนุฉ ุงูุทูุจุงุช (limit_req)
- [x] ุชุนุฏูู ุฑุฃุณ ุทูุจ HTTP
- [x] ุฏุนู ุงุฎุชุฑุงู ุงูุดุจูุฉ ุงูุฏุงุฎููุฉ ูู HTTP2
- [x] ุงูุชุญูู ูู ุงูุนููู ุงููุตุบุฑ
- [x] try_paths
- [x] ุชุญููู tcp ุฅูู websocket
- [x] ุชุญููู websocket ุฅูู tcp


## ุชุงุฑูุฎ ุงููุฌูู

[![Star History Chart](https://api.star-history.com/svg?repos=tickbh/wmproxy&type=Date)](https://star-history.com/#tickbh/wmproxy&Date)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-09

---