# wmproxy
[![crates.io](https://img.shields.io/crates/v/wmproxy.svg)](https://crates.io/crates/wmproxy)
[![rustc 1.70.0](https://img.shields.io/badge/rust-1.70%2B-orange.svg)](https://img.shields.io/badge/rust-1.70%2B-orange.svg)
[![Released API docs](https://docs.rs/wmproxy/badge.svg)](https://docs.rs/wmproxy)

`wmproxy` ุจุง ุฒุจุงู `Rust` ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช ู ุงุฒ ูุงุจูุชโูุง ูุงููุฏ ูพุฑุงฺฉุณ `http/https`ุ ูพุฑุงฺฉุณ `socks5`ุ ูพุฑุงฺฉุณ ูุนฺฉูุณุ ุจุงูุงูุณ ุจุงุฑุ ุณุฑูุฑ ูุงู ุงุณุชุงุชฺฉุ ูพุฑุงฺฉุณ `websocket`ุ ููุฑูุงุฑุฏูฺฏ TCP/UDP ูุงู ฺูุงุฑุ ุชูููโุฒู ุดุจฺฉู ุฏุงุฎู ู ุบุฑู ูพุดุชุจุงู ูโฺฉูุฏ.

## ๐ฆ ูุตุจ ู ๐ ุงุณุชูุงุฏู

### ูุตุจ

```bash
cargo install wmproxy
```

ุง

```bash
git clone https://github.com/tickbh/wmproxy
cd wmproxy
cargo install --path .
```

```docker
docker pull dreamwhat/wmproxy
docker run -p 8090:8090 --name proxy_bash dreamwhat/wmproxy /bin/./wmproxy proxy -b 0.0.0.0:8090
```

### ุงุณุชูุงุฏู
ูพูุฑุช ูพุดโูุฑุถ 8090 ู ุขุฏุฑุณ ฺฏูุด ุฏุงุฏู ูพุดโูุฑุถ 127.0.0.1 ูโุจุงุดุฏ.
```bash
# ุงุณุชูุงุฏู ูุณุชูู ุจุง ูพุงุฑุงูุชุฑูุง ูพุดโูุฑุถ
wmproxy proxy

# ุชูุธู ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ
wmproxy proxy -b 0.0.0.0:8090 --user wmproxy --pass wmproxy

# ุณุงุฑ ุฏุณุชูุฑุงุช
wmproxy --help

# ุฑุงูโุงูุฏุงุฒ ุจุง ูุงู ูพฺฉุฑุจูุฏ
wmproxy config -c config/client.toml
```

##### ุฑุงูโุงูุฏุงุฒ ูพุฑุงฺฉุณ ุณุทุญ ุฏูู
1. ุฑุงูโุงูุฏุงุฒ ูพุฑุงฺฉุณ ุฏุฑ ููฺฉุงู
```bash
wmproxy proxy -b 127.0.0.1:8090 -S 127.0.0.1:8091 --ts
```
ุง
```bash
wmproxy config -c config/client.toml
```
ููููู ูุงู ูพฺฉุฑุจูุฏ:
```toml
[proxy]
# ุขุฏุฑุณ ุณุฑูุฑ ุฌูุช ุงุชุตุงู
#server = "127.0.0.1:8091"
bind_addr = "0.0.0.0:8090"
flag = "http https socks5"
# ุขุง ุงุชุตุงู ุจู ุณุฑูุฑ ุฑูุฒูฺฏุงุฑ ุดูุฏ
ts = true
two_way_tls = true
# username = "wmproxy"
# password = "wmproxy"

# ุขุฑุงูโุง ุงุฒ ุชูุธูุงุช ูฺฏุงุดุช ุดุจฺฉู ุฏุงุฎู

  # ูุฏุงุช ุฏุงูู localhost ุจู 127.0.0.1:8080 ุฏุฑ ููฺฉุงู
[[proxy.mappings]]
name = "web"
mode = "http"
local_addr = "127.0.0.1:8080"
domain = "localhost"

headers = [
  "proxy x-forward-for {client_ip}",
  "proxy + from $url",
  "+ last-modified 'from proxy'",
  "- etag",
]

# ูุฏุงุช ุจุฏูู ูุฏ ู ุดุฑุท ุชุฑุงูฺฉ TCP ุจู 127.0.0.1:8080
[[proxy.mappings]]
name = "tcp"
mode = "tcp"
local_addr = "127.0.0.1:8080"
domain = ""
```

ุจู ุฏูู ุงูฺฉู ุตุฑูุงู ููุฑูุงุฑุฏูฺฏ ุงูุฌุงู ูโุดูุฏุ ุชูุธู ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุฏุฑ ุงู ููุฏ ูุนูุง ูุฏุงุฑุฏ. `-S` ุขุฏุฑุณ ูพุฑุงฺฉุณ ุณุทุญ ุฏูู ุจุฑุง ุงุชุตุงู ุงุณุชุ **ูุฌูุฏ ุงู ูพุงุฑุงูุชุฑ ุจู ูุนูุง ูพุฑุงฺฉุณ ูุงู ู ูุจูุฏ ุขู ุจู ูุนูุง ูพุฑุงฺฉุณ ุงูุชูุง ุงุณุช.** ```--ts``` ุจู ูุนูุง ุฑูุฒูฺฏุงุฑ ุงุฑุชุจุงุท ุจุง ูพุฑุงฺฉุณ ูุงูุฏ ูโุจุงุดุฏ.

2. ุฑุงูโุงูุฏุงุฒ ูพุฑุงฺฉุณ ุฏุฑ ุฑููุช
```bash
wmproxy proxy --user proxy --pass proxy -b 0.0.0.0:8091 --tc
```
ุง
```bash
wmproxy config -c config/server.toml
```
ููููู ูุงู ูพฺฉุฑุจูุฏ:
```toml
[proxy]
# ุขุฏุฑุณ IP ุจุฑุง ฺฏูุด ุฏุงุฏู
bind_addr = "127.0.0.1:8091"

# ูุงุจูุชโูุง ูพุดุชุจุงู ุดุฏู ุชูุณุท ูพุฑุงฺฉุณุ 1 ุจุฑุง httpุ 2 ุจุฑุง httpsุ 4 ุจุฑุง socks5
# flag = "7"
username = "wmproxy"
password = "wmproxy"

# ุขุฏุฑุณ ฺฏูุด ุฏุงุฏู ุจุฑุง ูฺฏุงุดุช http ุดุจฺฉู ุฏุงุฎู
map_http_bind = "127.0.0.1:8001"
# ุขุฏุฑุณ ฺฏูุด ุฏุงุฏู ุจุฑุง ูฺฏุงุดุช tcp ุดุจฺฉู ุฏุงุฎู
map_tcp_bind = "127.0.0.1:8002"
# ุขุฏุฑุณ ฺฏูุด ุฏุงุฏู ุจุฑุง ูฺฏุงุดุช https ุดุจฺฉู ุฏุงุฎู
map_https_bind = "127.0.0.1:8003"
# ฺฏูุงู ุนููู ูฺฏุงุดุช ุดุจฺฉู ุฏุงุฎูุ ุฏุฑ ุตูุฑุช ุฎุงู ุจูุฏู ฺฏูุงู ูพุดโูุฑุถ ุงุณุช
# map_cert = 
# ฺฉูุฏ ุฎุตูุต ูฺฏุงุดุช ุดุจฺฉู ุฏุงุฎูุ ุฏุฑ ุตูุฑุช ุฎุงู ุจูุฏู ฺฉูุฏ ูพุดโูุฑุถ ุงุณุช
# map_key =
# ุงุญุฑุงุฒ ููุช ุฏูุทุฑูู
two_way_tls = true
# ูพุฐุฑุด ฺฉูุงูุช ุฑูุฒูฺฏุงุฑ ุดุฏู
tc = true
# ุญุงูุช ูุนู ุณุฑูุณุ server ุจุฑุง ุณุฑูุฑ ู client ุจุฑุง ฺฉูุงูุช
mode = "server"
```

```--tc``` ุจู ูุนูุง ุฑูุฒูฺฏุงุฑ ุงุฑุชุจุงุท ุจุง ูพุฑุงฺฉุณโูุง ุฒุฑูุฌููุนู ุงุณุช. ูโุชูุงูุฏ ุจุง ```--cert``` ฺฏูุงู ุนููู ู ุจุง ```--key``` ฺฉูุฏ ุฎุตูุต ุฑุง ูุดุฎุต ฺฉูุฏ ู ุจุง ```--domain``` ุฏุงูู ูุฑุจูุท ุจู ฺฏูุงู ุฑุง ุชุนู ููุงุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ูพุงุฑุงูุชุฑ ูพุดโูุฑุถ ุงุณุชูุงุฏู ูโุดูุฏ.
> ุงุฒ ุงูุฌุง ุจู ุจุนุฏุ ุจุง ุงุณุชูุงุฏู ุงุฒ ูพุฑุงฺฉุณ ุฏฺฏุฑ ููโุชูุงู ุจู ุขุฏุฑุณ ูุงูุน ุฏุฑุฎูุงุณุช ุฏุณุช ุงูุช ู ููุท ุขุฏุฑุณ ุงุฑุณุงู ุชูุณุท ูพุฑุงฺฉุณ ูุงุจู ูุดุงูุฏู ุงุณุช.

### ุงุญุฑุงุฒ ููุช ุจู ูพุฑุงฺฉุณโูุง
> ุฏุฑ ุญุงู ุญุงุถุฑ ุฏู ููุน ุงุญุฑุงุฒ ููุช ุงุฑุงุฆู ุดุฏู ุงุณุชุ ุจุง ูุนุงูโุณุงุฒ ```two_way_tls``` ุงุญุฑุงุฒ ููุช ฺฏูุงู ฺฉูุงูุช ูุนุงู ูโุดูุฏ. ุฑูุด ุฏฺฏุฑุ ุชูุธู ```username``` ู ```password``` ุฏุฑ ุณุฑูุฑ ุงุณุช ฺฉู ฺฉูุงูุช ูุฒ ุจุงุฏ ููู ููุงุฏุฑ ุฑุง ุจุฑุง ุงุญุฑุงุฒ ููุช ุชูุธู ฺฉูุฏ. ุงู ุฏู ุฑูุด ูโุชูุงููุฏ ุจู ุตูุฑุช ููุฒูุงู ุง ุฌุฏุงฺฏุงูู ุงุณุชูุงุฏู ุดููุฏ.
> ููููู ูพฺฉุฑุจูุฏ:

```yaml
proxy:
  two_way_tls: true
  username: wmproxy
  password: wmproxy
```

# ๐ฅ ููุดู ุฑุงู
### socks5

- [x] ูพุดุชุจุงู ุงุฒ IPV6
- [x] ุฑูุดโูุง ุงุญุฑุงุฒ ููุช `SOCKS5`
  - [x] `NOAUTH`
  - [x] `USERPASS`
- [x] ุฏุณุชูุฑุงุช `SOCKS5`
  - [x] `CONNECT`
  - [x] `UDP ASSOCIATE`

### http/https

- [x] ูพุดุชุจุงู ุงุฒ IPV6

### ุชูููโุฒู ุดุจฺฉู ุฏุงุฎู

- [x] ูพุดุชุจุงู ุงุฒ Http
- [x] ูพุดุชุจุงู ุงุฒ Https
- [x] ูพุดุชุจุงู ุงุฒ Tcp

### ูพุฑุงฺฉุณ ูุนฺฉูุณ

- [x] ุณุฑูุฑ ูุงู ุงุณุชุงุชฺฉ
- [x] ุจุฑุฑุณ ุณูุงูุช ุบุฑูุนุงู
- [x] ุจุฑุฑุณ ุณูุงูุช ูุนุงู
- [x] ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ูพฺฉุฑุจูุฏ
- [x] ุจุงูุงูุณ ุจุงุฑ
- [x] ุจุงูุงูุณ TCP ูุงู ฺูุงุฑู
- [x] ุจุงูุงูุณ UDP ูุงู ฺูุงุฑู
- [x] ฺฉูุชุฑู ุชุฑุงูฺฉ
- [x] ููุฑูุงุฑุฏูฺฏ websocket

### ูุงุจูุชโูุง ูพุงู
- [x] ูุงฺฏโูุง

#### ูุงุจูุชโูุง ุชูุณุนูโุงูุชู

- [x] ูุญุฏูุฏุณุงุฒ ุฏุฑุฎูุงุณุช (limit_req)
- [x] ูุฑุงุด Header ุฏุฑุฎูุงุณุช HTTP
- [x] ูพุดุชุจุงู ุงุฒ ุชูููโุฒู HTTP2 ุฏุฑ ุดุจฺฉู ุฏุงุฎู
- [x] ฺฉูุชุฑู ูฺฉุฑูฺฉูุงูุช
- [x] try_paths
- [x] ุชุจุฏู tcp ุจู websocket
- [x] ุชุจุฏู websocket ุจู tcp


## ุชุงุฑุฎฺู ุณุชุงุฑูโูุง

[![Star History Chart](https://api.star-history.com/svg?repos=tickbh/wmproxy&type=Date)](https://star-history.com/#tickbh/wmproxy&Date)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-09

---