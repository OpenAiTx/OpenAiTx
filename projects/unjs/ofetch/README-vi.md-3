{
  "id": 3,
  "origin": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // Log error\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` will be called after `fetch` call and parsing body.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // Log response\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` is the same as `onResponse` but will be called when fetch happens but `response.ok` is not `true`.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // Log error\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### Passing array of interceptors\n\nIf necessary, it's also possible to pass an array of function that will be called sequentially.\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* Do something */\n    },\n    () => {\n      /* Do something else */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ Create fetch with default options\n\nThis utility is useful if you need to use common options across several fetch calls.\n\n**Note:** Defaults will be cloned at one level and inherited. Be careful about nested options like `headers`.\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // Same as ofetch('/test', { baseURL: '/api' })\n```\n\n## ðŸ’¡ Adding headers\n\nBy using `headers` option, `ofetch` adds extra headers in addition to the request default headers:\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ Access to Raw Response\n\nIf you need to access raw response (for headers, etc), you can use `ofetch.raw`:\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ Using Native Fetch\n\nAs a shortcut, you can use `ofetch.native` that provides native `fetch` API\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());",
  "origin_sha": "wuvdKqsuOA4W95Ll0BO8zm8DheYXXrOsgdngtydl1A0=",
  "translate": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // Ghi log lá»—i\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` sáº½ Ä‘Æ°á»£c gá»i sau khi gá»i `fetch` vÃ  phÃ¢n tÃ­ch body.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // Ghi log pháº£n há»“i\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` giá»‘ng nhÆ° `onResponse` nhÆ°ng sáº½ Ä‘Æ°á»£c gá»i khi fetch xáº£y ra nhÆ°ng `response.ok` khÃ´ng pháº£i lÃ  `true`.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // Ghi log lá»—i\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### Truyá»n máº£ng cÃ¡c interceptor\n\nNáº¿u cáº§n thiáº¿t, báº¡n cÅ©ng cÃ³ thá»ƒ truyá»n má»™t máº£ng cÃ¡c hÃ m sáº½ Ä‘Æ°á»£c gá»i tuáº§n tá»±.\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* Thá»±c hiá»‡n gÃ¬ Ä‘Ã³ */\n    },\n    () => {\n      /* Thá»±c hiá»‡n viá»‡c khÃ¡c */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ Táº¡o fetch vá»›i tÃ¹y chá»n máº·c Ä‘á»‹nh\n\nTiá»‡n Ã­ch nÃ y há»¯u Ã­ch náº¿u báº¡n cáº§n sá»­ dá»¥ng cÃ¡c tÃ¹y chá»n chung cho nhiá»u láº§n gá»i fetch.\n\n**LÆ°u Ã½:** TÃ¹y chá»n máº·c Ä‘á»‹nh sáº½ Ä‘Æ°á»£c nhÃ¢n báº£n á»Ÿ má»™t cáº¥p vÃ  káº¿ thá»«a. HÃ£y cáº©n tháº­n vá»›i cÃ¡c tÃ¹y chá»n lá»“ng nhau nhÆ° `headers`.\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i ofetch('/test', { baseURL: '/api' })\n```\n\n## ðŸ’¡ ThÃªm headers\n\nBáº±ng cÃ¡ch sá»­ dá»¥ng tÃ¹y chá»n `headers`, `ofetch` sáº½ thÃªm cÃ¡c header bá»• sung ngoÃ i cÃ¡c header máº·c Ä‘á»‹nh cá»§a request:\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ Truy cáº­p Raw Response\n\nNáº¿u báº¡n cáº§n truy cáº­p pháº£n há»“i thÃ´ (Ä‘á»ƒ láº¥y headers, v.v), báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng `ofetch.raw`:\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ Sá»­ dá»¥ng Native Fetch\n\nÄá»ƒ rÃºt ngáº¯n, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng `ofetch.native` Ä‘á»ƒ cung cáº¥p API `fetch` gá»‘c\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());\n```",
  "status": "ok"
}