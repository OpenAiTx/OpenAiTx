{
  "id": 1,
  "origin": "# ofetch\n\n[![npm version][npm-version-src]][npm-version-href]\n[![npm downloads][npm-downloads-src]][npm-downloads-href]\n[![bundle][bundle-src]][bundle-href]\n[![Codecov][codecov-src]][codecov-href]\n[![License][license-src]][license-href]\n[![JSDocs][jsdocs-src]][jsdocs-href]\n\nA better fetch API. Works on node, browser, and workers.\n\n<details>\n  <summary>Spoiler</summary>\n  <img src=\"https://media.giphy.com/media/Dn1QRA9hqMcoMz9zVZ/giphy.gif\">\n</details>\n\n## ğŸš€ Quick Start\n\nInstall:\n\n```bash\n# npm\nnpm i ofetch\n\n# yarn\nyarn add ofetch\n```\n\nImport:\n\n```js\n// ESM / Typescript\nimport { ofetch } from \"ofetch\";\n\n// CommonJS\nconst { ofetch } = require(\"ofetch\");\n```\n\n## âœ”ï¸ Works with Node.js\n\nWe use [conditional exports](https://nodejs.org/api/packages.html#packages_conditional_exports) to detect Node.js\nand automatically use [unjs/node-fetch-native](https://github.com/unjs/node-fetch-native). If `globalThis.fetch` is available, will be used instead. To leverage Node.js 17.5.0 experimental native fetch API use [`--experimental-fetch` flag](https://nodejs.org/dist/latest-v17.x/docs/api/cli.html#--experimental-fetch).\n\n## âœ”ï¸ Parsing Response\n\n`ofetch` will smartly parse JSON and native values using [destr](https://github.com/unjs/destr), falling back to the text if it fails to parse.\n\n```js\nconst { users } = await ofetch(\"/api/users\");\n```\n\nFor binary content types, `ofetch` will instead return a `Blob` object.\n\nYou can optionally provide a different parser than `destr`, or specify `blob`, `arrayBuffer`, or `text` to force parsing the body with the respective `FetchResponse` method.\n\n```js\n// Use JSON.parse\nawait ofetch(\"/movie?lang=en\", { parseResponse: JSON.parse });\n\n// Return text as is\nawait ofetch(\"/movie?lang=en\", { parseResponse: (txt) => txt });\n\n// Get the blob version of the response\nawait ofetch(\"/api/generate-image\", { responseType: \"blob\" });\n```\n\n## âœ”ï¸ JSON Body\n\nIf an object or a class with a `.toJSON()` method is passed to the `body` option, `ofetch` automatically stringifies it.\n\n`ofetch` utilizes `JSON.stringify()` to convert the passed object. Classes without a `.toJSON()` method have to be converted into a string value in advance before being passed to the `body` option.\n\nFor `PUT`, `PATCH`, and `POST` request methods, when a string or object body is set, `ofetch` adds the default `content-type: \"application/json\"` and `accept: \"application/json\"` headers (which you can always override).\n\nAdditionally, `ofetch` supports binary responses with `Buffer`, `ReadableStream`, `Stream`, and [compatible body types](https://developer.mozilla.org/en-US/docs/Web/API/fetch#body). `ofetch` will automatically set the `duplex: \"half\"` option for streaming support!\n\n**Example:**\n\n```js\nconst { users } = await ofetch(\"/api/users\", {\n  method: \"POST\",\n  body: { some: \"json\" },\n});\n```\n\n## âœ”ï¸ Handling Errors\n\n`ofetch` Automatically throws errors when `response.ok` is `false` with a friendly error message and compact stack (hiding internals).\n\nA parsed error body is available with `error.data`. You may also use `FetchError` type.\n\n```ts\nawait ofetch(\"https://google.com/404\");\n// FetchError: [GET] \"https://google/404\": 404 Not Found\n//     at async main (/project/playground.ts:4:3)\n```\n\nTo catch error response:\n\n```ts",
  "origin_sha": "7ZgVRDjscms2MJD1r7evPUo8J2Uh+wcg5EpARFSQNtI=",
  "translate": "# ofetch\n\n[![Ø¥ØµØ¯Ø§Ø± npm][npm-version-src]][npm-version-href]\n[![ØªÙ†Ø²ÙŠÙ„Ø§Øª npm][npm-downloads-src]][npm-downloads-href]\n[![Ø§Ù„Ø­Ø²Ù…Ø©][bundle-src]][bundle-href]\n[![Codecov][codecov-src]][codecov-href]\n[![Ø§Ù„Ø±Ø®ØµØ©][license-src]][license-href]\n[![JSDocs][jsdocs-src]][jsdocs-href]\n\nÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© ØªØ·Ø¨ÙŠÙ‚Ø§Øª fetch Ù…Ø­Ø³Ù‘Ù†Ø©. ØªØ¹Ù…Ù„ Ø¹Ù„Ù‰ nodeØŒ ÙˆØ§Ù„Ù…ØªØµÙØ­ØŒ Ùˆworkers.\n\n<details>\n  <summary>Ù…ÙØ³Ø¯</summary>\n  <img src=\"https://media.giphy.com/media/Dn1QRA9hqMcoMz9zVZ/giphy.gif\">\n</details>\n\n## ğŸš€ Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹\n\nØ§Ù„ØªØ«Ø¨ÙŠØª:\n\n```bash\n# npm\nnpm i ofetch\n\n# yarn\nyarn add ofetch\n```\n\nØ§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯:\n\n```js\n// ESM / Typescript\nimport { ofetch } from \"ofetch\";\n\n// CommonJS\nconst { ofetch } = require(\"ofetch\");\n```\n\n## âœ”ï¸ ÙŠØ¹Ù…Ù„ Ù…Ø¹ Node.js\n\nÙ†Ø³ØªØ®Ø¯Ù… [Ø§Ù„ØµØ§Ø¯Ø±Ø§Øª Ø§Ù„Ø´Ø±Ø·ÙŠØ©](https://nodejs.org/api/packages.html#packages_conditional_exports) Ù„Ø§ÙƒØªØ´Ø§Ù Node.js\nÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… [unjs/node-fetch-native](https://github.com/unjs/node-fetch-native) ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§. Ø¥Ø°Ø§ ÙƒØ§Ù† `globalThis.fetch` Ù…ØªØ§Ø­Ù‹Ø§ØŒ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù„Ù‹Ø§ Ù…Ù† Ø°Ù„Ùƒ. Ù„Ù„Ø§Ø³ØªÙØ§Ø¯Ø© Ù…Ù† ÙˆØ§Ø¬Ù‡Ø© fetch Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© ÙÙŠ Node.js 17.5.0 Ø§Ø³ØªØ®Ø¯Ù… Ø®ÙŠØ§Ø± [`--experimental-fetch`](https://nodejs.org/dist/latest-v17.x/docs/api/cli.html#--experimental-fetch).\n\n## âœ”ï¸ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©\n\nØ³ÙŠÙ‚ÙˆÙ… `ofetch` Ø¨ØªØ­Ù„ÙŠÙ„ JSON ÙˆØ§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø¨Ø°ÙƒØ§Ø¡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… [destr](https://github.com/unjs/destr)ØŒ Ù…Ø¹ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ù†Øµ Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„.\n\n```js\nconst { users } = await ofetch(\"/api/users\");\n```\n\nØ¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠØŒ Ø³ÙŠØ¹ÙŠØ¯ `ofetch` ÙƒØ§Ø¦Ù† `Blob` Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„Ùƒ.\n\nÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø±ÙŠØ§Ù‹ ØªÙˆÙÙŠØ± Ù…Ø­Ù„Ù„ Ù…Ø®ØªÙ„Ù Ø¹Ù† `destr`ØŒ Ø£Ùˆ ØªØ­Ø¯ÙŠØ¯ `blob`ØŒ Ø£Ùˆ `arrayBuffer`ØŒ Ø£Ùˆ `text` Ù„ÙØ±Ø¶ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¬Ø³Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø§Ù„Ø© `FetchResponse` Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©.\n\n```js\n// Ø§Ø³ØªØ®Ø¯Ù… JSON.parse\nawait ofetch(\"/movie?lang=en\", { parseResponse: JSON.parse });\n\n// Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù†Øµ ÙƒÙ…Ø§ Ù‡Ùˆ\nawait ofetch(\"/movie?lang=en\", { parseResponse: (txt) => txt });\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Ø³Ø®Ø© blob Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©\nawait ofetch(\"/api/generate-image\", { responseType: \"blob\" });\n```\n\n## âœ”ï¸ Ø¬Ø³Ù… JSON\n\nØ¥Ø°Ø§ ØªÙ… ØªÙ…Ø±ÙŠØ± ÙƒØ§Ø¦Ù† Ø£Ùˆ ÙØ¦Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¯Ø§Ù„Ø© `.toJSON()` Ø¥Ù„Ù‰ Ø®ÙŠØ§Ø± `body`ØŒ Ø³ÙŠÙ‚ÙˆÙ… `ofetch` Ø¨ØªØ­ÙˆÙŠÙ„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¥Ù„Ù‰ Ø³Ù„Ø³Ù„Ø© Ù†ØµÙŠØ©.\n\nÙŠØ³ØªØ®Ø¯Ù… `ofetch` Ø¯Ø§Ù„Ø© `JSON.stringify()` Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙƒØ§Ø¦Ù† Ø§Ù„Ù…Ù…Ø±Ø±. ÙŠØ¬Ø¨ ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¯Ø§Ù„Ø© `.toJSON()` Ø¥Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ù†ØµÙŠØ© Ù…Ø³Ø¨Ù‚Ù‹Ø§ Ù‚Ø¨Ù„ ØªÙ…Ø±ÙŠØ±Ù‡Ø§ Ø¥Ù„Ù‰ Ø®ÙŠØ§Ø± `body`.\n\nØ¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø·Ø±Ù‚ Ø§Ù„Ø·Ù„Ø¨ `PUT`ØŒ Ùˆ`PATCH`ØŒ Ùˆ`POST`ØŒ Ø¹Ù†Ø¯ ØªØ¹ÙŠÙŠÙ† Ø¬Ø³Ù… Ù†ØµÙŠ Ø£Ùˆ ÙƒØ§Ø¦Ù†ØŒ ÙŠØ¶ÙŠÙ `ofetch` Ø±Ø¤ÙˆØ³ `content-type: \"application/json\"` Ùˆ`accept: \"application/json\"` Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (ÙˆØ§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ†Ùƒ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªØ¬Ø§ÙˆØ²Ù‡Ø§).\n\nØ¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„ÙƒØŒ ÙŠØ¯Ø¹Ù… `ofetch` Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠØ© Ù…Ø¹ `Buffer`ØŒ Ùˆ`ReadableStream`ØŒ Ùˆ`Stream`ØŒ Ùˆ[Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø¬Ø³Ø§Ù… Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø©](https://developer.mozilla.org/en-US/docs/Web/API/fetch#body). Ø³ÙŠÙ‚ÙˆÙ… `ofetch` ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨ØªØ¹ÙŠÙŠÙ† Ø®ÙŠØ§Ø± `duplex: \"half\"` Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¨Ø«!\n\n**Ù…Ø«Ø§Ù„:**\n\n```js\nconst { users } = await ofetch(\"/api/users\", {\n  method: \"POST\",\n  body: { some: \"json\" },\n});\n```\n\n## âœ”ï¸ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\n\nÙŠÙ‚ÙˆÙ… `ofetch` ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ø±Ù…ÙŠ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ù‚ÙŠÙ…Ø© `response.ok` Ù‡ÙŠ `false` Ù…Ø¹ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ ÙˆØ¯ÙŠØ© ÙˆÙ…ÙƒØ¯Ø³ Ù…Ø®ØªØµØ± (Ù…Ø¹ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©).\n\nÙŠØªÙˆÙØ± Ø¬Ø³Ù… Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ù…Ø­Ù„Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `error.data`. ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙˆØ¹ `FetchError`.\n\n```ts\nawait ofetch(\"https://google.com/404\");\n// FetchError: [GET] \"https://google/404\": 404 Not Found\n//     at async main (/project/playground.ts:4:3)\n```\n\nÙ„Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø·Ø£:\n\n```ts",
  "status": "ok"
}