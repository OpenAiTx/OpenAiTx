{
  "id": 3,
  "origin": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // Log error\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` will be called after `fetch` call and parsing body.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // Log response\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` is the same as `onResponse` but will be called when fetch happens but `response.ok` is not `true`.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // Log error\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### Passing array of interceptors\n\nIf necessary, it's also possible to pass an array of function that will be called sequentially.\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* Do something */\n    },\n    () => {\n      /* Do something else */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ Create fetch with default options\n\nThis utility is useful if you need to use common options across several fetch calls.\n\n**Note:** Defaults will be cloned at one level and inherited. Be careful about nested options like `headers`.\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // Same as ofetch('/test', { baseURL: '/api' })\n```\n\n## ðŸ’¡ Adding headers\n\nBy using `headers` option, `ofetch` adds extra headers in addition to the request default headers:\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ Access to Raw Response\n\nIf you need to access raw response (for headers, etc), you can use `ofetch.raw`:\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ Using Native Fetch\n\nAs a shortcut, you can use `ofetch.native` that provides native `fetch` API\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());",
  "origin_sha": "wuvdKqsuOA4W95Ll0BO8zm8DheYXXrOsgdngtydl1A0=",
  "translate": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // ã‚¨ãƒ©ãƒ¼ã‚’ãƒ­ã‚°å‡ºåŠ›\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse`ã¯ã€`fetch`å‘¼ã³å‡ºã—ã¨ãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚¹å¾Œã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒ­ã‚°å‡ºåŠ›\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError`ã¯`onResponse`ã¨åŒã˜ã§ã™ãŒã€fetchãŒå®Ÿè¡Œã•ã‚Œã€ã‹ã¤`response.ok`ãŒ`true`ã§ãªã„å ´åˆã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // ã‚¨ãƒ©ãƒ¼ã‚’ãƒ­ã‚°å‡ºåŠ›\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ãƒ¼ã®é…åˆ—ã‚’æ¸¡ã™\n\nå¿…è¦ã«å¿œã˜ã¦ã€é †ç•ªã«å‘¼ã³å‡ºã•ã‚Œã‚‹é–¢æ•°ã®é…åˆ—ã‚’æ¸¡ã™ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* ä½•ã‹å‡¦ç†ã‚’è¡Œã† */\n    },\n    () => {\n      /* åˆ¥ã®å‡¦ç†ã‚’è¡Œã† */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã®fetchã‚’ä½œæˆ\n\nã“ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã¯ã€è¤‡æ•°ã®fetchå‘¼ã³å‡ºã—ã§å…±é€šã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚‹å ´åˆã«ä¾¿åˆ©ã§ã™ã€‚\n\n**æ³¨æ„:** ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ä¸€éšŽå±¤ã§ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚Œã€ç¶™æ‰¿ã•ã‚Œã¾ã™ã€‚`headers`ã®ã‚ˆã†ãªãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¯æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // ofetch('/test', { baseURL: '/api' }) ã¨åŒã˜\n```\n\n## ðŸ’¡ ãƒ˜ãƒƒãƒ€ãƒ¼ã®è¿½åŠ \n\n`headers`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ã§ã€`ofetch`ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ã«åŠ ãˆã¦è¿½åŠ ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ ç”Ÿã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹\n\nãƒ˜ãƒƒãƒ€ãƒ¼ãªã©ã®ãŸã‚ã«ç”Ÿã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€`ofetch.raw`ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ ãƒã‚¤ãƒ†ã‚£ãƒ–Fetchã®ä½¿ç”¨\n\nã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã¨ã—ã¦ã€ãƒã‚¤ãƒ†ã‚£ãƒ–ã®`fetch`APIã‚’æä¾›ã™ã‚‹`ofetch.native`ã‚’åˆ©ç”¨ã§ãã¾ã™ã€‚\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());\n```",
  "status": "ok"
}