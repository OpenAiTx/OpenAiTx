{
  "id": 3,
  "origin": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // Log error\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` will be called after `fetch` call and parsing body.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // Log response\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` is the same as `onResponse` but will be called when fetch happens but `response.ok` is not `true`.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // Log error\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### Passing array of interceptors\n\nIf necessary, it's also possible to pass an array of function that will be called sequentially.\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* Do something */\n    },\n    () => {\n      /* Do something else */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ Create fetch with default options\n\nThis utility is useful if you need to use common options across several fetch calls.\n\n**Note:** Defaults will be cloned at one level and inherited. Be careful about nested options like `headers`.\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // Same as ofetch('/test', { baseURL: '/api' })\n```\n\n## ðŸ’¡ Adding headers\n\nBy using `headers` option, `ofetch` adds extra headers in addition to the request default headers:\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ Access to Raw Response\n\nIf you need to access raw response (for headers, etc), you can use `ofetch.raw`:\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ Using Native Fetch\n\nAs a shortcut, you can use `ofetch.native` that provides native `fetch` API\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());",
  "origin_sha": "wuvdKqsuOA4W95Ll0BO8zm8DheYXXrOsgdngtydl1A0=",
  "translate": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // è¨˜éŒ„éŒ¯èª¤\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` æœƒåœ¨ `fetch` å‘¼å«ä¸¦è§£æž body ä¹‹å¾Œè¢«å‘¼å«ã€‚\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // è¨˜éŒ„å›žæ‡‰\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` èˆ‡ `onResponse` ç›¸åŒï¼Œä½†åƒ…åœ¨ fetch ç™¼ç”Ÿä½† `response.ok` ä¸æ˜¯ `true` æ™‚è¢«å‘¼å«ã€‚\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // è¨˜éŒ„éŒ¯èª¤\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### å‚³éžæ””æˆªå™¨é™£åˆ—\n\nå¦‚æžœæœ‰éœ€è¦ï¼Œä¹Ÿå¯ä»¥å‚³éžä¸€å€‹å‡½å¼é™£åˆ—ï¼Œé€™äº›å‡½å¼æœƒè¢«ä¾åºå‘¼å«ã€‚\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* åŸ·è¡ŒæŸäº›æ“ä½œ */\n    },\n    () => {\n      /* åŸ·è¡Œå…¶ä»–æ“ä½œ */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ ä½¿ç”¨é è¨­é¸é …å»ºç«‹ fetch\n\nå¦‚æžœä½ éœ€è¦åœ¨å¤šå€‹ fetch å‘¼å«ä¸­ä½¿ç”¨å…±ç”¨é¸é …ï¼Œé€™å€‹å·¥å…·æœƒå¾ˆæœ‰ç”¨ã€‚\n\n**æ³¨æ„ï¼š** é è¨­å€¼åªæœƒè¢«è¤‡è£½ä¸€å±¤ä¸¦ç¹¼æ‰¿ã€‚è«‹å°å¿ƒåƒ `headers` é€™æ¨£çš„å·¢ç‹€é¸é …ã€‚\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // ç­‰åŒæ–¼ ofetch('/test', { baseURL: '/api' })\n```\n\n## ðŸ’¡ æ–°å¢ž headers\n\né€éŽä½¿ç”¨ `headers` é¸é …ï¼Œ`ofetch` æœƒåœ¨é è¨­è«‹æ±‚æ¨™é ­ä¹‹å¤–æ–°å¢žé¡å¤–çš„æ¨™é ­ï¼š\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ å­˜å–åŽŸå§‹å›žæ‡‰\n\nå¦‚æžœä½ éœ€è¦å­˜å–åŽŸå§‹å›žæ‡‰ï¼ˆä¾‹å¦‚æ¨™é ­ç­‰ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `ofetch.raw`ï¼š\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ ä½¿ç”¨åŽŸç”Ÿ Fetch\n\nä½œç‚ºæ·å¾‘ï¼Œä½ å¯ä»¥ä½¿ç”¨æä¾›åŽŸç”Ÿ `fetch` API çš„ `ofetch.native`\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());\n```",
  "status": "ok"
}