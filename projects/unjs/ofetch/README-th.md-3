{
  "id": 3,
  "origin": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // Log error\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` will be called after `fetch` call and parsing body.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // Log response\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` is the same as `onResponse` but will be called when fetch happens but `response.ok` is not `true`.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // Log error\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### Passing array of interceptors\n\nIf necessary, it's also possible to pass an array of function that will be called sequentially.\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* Do something */\n    },\n    () => {\n      /* Do something else */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ Create fetch with default options\n\nThis utility is useful if you need to use common options across several fetch calls.\n\n**Note:** Defaults will be cloned at one level and inherited. Be careful about nested options like `headers`.\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // Same as ofetch('/test', { baseURL: '/api' })\n```\n\n## ðŸ’¡ Adding headers\n\nBy using `headers` option, `ofetch` adds extra headers in addition to the request default headers:\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ Access to Raw Response\n\nIf you need to access raw response (for headers, etc), you can use `ofetch.raw`:\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ Using Native Fetch\n\nAs a shortcut, you can use `ofetch.native` that provides native `fetch` API\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());",
  "origin_sha": "wuvdKqsuOA4W95Ll0BO8zm8DheYXXrOsgdngtydl1A0=",
  "translate": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` à¸ˆà¸°à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸ `fetch` à¹à¸¥à¸°à¸—à¸³à¸à¸²à¸£à¹à¸›à¸¥à¸‡ body\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸•à¸­à¸šà¸à¸¥à¸±à¸š\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` à¹€à¸«à¸¡à¸·à¸­à¸™à¸à¸±à¸š `onResponse` à¹à¸•à¹ˆà¸ˆà¸°à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸à¸´à¸” fetch à¹à¸¥à¹‰à¸§à¹à¸•à¹ˆ `response.ok` à¹„à¸¡à¹ˆà¹€à¸›à¹‡à¸™ `true`\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### à¸à¸²à¸£à¸ªà¹ˆà¸‡à¸­à¸²à¸£à¹Œà¹€à¸£à¸¢à¹Œà¸‚à¸­à¸‡ interceptor\n\nà¸«à¸²à¸à¸ˆà¸³à¹€à¸›à¹‡à¸™ à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¹ˆà¸‡à¸­à¸²à¸£à¹Œà¹€à¸£à¸¢à¹Œà¸‚à¸­à¸‡à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¸•à¸²à¸¡à¸¥à¸³à¸”à¸±à¸šà¹„à¸”à¹‰à¹€à¸Šà¹ˆà¸™à¸à¸±à¸™\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* à¸—à¸³à¸šà¸²à¸‡à¸­à¸¢à¹ˆà¸²à¸‡ */\n    },\n    () => {\n      /* à¸—à¸³à¸­à¸¢à¹ˆà¸²à¸‡à¸­à¸·à¹ˆà¸™ */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ à¸ªà¸£à¹‰à¸²à¸‡ fetch à¸žà¸£à¹‰à¸­à¸¡ options à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™\n\nà¸¢à¸¹à¸—à¸´à¸¥à¸´à¸•à¸µà¹‰à¸™à¸µà¹‰à¸¡à¸µà¸›à¸£à¸°à¹‚à¸¢à¸Šà¸™à¹Œà¸«à¸²à¸à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ options à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¸à¸±à¸šà¸«à¸¥à¸²à¸¢ à¹† fetch calls\n\n**à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸:** à¸„à¹ˆà¸²à¸•à¸±à¹‰à¸‡à¸•à¹‰à¸™à¸ˆà¸°à¸–à¸¹à¸à¹‚à¸„à¸¥à¸™à¹ƒà¸™à¸£à¸°à¸”à¸±à¸šà¹€à¸”à¸µà¸¢à¸§à¹à¸¥à¸°à¸ªà¸·à¸šà¸—à¸­à¸”à¸•à¹ˆà¸­à¸à¸±à¸™ à¹‚à¸›à¸£à¸”à¸£à¸°à¸§à¸±à¸‡ options à¸‹à¹‰à¸­à¸™à¹€à¸Šà¹ˆà¸™ `headers`\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // à¹€à¸«à¸¡à¸·à¸­à¸™à¸à¸±à¸š ofetch('/test', { baseURL: '/api' })\n```\n\n## ðŸ’¡ à¸à¸²à¸£à¹€à¸žà¸´à¹ˆà¸¡ headers\n\nà¹‚à¸”à¸¢à¸à¸²à¸£à¹ƒà¸Šà¹‰ options `headers` `ofetch` à¸ˆà¸°à¹€à¸žà¸´à¹ˆà¸¡ header à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡à¸™à¸­à¸à¹€à¸«à¸™à¸·à¸­à¸ˆà¸²à¸ header à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸‚à¸­à¸‡ request:\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ Raw Response\n\nà¸«à¸²à¸à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ response à¸”à¸´à¸š (à¸ªà¸³à¸«à¸£à¸±à¸š headers à¸¯à¸¥à¸¯) à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰ `ofetch.raw`:\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ à¸à¸²à¸£à¹ƒà¸Šà¹‰ Native Fetch\n\nà¹€à¸žà¸·à¹ˆà¸­à¸„à¸§à¸²à¸¡à¸ªà¸°à¸”à¸§à¸ à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰ `ofetch.native` à¸—à¸µà¹ˆà¹ƒà¸«à¹‰ API `fetch` à¹à¸šà¸š native\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());\n```",
  "status": "ok"
}