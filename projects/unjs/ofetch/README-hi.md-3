{
  "id": 3,
  "origin": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // Log error\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` will be called after `fetch` call and parsing body.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // Log response\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` is the same as `onResponse` but will be called when fetch happens but `response.ok` is not `true`.\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // Log error\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### Passing array of interceptors\n\nIf necessary, it's also possible to pass an array of function that will be called sequentially.\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* Do something */\n    },\n    () => {\n      /* Do something else */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ Create fetch with default options\n\nThis utility is useful if you need to use common options across several fetch calls.\n\n**Note:** Defaults will be cloned at one level and inherited. Be careful about nested options like `headers`.\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // Same as ofetch('/test', { baseURL: '/api' })\n```\n\n## ðŸ’¡ Adding headers\n\nBy using `headers` option, `ofetch` adds extra headers in addition to the request default headers:\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ Access to Raw Response\n\nIf you need to access raw response (for headers, etc), you can use `ofetch.raw`:\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ Using Native Fetch\n\nAs a shortcut, you can use `ofetch.native` that provides native `fetch` API\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());",
  "origin_sha": "wuvdKqsuOA4W95Ll0BO8zm8DheYXXrOsgdngtydl1A0=",
  "translate": "```js\nawait ofetch(\"/api\", {\n  async onRequestError({ request, options, error }) {\n    // à¤¤à¥à¤°à¥à¤Ÿà¤¿ à¤²à¥‰à¤— à¤•à¤°à¥‡à¤‚\n    console.log(\"[fetch request error]\", request, error);\n  },\n});\n```\n\n### `onResponse({ request, options, response })`\n\n`onResponse` à¤•à¥‹ `fetch` à¤•à¥‰à¤² à¤”à¤° à¤¬à¥‰à¤¡à¥€ à¤ªà¤¾à¤°à¥à¤¸ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤¬à¤¾à¤¦ à¤•à¥‰à¤² à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤à¤—à¤¾à¥¤\n\n```js\nawait ofetch(\"/api\", {\n  async onResponse({ request, response, options }) {\n    // à¤°à¤¿à¤¸à¥à¤ªà¥‰à¤¨à¥à¤¸ à¤²à¥‰à¤— à¤•à¤°à¥‡à¤‚\n    console.log(\"[fetch response]\", request, response.status, response.body);\n  },\n});\n```\n\n### `onResponseError({ request, options, response })`\n\n`onResponseError` à¤ à¥€à¤• à¤‰à¤¸à¥€ à¤¤à¤°à¤¹ à¤¹à¥ˆ à¤œà¥ˆà¤¸à¥‡ `onResponse`, à¤²à¥‡à¤•à¤¿à¤¨ à¤¯à¤¹ à¤¤à¤¬ à¤•à¥‰à¤² à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤à¤—à¤¾ à¤œà¤¬ fetch à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆ à¤²à¥‡à¤•à¤¿à¤¨ `response.ok` `true` à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹à¤¤à¤¾à¥¤\n\n```js\nawait ofetch(\"/api\", {\n  async onResponseError({ request, response, options }) {\n    // à¤¤à¥à¤°à¥à¤Ÿà¤¿ à¤²à¥‰à¤— à¤•à¤°à¥‡à¤‚\n    console.log(\n      \"[fetch response error]\",\n      request,\n      response.status,\n      response.body\n    );\n  },\n});\n```\n\n### à¤‡à¤‚à¤Ÿà¤°à¤¸à¥‡à¤ªà¥à¤Ÿà¤°à¥à¤¸ à¤•à¥€ à¤à¤• array à¤ªà¤¾à¤¸ à¤•à¤°à¤¨à¤¾\n\nà¤¯à¤¦à¤¿ à¤†à¤µà¤¶à¥à¤¯à¤• à¤¹à¥‹, à¤¤à¥‹ à¤à¤• function à¤•à¥€ array à¤­à¥€ à¤ªà¤¾à¤¸ à¤•à¤°à¤¨à¤¾ à¤¸à¤‚à¤­à¤µ à¤¹à¥ˆ, à¤œà¤¿à¤¨à¥à¤¹à¥‡à¤‚ à¤•à¥à¤°à¤®à¤¿à¤• à¤°à¥‚à¤ª à¤¸à¥‡ à¤•à¥‰à¤² à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤à¤—à¤¾à¥¤\n\n```js\nawait ofetch(\"/api\", {\n  onRequest: [\n    () => {\n      /* à¤•à¥à¤› à¤•à¤°à¥‡à¤‚ */\n    },\n    () => {\n      /* à¤•à¥à¤› à¤”à¤° à¤•à¤°à¥‡à¤‚ */\n    },\n  ],\n});\n```\n\n## âœ”ï¸ à¤¡à¤¿à¤«à¤¼à¥‰à¤²à¥à¤Ÿ à¤µà¤¿à¤•à¤²à¥à¤ªà¥‹à¤‚ à¤•à¥‡ à¤¸à¤¾à¤¥ fetch à¤¬à¤¨à¤¾à¤à¤‚\n\nà¤¯à¤¹ à¤¯à¥‚à¤Ÿà¤¿à¤²à¤¿à¤Ÿà¥€ à¤¤à¤¬ à¤‰à¤ªà¤¯à¥‹à¤—à¥€ à¤¹à¥‹à¤¤à¥€ à¤¹à¥ˆ à¤œà¤¬ à¤†à¤ªà¤•à¥‹ à¤•à¤ˆ fetch à¤•à¥‰à¤²à¥à¤¸ à¤®à¥‡à¤‚ à¤¸à¤¾à¤®à¤¾à¤¨à¥à¤¯ à¤µà¤¿à¤•à¤²à¥à¤ªà¥‹à¤‚ à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¤¨à¤¾ à¤¹à¥‹à¥¤\n\n**à¤¨à¥‹à¤Ÿ:** à¤¡à¤¿à¤«à¤¼à¥‰à¤²à¥à¤Ÿà¥à¤¸ à¤à¤• à¤¸à¥à¤¤à¤° à¤ªà¤° à¤•à¥à¤²à¥‹à¤¨ à¤•à¤¿à¤ à¤œà¤¾à¤à¤‚à¤—à¥‡ à¤”à¤° à¤µà¤¿à¤°à¤¾à¤¸à¤¤ à¤®à¥‡à¤‚ à¤²à¤¿à¤ à¤œà¤¾à¤à¤‚à¤—à¥‡à¥¤ à¤œà¥ˆà¤¸à¥‡ `headers` à¤œà¥ˆà¤¸à¥‡ à¤¨à¥‡à¤¸à¥à¤Ÿà¥‡à¤¡ à¤µà¤¿à¤•à¤²à¥à¤ªà¥‹à¤‚ à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚ à¤¸à¤¤à¤°à¥à¤• à¤°à¤¹à¥‡à¤‚à¥¤\n\n```js\nconst apiFetch = ofetch.create({ baseURL: \"/api\" });\n\napiFetch(\"/test\"); // à¤¯à¤¹ ofetch('/test', { baseURL: '/api' }) à¤•à¥‡ à¤¸à¤®à¤¾à¤¨ à¤¹à¥ˆ\n```\n\n## ðŸ’¡ à¤¹à¥‡à¤¡à¤°à¥à¤¸ à¤œà¥‹à¤¡à¤¼à¤¨à¤¾\n\n`headers` à¤µà¤¿à¤•à¤²à¥à¤ª à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¤•à¥‡, `ofetch` à¤…à¤¨à¥à¤°à¥‹à¤§ à¤•à¥‡ à¤¡à¤¿à¤«à¤¼à¥‰à¤²à¥à¤Ÿ à¤¹à¥‡à¤¡à¤°à¥à¤¸ à¤•à¥‡ à¤…à¤²à¤¾à¤µà¤¾ à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ à¤¹à¥‡à¤¡à¤°à¥à¤¸ à¤œà¥‹à¤¡à¤¼à¤¤à¤¾ à¤¹à¥ˆ:\n\n```js\nawait ofetch(\"/movies\", {\n  headers: {\n    Accept: \"application/json\",\n    \"Cache-Control\": \"no-cache\",\n  },\n});\n```\n\n## ðŸ£ à¤•à¤šà¥à¤šà¥‡ à¤°à¤¿à¤¸à¥à¤ªà¥‰à¤¨à¥à¤¸ à¤¤à¤• à¤ªà¤¹à¥à¤‚à¤š\n\nà¤¯à¤¦à¤¿ à¤†à¤ªà¤•à¥‹ à¤•à¤šà¥à¤šà¥‡ à¤°à¤¿à¤¸à¥à¤ªà¥‰à¤¨à¥à¤¸ (à¤œà¥ˆà¤¸à¥‡ à¤•à¤¿ à¤¹à¥‡à¤¡à¤°à¥à¤¸ à¤†à¤¦à¤¿) à¤¤à¤• à¤ªà¤¹à¥à¤‚à¤šà¤¨à¥‡ à¤•à¥€ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾ à¤¹à¥ˆ, à¤¤à¥‹ à¤†à¤ª `ofetch.raw` à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚:\n\n```js\nconst response = await ofetch.raw(\"/sushi\");\n\n// response._data\n// response.headers\n// ...\n```\n\n## ðŸŒ¿ à¤¨à¥‡à¤Ÿà¤¿à¤µ Fetch à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¤¨à¤¾\n\nà¤¶à¥‰à¤°à¥à¤Ÿà¤•à¤Ÿ à¤•à¥‡ à¤°à¥‚à¤ª à¤®à¥‡à¤‚, à¤†à¤ª `ofetch.native` à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚, à¤œà¥‹ à¤¨à¥‡à¤Ÿà¤¿à¤µ `fetch` API à¤ªà¥à¤°à¤¦à¤¾à¤¨ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆ\n\n```js\nconst json = await ofetch.native(\"/sushi\").then((r) => r.json());\n```",
  "status": "ok"
}