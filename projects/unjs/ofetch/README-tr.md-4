{
  "id": 4,
  "origin": "```\n\n## ðŸ•µï¸ Adding HTTP(S) Agent\n\nIn Node.js (>= 18) environments, you can provide a custom dispatcher to intercept requests and support features such as Proxy and self-signed certificates. This feature is enabled by [undici](https://undici.nodejs.org/) built-in Node.js. [read more](https://undici.nodejs.org/#/docs/api/Dispatcher) about the Dispatcher API.\n\nSome available agents:\n\n- `ProxyAgent`: A Proxy Agent class that implements the Agent API. It allows the connection through a proxy in a simple way. ([docs](https://undici.nodejs.org/#/docs/api/ProxyAgent))\n- `MockAgent`: A mocked Agent class that implements the Agent API. It allows one to intercept HTTP requests made through undici and return mocked responses instead. ([docs](https://undici.nodejs.org/#/docs/api/MockAgent))\n- `Agent`: Agent allows dispatching requests against multiple different origins. ([docs](https://undici.nodejs.org/#/docs/api/Agent))\n\n**Example:** Set a proxy agent for one request:\n\n```ts\nimport { ProxyAgent } from \"undici\";\nimport { ofetch } from \"ofetch\";\n\nconst proxyAgent = new ProxyAgent(\"http://localhost:3128\");\nconst data = await ofetch(\"https://icanhazip.com\", { dispatcher: proxyAgent });\n```\n\n**Example:** Create a custom fetch instance that has proxy enabled:\n\n```ts\nimport { ProxyAgent, setGlobalDispatcher } from \"undici\";\nimport { ofetch } from \"ofetch\";\n\nconst proxyAgent = new ProxyAgent(\"http://localhost:3128\");\nconst fetchWithProxy = ofetch.create({ dispatcher: proxyAgent });\n\nconst data = await fetchWithProxy(\"https://icanhazip.com\");\n```\n\n**Example:** Set a proxy agent for all requests:\n\n```ts\nimport { ProxyAgent, setGlobalDispatcher } from \"undici\";\nimport { ofetch } from \"ofetch\";\n\nconst proxyAgent = new ProxyAgent(\"http://localhost:3128\");\nsetGlobalDispatcher(proxyAgent);\n\nconst data = await ofetch(\"https://icanhazip.com\");\n```\n\n**Example:** Allow self-signed certificates (USE AT YOUR OWN RISK!)\n\n```ts\nimport { ProxyAgent } from \"undici\";\nimport { ofetch } from \"ofetch\";\n\n// Note: This makes fetch unsecure against MITM attacks. USE AT YOUR OWN RISK!\nconst unsecureProxyAgent = new ProxyAgent({ requestTls: { rejectUnauthorized: false } });\nconst unsecureFetch = ofetch.create({ dispatcher: unsecureProxyAgent });\n\nconst data = await unsecureFetch(\"https://www.squid-cache.org/\");\n```\n\nOn older Node.js version (<18), you might also use use `agent`:\n\n```ts\nimport { HttpsProxyAgent } from \"https-proxy-agent\";\n\nawait ofetch(\"/api\", {\n  agent: new HttpsProxyAgent(\"http://example.com\"),\n});\n```\n\n### `keepAlive` support (only works for Node < 18)\n\nBy setting the `FETCH_KEEP_ALIVE` environment variable to `true`, an HTTP/HTTPS agent will be registered that keeps sockets around even when there are no outstanding requests, so they can be used for future requests without having to re-establish a TCP connection.\n\n**Note:** This option can potentially introduce memory leaks. Please check [node-fetch/node-fetch#1325](https://github.com/node-fetch/node-fetch/pull/1325).\n\n## ðŸ“¦ Bundler Notes\n\n- All targets are exported with Module and CommonJS format and named exports\n- No export is transpiled for the sake of modern syntax\n  - You probably need to transpile `ofetch`, `destr`, and `ufo` packages with Babel for ES5 support\n- You need to polyfill `fetch` global for supporting legacy browsers like using [unfetch](https://github.com/developit/unfetch)\n\n## â“ FAQ\n\n**Why export is called `ofetch` instead of `fetch`?**\n\nUsing the same name of `fetch` can be confusing since API is different but still, it is a fetch so using the closest possible alternative. You can, however, import `{ fetch }` from `ofetch` which is auto-polyfill for Node.js and using native otherwise.\n\n**Why not have default export?**\n\nDefault exports are always risky to be mixed with CommonJS exports.\n\nThis also guarantees we can introduce more utils without breaking the package and also encourage using `ofetch` name.\n\n**Why not transpiled?**\n\nBy transpiling libraries, we push the web backward with legacy code which is unneeded for most of the users.\n\nIf you need to support legacy users, you can optionally transpile the library in your build pipeline.\n",
  "origin_sha": "aERgTRlscCw9FINz3st04QU8LoGdZrVhR2FMqnTr5aI=",
  "translate": "```\n\n## ðŸ•µï¸ HTTP(S) AracÄ±sÄ± (Agent) Ekleme\n\nNode.js (>= 18) ortamlarÄ±nda, isteklere mÃ¼dahale etmek ve Proxy ile kendinden imzalÄ± sertifikalar gibi Ã¶zellikleri desteklemek iÃ§in Ã¶zel bir dispatcher saÄŸlayabilirsiniz. Bu Ã¶zellik, Node.js'e yerleÅŸik olarak gelen [undici](https://undici.nodejs.org/) tarafÄ±ndan etkinleÅŸtirilmiÅŸtir. Dispatcher API hakkÄ±nda [daha fazla bilgi edinin](https://undici.nodejs.org/#/docs/api/Dispatcher).\n\nMevcut bazÄ± ajanlar:\n\n- `ProxyAgent`: Agent APIâ€™sini uygulayan bir Proxy Agent sÄ±nÄ±fÄ±dÄ±r. BaÄŸlantÄ±nÄ±n kolay bir ÅŸekilde bir proxy Ã¼zerinden yapÄ±lmasÄ±na olanak saÄŸlar. ([dokÃ¼mantasyon](https://undici.nodejs.org/#/docs/api/ProxyAgent))\n- `MockAgent`: Agent APIâ€™sini uygulayan bir Mock (sahte) Agent sÄ±nÄ±fÄ±dÄ±r. undici Ã¼zerinden yapÄ±lan HTTP isteklerini yakalamaya ve bunun yerine sahte yanÄ±tlar dÃ¶ndÃ¼rmeye olanak tanÄ±r. ([dokÃ¼mantasyon](https://undici.nodejs.org/#/docs/api/MockAgent))\n- `Agent`: Agent, birden fazla farklÄ± originâ€™e karÅŸÄ± istek gÃ¶ndermeye olanak tanÄ±r. ([dokÃ¼mantasyon](https://undici.nodejs.org/#/docs/api/Agent))\n\n**Ã–rnek:** Bir istek iÃ§in proxy agent ayarlama:\n\n```ts\nimport { ProxyAgent } from \"undici\";\nimport { ofetch } from \"ofetch\";\n\nconst proxyAgent = new ProxyAgent(\"http://localhost:3128\");\nconst data = await ofetch(\"https://icanhazip.com\", { dispatcher: proxyAgent });\n```\n\n**Ã–rnek:** Proxy etkinleÅŸtirilmiÅŸ Ã¶zel bir fetch Ã¶rneÄŸi oluÅŸturma:\n\n```ts\nimport { ProxyAgent, setGlobalDispatcher } from \"undici\";\nimport { ofetch } from \"ofetch\";\n\nconst proxyAgent = new ProxyAgent(\"http://localhost:3128\");\nconst fetchWithProxy = ofetch.create({ dispatcher: proxyAgent });\n\nconst data = await fetchWithProxy(\"https://icanhazip.com\");\n```\n\n**Ã–rnek:** TÃ¼m istekler iÃ§in proxy agent ayarlama:\n\n```ts\nimport { ProxyAgent, setGlobalDispatcher } from \"undici\";\nimport { ofetch } from \"ofetch\";\n\nconst proxyAgent = new ProxyAgent(\"http://localhost:3128\");\nsetGlobalDispatcher(proxyAgent);\n\nconst data = await ofetch(\"https://icanhazip.com\");\n```\n\n**Ã–rnek:** Kendinden imzalÄ± sertifikalara izin verme (KENDÄ° RÄ°SKÄ°NÄ°ZE KULLANIN!)\n\n```ts\nimport { ProxyAgent } from \"undici\";\nimport { ofetch } from \"ofetch\";\n\n// Not: Bu, fetchâ€™i MITM saldÄ±rÄ±larÄ±na karÅŸÄ± gÃ¼vensiz hale getirir. KENDÄ° RÄ°SKÄ°NÄ°ZE KULLANIN!\nconst unsecureProxyAgent = new ProxyAgent({ requestTls: { rejectUnauthorized: false } });\nconst unsecureFetch = ofetch.create({ dispatcher: unsecureProxyAgent });\n\nconst data = await unsecureFetch(\"https://www.squid-cache.org/\");\n```\n\nDaha eski Node.js sÃ¼rÃ¼mlerinde (<18), ayrÄ±ca `agent` kullanabilirsiniz:\n\n```ts\nimport { HttpsProxyAgent } from \"https-proxy-agent\";\n\nawait ofetch(\"/api\", {\n  agent: new HttpsProxyAgent(\"http://example.com\"),\n});\n```\n\n### `keepAlive` desteÄŸi (yalnÄ±zca Node < 18 iÃ§in Ã§alÄ±ÅŸÄ±r)\n\n`FETCH_KEEP_ALIVE` ortam deÄŸiÅŸkenini `true` olarak ayarlayarak, istek olmasa bile soketleri aÃ§Ä±k tutan bir HTTP/HTTPS agent kaydedilir. BÃ¶ylece gelecekteki istekler iÃ§in TCP baÄŸlantÄ±sÄ± yeniden kurulmadan kullanÄ±labilir.\n\n**Not:** Bu seÃ§enek potansiyel olarak bellek sÄ±zÄ±ntÄ±larÄ±na neden olabilir. LÃ¼tfen [node-fetch/node-fetch#1325](https://github.com/node-fetch/node-fetch/pull/1325) kontrol edin.\n\n## ðŸ“¦ Paketleyici NotlarÄ±\n\n- TÃ¼m hedefler, ModÃ¼l ve CommonJS formatÄ±nda ve adlandÄ±rÄ±lmÄ±ÅŸ dÄ±ÅŸa aktarÄ±mlar ile dÄ±ÅŸa aktarÄ±lÄ±r\n- HiÃ§bir dÄ±ÅŸa aktarma, modern sÃ¶zdizimi nedeniyle transpile edilmemiÅŸtir\n  - ES5 desteÄŸi iÃ§in muhtemelen `ofetch`, `destr` ve `ufo` paketlerini Babel ile transpile etmeniz gerekir\n- Eski tarayÄ±cÄ±larÄ± desteklemek iÃ§in [unfetch](https://github.com/developit/unfetch) gibi bir Ã§Ã¶zÃ¼mle `fetch` globalini polyfill etmeniz gerekir\n\n## â“ SSS\n\n**Neden dÄ±ÅŸa aktarma ismi `fetch` deÄŸil de `ofetch`?**\n\n`fetch` ile aynÄ± ismin kullanÄ±lmasÄ± kafa karÄ±ÅŸtÄ±rÄ±cÄ± olabilir Ã§Ã¼nkÃ¼ API farklÄ±dÄ±r, fakat yine de bir fetch olduÄŸu iÃ§in en yakÄ±n alternatifi kullandÄ±k. Yine de, `ofetch` Ã¼zerinden `{ fetch }` olarak iÃ§e aktarÄ±m yapabilirsiniz; bu, Node.js iÃ§in otomatik polyfill saÄŸlar ve diÄŸer ortamlarda yereli kullanÄ±r.\n\n**Neden varsayÄ±lan dÄ±ÅŸa aktarma yok?**\n\nVarsayÄ±lan dÄ±ÅŸa aktarmalar, CommonJS dÄ±ÅŸa aktarmalarÄ± ile karÄ±ÅŸmaya her zaman aÃ§Ä±ktÄ±r.\n\nBu aynÄ± zamanda, paketi bozmadan daha fazla yardÄ±mcÄ± araÃ§ ekleyebileceÄŸimizi ve ayrÄ±ca `ofetch` adÄ±nÄ±n kullanÄ±lmasÄ±nÄ± teÅŸvik eder.\n\n**Neden transpile edilmiyor?**\n\nKÃ¼tÃ¼phaneleri transpile ederek, gereksiz yere Ã§oÄŸu kullanÄ±cÄ± iÃ§in eski kodu webâ€™e taÅŸÄ±mÄ±ÅŸ oluruz.\n\nEski kullanÄ±cÄ±larÄ± desteklemeniz gerekiyorsa, bu kÃ¼tÃ¼phaneyi derleme hattÄ±nÄ±zda isteÄŸe baÄŸlÄ± olarak transpile edebilirsiniz.\n```",
  "status": "ok"
}