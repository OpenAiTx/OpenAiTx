# helm-chartsnap ğŸ“¸ 
[![Go Reference](https://pkg.go.dev/badge/github.com/jlandowner/helm-chartsnap.svg)](https://pkg.go.dev/github.com/jlandowner/helm-chartsnap)
[![Go Report Card](https://goreportcard.com/badge/github.com/jlandowner/helm-chartsnap)](https://goreportcard.com/report/github.com/jlandowner/helm-chartsnap)
[![codecov](https://codecov.io/gh/jlandowner/helm-chartsnap/graph/badge.svg?token=8ARG53CRL7)](https://codecov.io/gh/jlandowner/helm-chartsnap)
[![Workflow Status](https://github.com/jlandowner/helm-chartsnap/actions/workflows/release.yaml/badge.svg)](https://github.com/jlandowner/helm-chartsnap/actions/workflows/release.yaml)
[![CI](https://github.com/jlandowner/helm-chartsnap/actions/workflows/ci.yaml/badge.svg)](https://github.com/jlandowner/helm-chartsnap/actions/workflows/ci.yaml)
[![GitHub Marketplace](https://img.shields.io/badge/Marketplace-Helm%20chartsnap%20action-blue.svg?colorA=24292e&colorB=0366d6&style=flat&longCache=true&logo=github)](https://github.com/marketplace/actions/helm-chartsnap-action)

Ø§Ø¨Ø²Ø§Ø± ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø¨Ø±Ø§ÛŒ Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Helm.

Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ ØªØ³Øª UI Ø±Ø§ Ø¨Ø§ Ø­Ø¯Ø§Ù‚Ù„ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ØªÙ†Ù‡Ø§ Ø¯Ø± ÙØ§ÛŒÙ„ `values.yaml` Ø¨Ù‡ Ú†Ø§Ø±Øª Helm Ø¨ÛŒØ§ÙˆØ±ÛŒØ¯. 

![screenshot](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/docs/screenshot.png)

## Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒ
- [ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ ğŸ”‘](#ÙˆÛŒÚ˜Ú¯ÛŒÙ‡Ø§-)
- [Ú†Ø±Ø§ ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§ØªØŸ ğŸ“¸](#Ú†Ø±Ø§-ØªØ³Øª-Ø§Ø³Ù†Ù¾Ø´Ø§Øª-)
  - [Ø§Ù†Ú¯ÛŒØ²Ù‡](#Ø§Ù†Ú¯ÛŒØ²Ù‡)
- [Ù†ØµØ¨ ğŸš€](#Ù†ØµØ¨-)
- [Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡](#Ù†Ø­ÙˆÙ‡-Ø§Ø³ØªÙØ§Ø¯Ù‡)
  - [Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© ğŸ’ª](#Ù…Ø¯ÛŒØ±ÛŒØª-Ù…Ù‚Ø§Ø¯ÛŒØ±-Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ©-)
- [Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† âœ¨](#Ù†Ù…ÙˆÙ†Ù‡Ù‡Ø§-Ùˆ-Ú©Ø§Ø±Ø¨Ø±Ø§Ù†-)


## ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ ğŸ”‘

* **ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø¢Ø³Ø§Ù† Ùˆ Ø´Ù‡ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Helm**
  
  - **Ø¨Ø¯ÙˆÙ† ÙØ±Ù…Øª ÙØ§ÛŒÙ„ TestSuite Ø®Ø§Øµ Ø§Ø¨Ø²Ø§Ø±:** Ø¨Ø±Ø®Ù„Ø§Ù Ø¨Ø±Ø®ÛŒ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§ÛŒØ¬Ø§Ø¯ TestSuiteÙ‡Ø§ÛŒ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¨Ø§ ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ Ø¯Ø§Ø±Ù†Ø¯ØŒ Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø¨Ù‡ Ù‡ÛŒÚ† ÙØ±Ù…Øª ÙØ§ÛŒÙ„ Ø§Ø¶Ø§ÙÛŒ Ù†ÛŒØ§Ø² Ù†Ø¯Ø§Ø±Ø¯. ØªÙ†Ù‡Ø§ Ú©Ø§ÙÛŒ Ø§Ø³Øª Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú©ÛŒØ³ ØªØ³ØªØŒ Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ø§Ø² ÙØ§ÛŒÙ„ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ `values.yaml` Ø±Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ù†ÛŒØ¯. Ø§ÛŒÙ† Ú©Ø§Ø± Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ø§Ø² Ø¨ÛŒÙ† Ù…ÛŒâ€ŒØ¨Ø±Ø¯ Ùˆ ØªØ³Øª Ø±Ø§ Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

* **Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ú†Ø§Ø±Øª Helm**

  - **Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø±ÙˆØ¬ÛŒ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© ØªÙˆÙ„ÛŒØ¯Ø´Ø¯Ù‡ ØªÙˆØ³Ø· ØªÙˆØ§Ø¨Ø¹ helm:** Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ Ø±Ø§ Ø¯Ø± ÙØ§ÛŒÙ„ values.yaml Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú©ÛŒØ³ ØªØ³Øª Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯ ØªØ§ Ø§Ù†Ø¹Ø·Ø§Ù Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø± ØªÙ†Ø¸ÛŒÙ… Ø±ÙØªØ§Ø± ØªØ³Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯. Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø®Ø±ÙˆØ¬ÛŒ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© ØªÙˆÙ„ÛŒØ¯Ø´Ø¯Ù‡ ØªÙˆØ³Ø· ØªÙˆØ§Ø¨Ø¹ helm Ù…Ø§Ù†Ù†Ø¯ [randAlphaNum](https://helm.sh/docs/chart_template_guide/function_list/) Ø±Ø§ Ú©Ù†ØªØ±Ù„ Ú©Ù†ÛŒØ¯.

* **ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ù¾ÛŒÙˆØ³ØªÙ‡**

  - **[Ø§Ú©Ø´Ù† GitHub](https://github.com/jlandowner/helm-chartsnap-action) Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª:** Ø§Ú©Ø´Ù† GitHub Ú©Ù‡ ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ù¾ÛŒÙˆØ³ØªÙ‡ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Helm Ù…Ø­Ù„ÛŒ ÛŒØ§ Ø±Ø§Ù‡ Ø¯ÙˆØ± Ø¯Ø± CI Ø´Ù…Ø§ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª ğŸš€ -> [`helm-chart-action`](https://github.com/jlandowner/helm-chartsnap-action)

## Ú†Ø±Ø§ ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§ØªØŸ ğŸ“¸

Ù…Ù† Ù…Ø¹ØªÙ‚Ø¯Ù… Ú©Ù‡ ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§ØªØŒ Ú©Ù‡ Ø±ÙˆÛŒÚ©Ø±Ø¯ Ù…Ø­Ø¨ÙˆØ¨ÛŒ Ø¯Ø± ØªØ³Øª ÙˆØ¨ ÛŒØ§ UI Ø¨Ø§ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒÛŒ Ù…Ø§Ù†Ù†Ø¯ Jest Ø§Ø³ØªØŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØ´ Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Helm Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯. ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ù…Ø²Ø§ÛŒØ§ÛŒ Ø²ÛŒØ§Ø¯ÛŒ Ø¯Ø§Ø±Ø¯:

- **Ù…Ù‚Ø§ÛŒØ³Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨ØµØ±ÛŒ:** ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª ÛŒÚ© Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø±Ø¬Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø³Ù¾Ø³ Ø¢Ù† Ø±Ø§ Ø¨Ø§ Ù†ØªØ§ÛŒØ¬ ØªØ³Øª Ø¨Ø¹Ø¯ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù† Ø¨Ø±Ø±Ø³ÛŒ Ø¨ØµØ±ÛŒ Ø¢Ø³Ø§Ù† ØªØºÛŒÛŒØ±Ø§Øª Ùˆ Ø±Ú¯Ø±Ø³ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ø¯Ø± Ø±Ù†Ø¯Ø±ÛŒÙ†Ú¯ Ú†Ø§Ø±Øª Helm Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

- **Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ ÛŒØ§ÙØªÙ‡:** ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª ÙØ±Ø¢ÛŒÙ†Ø¯ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªØ³Øª Ø±Ø§ Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø¨Ù‡ ÙˆÛŒÚ˜Ù‡ Ù‡Ù†Ú¯Ø§Ù… Ú©Ø§Ø± Ø¨Ø§ Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Helm Ù¾ÛŒÚ†ÛŒØ¯Ù‡ØŒ Ø¢Ù† Ø±Ø§ Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³â€ŒØªØ± Ùˆ Ù‚Ø§Ø¨Ù„ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒâ€ŒØªØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯. ÙˆØ±ÙˆØ¯ÛŒ Ú†Ø§Ø±Øª Helm ØªØ±Ú©ÛŒØ¨ÛŒ Ø§Ø² Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§Ø³Øª. ØªÙ†Ù‡Ø§ Ú©Ø§ÙÛŒ Ø§Ø³Øª ØªØ±Ú©ÛŒØ¨â€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø± (=values.yaml) Ùˆ Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒÙ….

- **ØªØ³Øª Ù¾ÛŒÙˆØ³ØªÙ‡:** Ø¨Ø§ Ú¯Ø±ÙØªÙ† Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÙˆØ³ØªÙ‡ Ø§Ø² Ú†Ø§Ø±Øª Helm Ø¯Ø± ÙØ±Ø¢ÛŒÙ†Ø¯ CI Ø®ÙˆØ¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø³Ø±Ø¹Øª Ù…ØªÙˆØ¬Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± Ú©Ù„ Ú†Ø§Ø±Øª Ø®ÙˆØ¯ Ø´ÙˆÛŒØ¯ Ùˆ Ø§Ø² Ø±Ú¯Ø±Ø³ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ú©Ù†ÛŒØ¯.

Ø§ÛŒÙ† Ù…Ø²Ø§ÛŒØ§ ØªÙ†Ù‡Ø§ Ù…Ø­Ø¯ÙˆØ¯ Ø¨Ù‡ Ú†Ø§Ø±Øª Helm Ø³Ø§Ø®ØªÙ‡â€ŒØ´Ø¯Ù‡ ØªÙˆØ³Ø· Ø´Ù…Ø§ Ù†ÛŒØ³ØªØŒ Ø¨Ù„Ú©Ù‡ Ø´Ø§Ù…Ù„ Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø´Ø®Øµ Ø«Ø§Ù„Ø«ÛŒ Ú©Ù‡ Ø±ÙˆÛŒ Kubernetes Ù†ØµØ¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯ Ù†ÛŒØ² Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù‡Ù†Ú¯Ø§Ù… Ø§Ø±ØªÙ‚Ø§ÛŒ Ú©Ù„Ø§Ø³ØªØ±ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ø±Ú¯ÙˆÙ†Ù‡ ØªØºÛŒÛŒØ± Ø¯Ø± Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø§Ù†ÙÛŒØ³Øªâ€ŒÙ‡Ø§ÛŒ ØªÙˆÙ„ÛŒØ¯Ø´Ø¯Ù‡ ØªÙˆØ³Ø· *Ù…Ù‚Ø§Ø¯ÛŒØ±* Ø®ÙˆØ¯ Ø±Ø§ Ù…ØªÙˆØ¬Ù‡ Ø´ÙˆÛŒØ¯ØŒ Ø­ØªÛŒ Ø§Ú¯Ø± Ø¬Ø²Ø¦ÛŒ Ø¨Ø§Ø´Ù†Ø¯.


### Ø§Ù†Ú¯ÛŒØ²Ù‡

Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªØ³Øª Helm Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ø§Ø² ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.
- [helm-unittest](https://github.com/helm-unittest/helm-unittest)ØŒ ÛŒÚ© Ø§Ø¨Ø²Ø§Ø± ÛŒÙˆÙ†ÛŒØª ØªØ³Øª Ù…Ø­Ø¨ÙˆØ¨ØŒ Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ [ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª](https://github.com/helm-unittest/helm-unittest#snapshot-testing) Ø¯Ø§Ø±Ø¯.
- [terratest](https://terratest.gruntwork.io/)ØŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø±Ø§ÛŒ Ú©Ø¯ Ø²ÛŒØ±Ø³Ø§Ø®Øª Ø´Ù…Ø§. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ØªØ³Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø¯ Go Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ Ùˆ ÙˆÛŒÚ˜Ú¯ÛŒ ØªØ³Øª Ø®Ø±ÙˆØ¬ÛŒ Helm Ø±Ø§ Ø¯Ø§Ø±Ø¯. [Ù¾Ø³Øª Ø¨Ù„Ø§Ú¯](https://blog.gruntwork.io/automated-testing-for-kubernetes-and-helm-charts-using-terratest-a4ddc4e67344)

> Ø§Ø¨Ø²Ø§Ø± ØªØ³Øª Ø±Ø³Ù…ÛŒ Helm Ø¨Ø§ Ù†Ø§Ù… [`ct`](https://github.com/helm/chart-testing) Ø¨Ø±Ø§ÛŒ ÛŒÙˆÙ†ÛŒØª ØªØ³Øª ÛŒØ§ ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ù†ÛŒØ³Øª Ø¨Ù„Ú©Ù‡ Ø¨Ø±Ø§ÛŒ lint Ùˆ ØªØ³Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø³Øª.

Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Helm Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ Ù‡Ø³ØªÙ†Ø¯ØŒ Ø§Ù…Ø§ Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒÛŒ Ø¯Ø§Ø±Ù†Ø¯.

- Ø­ØªÛŒ Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø¨Ø§ÛŒØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Test Suite Ø§Ø¨Ø²Ø§Ø± Ø±Ø§ ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒØ¯ Ùˆ Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

- Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ú©Ù„ Ú†Ø§Ø±Øª Ø±Ø§ Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ù†Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯ØŒ Ø¨Ù„Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± ÙØ§ÛŒÙ„ Ø¯Ø§Ø®Ù„ Ú†Ø§Ø±Øª Helm ØªØ³Øª Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯.

- Ø®Ø±ÙˆØ¬ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© ØªÙˆØ§Ø¨Ø¹ Helm Ø±Ø§ Ø¯Ø± Ù†Ø¸Ø± Ù†Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯.

helm-unittest Ø·ÙˆØ±ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ú©Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù‡Ø± ÙØ§ÛŒÙ„ Ø¯Ø§Ø®Ù„ Ú†Ø§Ø±Øª Helm Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. Ø§ÛŒÙ† Ø¨Ø¯Ø§Ù† Ù…Ø¹Ù†Ø§Ø³Øª Ú©Ù‡ Ù‡Ø± ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø·ÙˆØ± Ù…Ø³ØªÙ‚Ù„ Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ ÙˆÙ‚ØªÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ± ÛŒØ§ Ø´Ø±Ø§ÛŒØ· Ú†Ø§Ø±Øª Helm Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ ÙØ§ÛŒÙ„ÛŒ Ø¨Ù‡ Ø·ÙˆØ± Ø´Ø±Ø·ÛŒ ÙˆØ§Ø±Ø¯ ÛŒØ§ Ø­Ø°Ù Ø´ÙˆØ¯ØŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª ØªØ³Øªâ€ŒÙ‡Ø§ Ù†ØªÙˆØ§Ù†Ù†Ø¯ Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ù…Ù‡Ù… Ø±Ø§ Ù¾ÙˆØ´Ø´ Ø¯Ù‡Ù†Ø¯.

Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ ÛŒÚ© Ù…Ø«Ø§Ù„ Ø§Ø² ÙØ§ÛŒÙ„ Ø§Ø³Ù¾Ú© ØªØ³Øª Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø¯Ø± helm-unittest Ø¢Ù…Ø¯Ù‡ Ø§Ø³Øª.

> https://github.com/helm-unittest/helm-unittest#snapshot-testing
> 
> ```yaml
> templates:
>   - templates/deployment.yaml
> tests:
>   - it: pod spec should match snapshot
>     asserts:
>       - matchSnapshot:
>           path: spec.template.spec
>   # or you can snapshot the whole manifest
>   - it: manifest should match snapshot
>     asserts:
>       - matchSnapshot: {}
> ```

Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ØŒ Ø¯Ø± Ø³Ù†Ø§Ø±ÛŒÙˆÛŒÛŒ Ú©Ù‡ Ú†Ø§Ø±Øª Helm Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ù‡Ù… TLS ÙØ¹Ø§Ù„ Ø¨Ø§Ø´Ø¯ Ùˆ Ù‡Ù… cert-manager ÙØ¹Ø§Ù„ Ø¨Ø§Ø´Ø¯ØŒ Ù…Ù†Ø¨Ø¹ÛŒ Ø§Ø² Ù†ÙˆØ¹ `Certificate` Ø¨Ø±Ø§ÛŒ cert-manager Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯ØŒ Ø§Ù…Ø§ Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ cert-manager ÙØ¹Ø§Ù„ Ù†Ø¨Ø§Ø´Ø¯ØŒ Ù…Ù†Ø¨Ø¹ `Secret` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ TLS Ø±Ø§ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØ§Ø¨Ø¹ [`genSelfSignedCert`](https://helm.sh/docs/chart_template_guide/function_list/#genselfsignedcert) Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯. Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ø§ÛŒÙ†ØŒ ÙØ¹Ø§Ù„ ÛŒØ§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† TLS Ø¨Ø± ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ TLS Ø¯Ø± Ingress Ùˆ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ TLS Ù…Ø®ØµÙˆØµ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¯Ø± Deployment ØªØ£Ø«ÛŒØ± Ù…ÛŒâ€ŒÚ¯Ø°Ø§Ø±Ø¯.

Ø¯Ø± Ú†Ù†ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ÛŒØŒ helm-unittest Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù†ØªÙˆØ§Ù†Ø¯ Ø±ÙØªØ§Ø± Ú©Ø§Ù…Ù„ Ú†Ø§Ø±Øª Ø±Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§ÙÛŒ ØªØ³Øª Ú©Ù†Ø¯ØŒ Ú†ÙˆÙ† Ø®Ø±ÙˆØ¬ÛŒ Ø§ÛŒÙ† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø´Ø±Ø·ÛŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯ Ùˆ Ù…Ù†Ø¬Ø± Ø¨Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù‚Øµ Ø´ÙˆØ¯.

Ø§Ù…Ø§ Ø¨Ø§ `helm-chartsnap` ØªÙ†Ù‡Ø§ Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú†Ù†Ø¯ ÙØ§ÛŒÙ„ `values.yaml` Ø§Ø² Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ø³Øª ğŸ˜Š

## Ù†ØµØ¨ ğŸš€

Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ù„Ø§Ú¯ÛŒÙ† Helm Ù†ØµØ¨ Ú©Ù†ÛŒØ¯.

```sh
helm plugin install https://github.com/jlandowner/helm-chartsnap
```

Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±:

- Ù†ØµØ¨ Ø¨Ø§ Go

  ```sh
  go install github.com/jlandowner/helm-chartsnap@latest
  ```

- [Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ø§ÛŒÙ†Ø±ÛŒ Ù†Ø³Ø®Ù‡ Ù…Ù†ØªØ´Ø±Ø´Ø¯Ù‡](https://github.com/jlandowner/helm-chartsnap/releases)

## Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡

Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹ØŒ ÙÙ‚Ø· Ú†Ø§Ø±Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.

```
helm chartsnap -c YOUR_CHART
```

Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ `__snapshot__` Ø¯Ø± Ù…Ø³ÛŒØ± Ú†Ø§Ø±Øª Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ `default.snap` Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ú©ÛŒØ³â€ŒÙ‡Ø§ÛŒ ØªØ³Øª Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ø§Ø² ÙØ§ÛŒÙ„ Values Ú†Ø§Ø±Øª Ø®ÙˆØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯.

Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ø­ÙˆÙ‡ Ú©Ø§Ù…Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø³ØªÙˆØ± Ø¢Ù…Ø¯Ù‡ Ø§Ø³Øª.

```sh
Usage:
  chartsnap -c CHART [flags]

Examples:

  # Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø¨Ø§ Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶:
  chartsnap -c YOUR_CHART
  
  # Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª:
  chartsnap -c YOUR_CHART -u

  # Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø¨Ø§ Ù…Ù‚Ø§Ø¯ÛŒØ± ØªØ³Øª:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILE
  
  # Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ù‡Ù…Ù‡ Ú©ÛŒØ³â€ŒÙ‡Ø§ÛŒ ØªØ³Øª:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILES_DIRECTOY
  
  # ØªÙ†Ø¸ÛŒÙ… Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†â€ŒÙ‡Ø§ ÛŒØ§ ÙÙ„Ú¯â€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªÙˆØ± 'helm template':
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILE -- --skip-tests

  # Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ú†Ø§Ø±Øª Ø±Ø§Ù‡ Ø¯ÙˆØ± Ø¯Ø± Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒ Helm:
  chartsnap -c CHART_NAME -f YOUR_VALUES_FILE -- --repo HELM_REPO_URL

  # Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ú†Ø§Ø±Øª ingress-nginx (https://kubernetes.github.io/ingress-nginx/) Ø¨Ø±Ø§ÛŒ Ù†Ø³Ø®Ù‡ Ø®Ø§Øµ Ø¨Ø§ ÙØ§ÛŒÙ„ Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø´Ù…Ø§:
  chartsnap -c ingress-nginx -f YOUR_VALUES_FILE -- --repo https://kubernetes.github.io/ingress-nginx --namespace kube-system --version 4.8.3

  # Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ú†Ø§Ø±Øª cilium (https://cilium.io) Ø¨Ø§ Ù…Ù‚Ø¯Ø§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ùˆ ÙÙ„Ú¯â€ŒÙ‡Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡:
  chartsnap -c cilium -- --repo https://helm.cilium.io --namespace kube-system --set hubble.relay.enabled=true --set hubble.ui.enabled=true

  # Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ Ø¯Ø± Ø±Ø¬ÛŒØ³ØªØ±ÛŒ OCI
  chartsnap -c oci://ghcr.io/nginxinc/charts/nginx-gateway-fabric -n nginx-gateway

  # Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø¯ÙˆÙ† Ø±Ù†Ú¯:
  NO_COLOR=1 chartsnap -c YOUR_CHART

Flags:
  -c, --chart string              Ù…Ø³ÛŒØ± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ú†Ø§Ø±Øª. Ø§ÛŒÙ† ÙÙ„Ú¯ Ø¨Ù‡ 'helm template RELEASE_NAME CHART --values VALUES' Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† 'CHART' Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
      --config-file string        Ù†Ø§Ù… ÛŒØ§ Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ú©Ù‡ Ø±ÙØªØ§Ø± Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø±Ø§ ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ù…Ø§Ù†Ù†Ø¯ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© (Ù¾ÛŒØ´â€ŒÙØ±Ø¶ ".chartsnap.yaml")
  -N, --ctx-lines int             ØªØ¹Ø¯Ø§Ø¯ Ø®Ø·ÙˆØ· Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¯Ø± Ø®Ø±ÙˆØ¬ÛŒ ØªÙØ§ÙˆØª. Û° Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ù…Ù„ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Û³)
      --debug                     Ø­Ø§Ù„Øª Ø§Ø´Ú©Ø§Ù„â€ŒØ²Ø¯Ø§ÛŒÛŒ
      --fail-helm-error           Ø´Ú©Ø³Øª Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§ÛŒ Ø¯Ø³ØªÙˆØ± 'helm template'
      --failfast                  ØªÙˆÙ‚Ù Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ† Ø´Ú©Ø³Øª Ù‡Ø± Ú©ÛŒØ³ ØªØ³Øª
  -h, --help                      Ø±Ø§Ù‡Ù†Ù…Ø§ Ø¨Ø±Ø§ÛŒ chartsnap
  -n, --namespace string          Ù†Ø§Ù… ÙØ¶Ø§ÛŒ Ú©Ø§Ø±ÛŒ (namespace). Ø§ÛŒÙ† ÙÙ„Ú¯ Ø¨Ù‡ 'helm template RELEASE_NAME CHART --values VALUES --namespace NAMESPACE' Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† 'NAMESPACE' Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶ "default")
  -o, --output-dir string         Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ú©Ù‡ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ __snapshot__ Ø¯Ø± Ø¢Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯. (Ù¾ÛŒØ´â€ŒÙØ±Ø¶: Ø§Ú¯Ø± --values ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ ÙØ§ÛŒÙ„ Ù…Ù‚Ø¯Ø§Ø±Ø› Ø§Ú¯Ø± Ú†Ø§Ø±Øª Ù…Ø­Ù„ÛŒ Ø¨Ø§Ø´Ø¯ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ú†Ø§Ø±ØªØ› ÙˆÚ¯Ø±Ù†Ù‡ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ø¬Ø§Ø±ÛŒ)
      --parallelism int           Ù‡Ù…Ø²Ù…Ø§Ù†ÛŒ ØªØ³Øª Ù‡Ù†Ú¯Ø§Ù… Ú¯Ø±ÙØªÙ† Ú†Ù†Ø¯ Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø§Ø² ÛŒÚ© Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ ÙØ§ÛŒÙ„ Ù…Ù‚Ø¯Ø§Ø± ØªØ³Øª. Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶ -1)
      --release-name string       Ù†Ø§Ù… Ø§Ù†ØªØ´Ø§Ø±. Ø§ÛŒÙ† ÙÙ„Ú¯ Ø¨Ù‡ 'helm template RELEASE_NAME CHART --values VALUES' Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† 'RELEASE_NAME' Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶ "chartsnap")
      --snapshot-version string   Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø³Ø®Ù‡ Ø®Ø§ØµÛŒ Ø§Ø² ÙØ±Ù…Øª Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª. v1ØŒ v2ØŒ v3 Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. (Ù¾ÛŒØ´â€ŒÙØ±Ø¶: Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ†)
  -u, --update-snapshot           Ø­Ø§Ù„Øª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª
  -f, --values string             Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„ Ù…Ù‚Ø¯Ø§Ø± ØªØ³Øª ÛŒØ§ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ. Ø§Ú¯Ø± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆØ¯ØŒ Ù‡Ù…Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØ³Øª Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. Ø§Ú¯Ø± Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯ØŒ Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯. Ø§ÛŒÙ† ÙÙ„Ú¯ Ø¨Ù‡ 'helm template RELEASE_NAME CHART --values VALUES' Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† 'VALUES' Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
  -v, --version                   Ù†Ø³Ø®Ù‡ chartsnap

```

### Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© ğŸ’ª

Helm Ù‚Ø§Ø¨Ù„ÛŒØªÛŒ Ø¨Ù‡ Ù†Ø§Ù… "ØªÙˆØ§Ø¨Ø¹ Helm" Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± ØªØµØ§Ø¯ÙÛŒ ÛŒØ§ Ú¯ÙˆØ§Ù‡ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯Ø§Ù…Ø¶Ø§ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ù…Ø§Ù†Ù†Ø¯ [`randAlphaNum`](https://helm.sh/docs/chart_template_guide/function_list/#randalphanum-randalpha-randnumeric-and-randascii) Ùˆ [`genCA`, `genPrivateKey`, `genSelfSignedCert`](https://helm.sh/docs/chart_template_guide/function_list/#cryptographic-and-security-functions)

Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† ØªÙˆØ§Ø¨Ø¹ØŒ Ø®Ø±ÙˆØ¬ÛŒ Ù‡Ø± Ø¨Ø§Ø± Ú©Ù‡ Helm Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ù…ØªÙØ§ÙˆØª Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.
Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø­Ø§Ù„ØªØŒ chartsnap Ù‚Ø§Ø¨Ù„ÛŒØªÛŒ Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ø¨Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†ÛŒ Ø¢Ù†Ù‡Ø§ Ø¨Ø§ Ù…Ù‚Ø¯Ø§Ø± Ø«Ø§Ø¨Øª `###DYNAMIC_FIELD###` Ø§Ø² Ø¹Ø¯Ù… ØªØ·Ø§Ø¨Ù‚ Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© Ø±Ø§ Ø¯Ø± YAML ØªÙˆÙ„ÛŒØ¯Ø´Ø¯Ù‡ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² [JSONPath](https://datatracker.ietf.org/doc/html/rfc6901) Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯.

```yaml:.chartsnap.yaml
dynamicFields:
  - apiVersion: v1
    kind: Secret
    name: cosmo-auth-env
    jsonPath:
      - /data/COOKIE_HASHKEY
      - /data/COOKIE_BLOCKKEY
      - /data/COOKIE_HASHKEY
      - /data/COOKIE_SESSION_NAME
    base64: true
```

> Ù†Ú©ØªÙ‡:
> Ø¯Ø± JSONPathØŒ Ù†Ø­ÙˆÙ‡ Ø§Ø³Ú©ÛŒÙ¾ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø§Ú©ØªØ± / Ø¯Ø± [RFC6901, section 3](https://datatracker.ietf.org/doc/html/rfc6901#section-3) Ù…Ø³ØªÙ†Ø¯ Ø´Ø¯Ù‡ Ø§Ø³Øª.
> ```
>    Ú†ÙˆÙ† Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ '~' (%x7E) Ùˆ '/' (%x2F) Ù…Ø¹Ø§Ù†ÛŒ Ø®Ø§ØµÛŒ Ø¯Ø± JSON Pointer Ø¯Ø§Ø±Ù†Ø¯ØŒ
>    '~' Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ '~0' Ùˆ '/' Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ '~1' Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒ Ø´ÙˆÙ†Ø¯ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ Ø¯Ø± ÛŒÚ© ØªÙˆÚ©Ù† Ù…Ø±Ø¬Ø¹ Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
> ```
>
> Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ø§Ú¯Ø± Ø¨Ø§ Ù…Ø§Ù†ÙÛŒØ³ØªÛŒ Ù…Ø§Ù†Ù†Ø¯ Ø²ÛŒØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¨Ø§ÛŒØ¯ Ù…Ø³ÛŒØ± json Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª `/metadata/annotaions/checksum~1values` Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯.
> 
> ```yaml
> metadata:
>   annotations:
>     checksum/values: RANDOM_VALUES
> ```

Ø§Ú¯Ø± ÛŒÚ© Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ ÙØ§ÛŒÙ„ Ù…Ù‚Ø¯Ø§Ø± ØªØ³Øª Ø¯Ø§Ø±ÛŒØ¯ØŒ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÙØ§ÛŒÙ„ `.chartsnap.yaml` Ø¯Ø± Ù‡Ù…Ø§Ù† Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯. Ø§ÛŒÙ† ÛŒÚ© Ø±ÙØªØ§Ø± Ø¹Ù…ÙˆÙ…ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø¯Ø± Ø¢Ù† Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ø§Ø³Øª.

Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ±ØŒ Ø¨Ù‡ [example/app1](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/app1) Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø±Ø§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¯Ø± ÙØ§ÛŒÙ„ Ù…Ù‚Ø¯Ø§Ø± ØªØ³Øª Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÙˆÛŒÚ˜Ú¯ÛŒ `testSpec` Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯.
Ø¯Ø± Ø§ÛŒÙ† ØµÙˆØ±ØªØŒ Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ `.chartsnap.yaml` Ù†Ø¯Ø§Ø±ÛŒØ¯. Ø§ÛŒÙ† Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ø§Ø² Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø±Ø§Ù‡ Ø¯ÙˆØ± ÛŒØ§ Ø´Ø®Øµ Ø«Ø§Ù„Ø« Ø¨Ø§ ÙØ§ÛŒÙ„ Ù…Ù‚Ø¯Ø§Ø± ØªÚ©ÛŒ Ø´Ù…Ø§ Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³Øª.

ÙØ§ÛŒÙ„ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø§ÛŒÙ† Ø´Ú©Ù„ Ø¨Ø§Ø´Ø¯:

```yaml
# Ø§ÛŒÙ† ÙˆÛŒÚ˜Ú¯ÛŒ Ø±Ø§ Ø¨Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø®ÙˆØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯.
testSpec:
  dynamicFields:
    - apiVersion: v1
      kind: Secret
      name: cilium-ca
      jsonPath:
        - /data/ca.crt
        - /data/ca.key
      base64: true
    - apiVersion: v1
      kind: Secret
      name: hubble-server-certs
      jsonPath:
        - /data/ca.crt
        - /data/tls.crt
        - /data/tls.key
      base64: true
    - apiVersion: v1
      kind: Secret
      name: hubble-relay-client-certs
      jsonPath:
        - /data/ca.crt
        - /data/tls.crt
        - /data/tls.key
      base64: true

# Ø³Ø§ÛŒØ± Ù…Ù‚Ø§Ø¯ÛŒØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù‡Ø± Ù…Ù‚Ø¯Ø§Ø± Ø¯Ù„Ø®ÙˆØ§Ù‡ Ú†Ø§Ø±Øª Ø´Ù…Ø§ Ø¨Ø§Ø´Ø¯.
# ...
```

Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ±ØŒ Ø¨Ù‡ [example/remote](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/remote) Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

## Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† âœ¨

| Ú©Ø§Ø±Ø¨Ø±Ø§Ù† / Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ | ØªÙˆØ¶ÛŒØ­ | URL |
|:---|:---|:---|
| Example | Ú†Ø§Ø±Øª Ù†Ù…ÙˆÙ†Ù‡ ØªÙˆÙ„ÛŒØ¯Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø¯Ø³ØªÙˆØ± `helm create` | [`example/app1`](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/app1) |
| Example | Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³Ù†Ù¾â€ŒØ´Ø§Øª Ú¯Ø±ÙØªÙ† Ú†Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®Ø²Ù†â€ŒÙ‡Ø§ÛŒ Helm Ø±Ø§Ù‡ Ø¯ÙˆØ± | [`example/remote`](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/remote) |
| [helm-chartsnap-action](https://github.com/jlandowner/helm-chartsnap-action) | Ø§Ú©Ø´Ù† GitHub Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² helm chartsnap Ø¯Ø± CI | https://github.com/jlandowner/helm-chartsnap-action |
| [cosmo-workspace](https://github.com/cosmo-workspace/cosmo) | Ù¾Ù„ØªÙØ±Ù… Ù…ØªÙ†â€ŒØ¨Ø§Ø² WebIDE Ùˆ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡ Ø¨Ø± Ø¨Ø³ØªØ± Kubernetes | https://github.com/cosmo-workspace/cosmo/tree/main/charts/cosmo/test |
| [Kong](https://github.com/Kong/kong) | ğŸ¦ Ø¯Ø±ÙˆØ§Ø²Ù‡ API Ø§Ø¨Ø±ÛŒ Ùˆ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ | https://github.com/Kong/charts |


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-07

---