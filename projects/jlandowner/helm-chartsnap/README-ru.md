# helm-chartsnap üì∏ 
[![Go Reference](https://pkg.go.dev/badge/github.com/jlandowner/helm-chartsnap.svg)](https://pkg.go.dev/github.com/jlandowner/helm-chartsnap)
[![Go Report Card](https://goreportcard.com/badge/github.com/jlandowner/helm-chartsnap)](https://goreportcard.com/report/github.com/jlandowner/helm-chartsnap)
[![codecov](https://codecov.io/gh/jlandowner/helm-chartsnap/graph/badge.svg?token=8ARG53CRL7)](https://codecov.io/gh/jlandowner/helm-chartsnap)
[![Workflow Status](https://github.com/jlandowner/helm-chartsnap/actions/workflows/release.yaml/badge.svg)](https://github.com/jlandowner/helm-chartsnap/actions/workflows/release.yaml)
[![CI](https://github.com/jlandowner/helm-chartsnap/actions/workflows/ci.yaml/badge.svg)](https://github.com/jlandowner/helm-chartsnap/actions/workflows/ci.yaml)
[![GitHub Marketplace](https://img.shields.io/badge/Marketplace-Helm%20chartsnap%20action-blue.svg?colorA=24292e&colorB=0366d6&style=flat&longCache=true&logo=github)](https://github.com/marketplace/actions/helm-chartsnap-action)

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–Ω–∏–º–∫–æ–≤ (snapshot testing) Helm-—á–∞—Ä—Ç–æ–≤.

–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –º–æ—â–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ UI-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è Helm-—á–∞—Ä—Ç–æ–≤ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π ‚Äî –ø—Ä—è–º–æ –≤ —Ñ–∞–π–ª–µ `values.yaml`.

![screenshot](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/docs/screenshot.png)

## –û–±–∑–æ—Ä
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üîë](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-)
- [–ó–∞—á–µ–º –Ω—É–∂–Ω–æ Snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ? üì∏](#–∑–∞—á–µ–º-–Ω—É–∂–Ω–æ-snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-)
  - [–ú–æ—Ç–∏–≤–∞—Ü–∏—è](#–º–æ—Ç–∏–≤–∞—Ü–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ üöÄ](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
  - [–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π üí™](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö-–∑–Ω–∞—á–µ–Ω–∏–π-)
- [–ü—Ä–∏–º–µ—Ä—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚ú®](#–ø—Ä–∏–º–µ—Ä—ã-–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏-)


## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üîë

* **–ü—Ä–æ—Å—Ç–æ–µ –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ Snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Helm**
  
  - **–ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ —Ñ–∞–π–ª–æ–≤ TestSuite**: –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö TestSuite —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º —Ñ–∞–π–ª–æ–≤, —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `values.yaml` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–ª—É—á–∞—è. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑—É—á–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã.

* **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Helm-—á–∞—Ä—Ç–æ–≤**

  - **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ Helm**: –í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ —Ñ–∞–π–ª–µ values.yaml –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞, —á—Ç–æ–±—ã –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏—è–º–∏ Helm, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ [randAlphaNum](https://helm.sh/docs/chart_template_guide/function_list/).

* **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ Snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

  - **[GitHub Action](https://github.com/jlandowner/helm-chartsnap-action) –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**: GitHub Action, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö Helm-—á–∞—Ä—Ç–æ–≤ –≤ –≤–∞—à–µ–º CI, –≥–æ—Ç–æ–≤ üöÄ -> [`helm-chart-action`](https://github.com/jlandowner/helm-chartsnap-action)

## –ó–∞—á–µ–º –Ω—É–∂–Ω–æ Snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ? üì∏

–Ø —Å—á–∏—Ç–∞—é, —á—Ç–æ snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –≤ Web –∏–ª–∏ UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å —Ç–∞–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –∫–∞–∫ Jest ‚Äî —ç—Ç–æ –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Helm-—á–∞—Ä—Ç–æ–≤. Snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—ë—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤:

- **–í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:** Snapshot-—Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç –±–∞–∑–æ–≤—ã–π –≤—ã–≤–æ–¥, –∞ –∑–∞—Ç–µ–º —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç –µ–≥–æ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–µ—Å—Ç–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ Helm-—á–∞—Ä—Ç–∞.

- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:** Snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤, –¥–µ–ª–∞—è –µ–≥–æ –±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ Helm-—á–∞—Ä—Ç–∞–º–∏. –í—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è Helm-—á–∞—Ä—Ç–∞ —Å–ª—É–∂–∏—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π. –ù—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (=values.yaml) –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–º —Å–Ω–∏–º–∫–∏.

- **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–Ω–∏–º–∞—è —Å–Ω–∏–º–∫–∏ Helm-—á–∞—Ä—Ç–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ CI, –≤—ã –±—ã—Å—Ç—Ä–æ –∑–∞–º–µ—á–∞–µ—Ç–µ –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ –≤—Å—ë–º —á–∞—Ä—Ç–µ –∏ –∏–∑–±–µ–≥–∞–µ—Ç–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–π.

–≠—Ç–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–ª–µ–∑–Ω—ã –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á–∞—Ä—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–∑–¥–∞–ª–∏, –Ω–æ –∏ –¥–ª—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —á–∞—Ä—Ç–æ–≤, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –≤ –≤–∞—à–µ–º Kubernetes (–µ—Å–ª–∏ –≤—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä). –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤—ã—Ö–æ–¥–Ω—ã—Ö –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞—Ö, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å –≤–∞—à–∏–º–∏ *values*, –¥–∞–∂–µ —Å–∞–º—ã–µ –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ.


### –ú–æ—Ç–∏–≤–∞—Ü–∏—è

–°—É—â–µ—Å—Ç–≤—É—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Helm, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ snapshot-—Ç–µ—Å—Ç—ã:
- [helm-unittest](https://github.com/helm-unittest/helm-unittest), –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç [snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](https://github.com/helm-unittest/helm-unittest#snapshot-testing).
- [terratest](https://terratest.gruntwork.io/), –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –∫–æ–¥–∞. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ Go –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥ Helm. [–ë–ª–æ–≥-–ø–æ—Å—Ç](https://blog.gruntwork.io/automated-testing-for-kubernetes-and-helm-charts-using-terratest-a4ddc4e67344)

> –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Helm [`ct`](https://github.com/helm/chart-testing) –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è unit- –∏–ª–∏ snapshot-—Ç–µ—Å—Ç–æ–≤, –∞ —Ç–æ–ª—å–∫–æ –¥–ª—è lint –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.

–•–æ—Ç—è —ç—Ç–æ —Ü–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Helm-—á–∞—Ä—Ç–æ–≤, —É –Ω–∏—Ö –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑—É—á–∞—Ç—å –∏ –≥–æ—Ç–æ–≤–∏—Ç—å Test Suite —Ñ–∞–π–ª—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –¥–µ–ª–∞—é—Ç —Å–Ω–∏–º–æ–∫ –≤—Å–µ–≥–æ —á–∞—Ä—Ç–∞, –∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ñ–∞–π–ª–∞–º –≤ —Å–æ—Å—Ç–∞–≤–µ Helm-—á–∞—Ä—Ç–∞.

- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ —Ñ—É–Ω–∫—Ü–∏–π Helm –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è.

helm-unittest —É—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫, —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ñ–∞–π–ª–∞–º –≤ —á–∞—Ä—Ç–µ. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è Helm-—á–∞—Ä—Ç–∞ –∏–ª–∏ —É—Å–ª–æ–≤–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ç–æ–º—É, —á—Ç–æ —Ñ–∞–π–ª —Ü–µ–ª–∏–∫–æ–º –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∏–ª–∏ –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è, –≤–∞–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏.

–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∞ –¥–ª—è snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ helm-unittest:

> https://github.com/helm-unittest/helm-unittest#snapshot-testing
> 
> ```yaml
> templates:
>   - templates/deployment.yaml
> tests:
>   - it: pod spec should match snapshot
>     asserts:
>       - matchSnapshot:
>           path: spec.template.spec
>   # –∏–ª–∏ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–Ω–∏–º–æ–∫ –≤—Å–µ–≥–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞
>   - it: manifest should match snapshot
>     asserts:
>       - matchSnapshot: {}
> ```

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ Helm-—á–∞—Ä—Ç –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å `Certificate` –∏–∑ `cert-manager`, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã TLS –∏ cert-manager, –Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π TLS-—Å–µ–∫—Ä–µ—Ç —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ Helm [`genSelfSignedCert`](https://helm.sh/docs/chart_template_guide/function_list/#genselfsignedcert), –µ—Å–ª–∏ cert-manager –Ω–µ –≤–∫–ª—é—á—ë–Ω. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤–∫–ª—é—á–µ–Ω–∏–µ TLS –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–≤–æ–π—Å—Ç–≤–∞ TLS –≤ Ingress, –æ–ø—Ü–∏–∏ TLS –≤ Deployment –∏ —Ç.–¥.

–í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö helm-unittest –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–ø–æ—Å–æ–±–µ–Ω –∞–¥–µ–∫–≤–∞—Ç–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ–≥–æ —á–∞—Ä—Ç–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã–≤–æ–¥ —É—Å–ª–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º, –∏ —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –Ω–µ–ø–æ–ª–Ω—ã–º–∏.

–û–¥–Ω–∞–∫–æ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `helm-chartsnap`, ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ `values.yaml` —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ üòä

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ üöÄ

–í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –ø–ª–∞–≥–∏–Ω Helm.

```sh
helm plugin install https://github.com/jlandowner/helm-chartsnap
```

–î—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã:

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Go

  ```sh
  go install github.com/jlandowner/helm-chartsnap@latest
  ```

- [–°–∫–∞—á–∞—Ç—å –±–∏–Ω–∞—Ä–Ω–∏–∫ —Ä–µ–ª–∏–∑–∞](https://github.com/jlandowner/helm-chartsnap/releases)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –≤–∞—à —á–∞—Ä—Ç.

```
helm chartsnap -c YOUR_CHART
```

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —á–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–∞–ø–∫–∞ `__snapshot__` –∏ —Ñ–∞–π–ª `default.snap`.

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–µ–π—Å—ã –≤ –≤–∏–¥–µ –≤–∞—Ä–∏–∞—Ü–∏–π —Ñ–∞–π–ª–æ–≤ Values –≤–∞—à–µ–≥–æ —á–∞—Ä—Ç–∞.

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```sh
Usage:
  chartsnap -c CHART [flags]

Examples:

  # –°–Ω–∏–º–æ–∫ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:
  chartsnap -c YOUR_CHART
  
  # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å–Ω–∏–º–∫–æ–≤:
  chartsnap -c YOUR_CHART -u

  # –°–Ω–∏–º–æ–∫ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILE
  
  # –°–Ω–∏–º–æ–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–µ–π—Å–æ–≤:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILES_DIRECTOY
  
  # –ó–∞–¥–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤/—Ñ–ª–∞–≥–æ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã 'helm template':
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILE -- --skip-tests

  # –°–Ω–∏–º–æ–∫ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —á–∞—Ä—Ç–∞ –∏–∑ Helm-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
  chartsnap -c CHART_NAME -f YOUR_VALUES_FILE -- --repo HELM_REPO_URL

  # –°–Ω–∏–º–æ–∫ helm-—á–∞—Ä—Ç–∞ ingress-nginx (https://kubernetes.github.io/ingress-nginx/) –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Å –≤–∞—à–∏–º —Ñ–∞–π–ª–æ–º –∑–Ω–∞—á–µ–Ω–∏–π:
  chartsnap -c ingress-nginx -f YOUR_VALUES_FILE -- --repo https://kubernetes.github.io/ingress-nginx --namespace kube-system --version 4.8.3

  # –°–Ω–∏–º–æ–∫ helm-—á–∞—Ä—Ç–∞ cilium (https://cilium.io) —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏ –¥–æ–ø. —Ñ–ª–∞–≥–∞–º–∏:
  chartsnap -c cilium -- --repo https://helm.cilium.io --namespace kube-system --set hubble.relay.enabled=true --set hubble.ui.enabled=true

  # –°–Ω–∏–º–æ–∫ —á–∞—Ä—Ç–æ–≤ –∏–∑ OCI-—Ä–µ–µ—Å—Ç—Ä–∞:
  chartsnap -c oci://ghcr.io/nginxinc/charts/nginx-gateway-fabric -n nginx-gateway

  # –í—ã–≤–æ–¥ –±–µ–∑ —Ü–≤–µ—Ç–æ–≤:
  NO_COLOR=1 chartsnap -c YOUR_CHART

Flags:
  -c, --chart string              –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —á–∞—Ä—Ç–∞. —ç—Ç–æ—Ç —Ñ–ª–∞–≥ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ 'helm template RELEASE_NAME CHART --values VALUES' –∫–∞–∫ 'CHART'
      --config-file string        –∏–º—è –∏–ª–∏ –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª—É, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ snapshot (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è) (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ".chartsnap.yaml")
  -N, --ctx-lines int             –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤ diff-–≤—ã–≤–æ–¥–µ. 0 ‚Äî –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
      --debug                     —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
      --fail-helm-error           –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ 'helm template' –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –Ω–µ—É–¥–∞—á–Ω–æ
      --failfast                  –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –Ω–µ—É–¥–∞—á–Ω–æ–º —Ç–µ—Å—Ç–µ
  -h, --help                      –ø–æ–º–æ—â—å –ø–æ chartsnap
  -n, --namespace string          namespace. —ç—Ç–æ—Ç —Ñ–ª–∞–≥ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ 'helm template RELEASE_NAME CHART --values VALUES --namespace NAMESPACE' –∫–∞–∫ 'NAMESPACE' (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "default")
  -o, --output-dir string         –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –∫—É–¥–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ __snapshot__ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Ñ–∞–π–ª–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ --values; –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —á–∞—Ä—Ç–∞, –µ—Å–ª–∏ —á–∞—Ä—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π; –∏–Ω–∞—á–µ —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)
      --parallelism int           –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö snapshot –¥–ª—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -1)
      --release-name string       –∏–º—è —Ä–µ–ª–∏–∑–∞. —ç—Ç–æ—Ç —Ñ–ª–∞–≥ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ 'helm template RELEASE_NAME CHART --values VALUES' –∫–∞–∫ 'RELEASE_NAME' (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "chartsnap")
      --snapshot-version string   –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Ñ–æ—Ä–º–∞—Ç–∞ snapshot. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è v1, v2, v3. (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: latest)
  -u, --update-snapshot           —Ä–µ–∂–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–Ω–∏–º–∫–æ–≤
  -f, --values string             –ø—É—Ç—å –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É —Ñ–∞–π–ª—É values –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã. –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. —ç—Ç–æ—Ç —Ñ–ª–∞–≥ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ 'helm template RELEASE_NAME CHART --values VALUES' –∫–∞–∫ 'VALUES'
  -v, --version                   –≤–µ—Ä—Å–∏—è chartsnap

```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π üí™

Helm –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ ("Helm functions"), –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä [`randAlphaNum`](https://helm.sh/docs/chart_template_guide/function_list/#randalphanum-randalpha-randnumeric-and-randascii) –∏ [`genCA`, `genPrivateKey`, `genSelfSignedCert`](https://helm.sh/docs/chart_template_guide/function_list/#cryptographic-and-security-functions)

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤—ã–≤–æ–¥ –±—É–¥–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ Helm.
–î–ª—è —ç—Ç–æ–≥–æ —Å–ª—É—á–∞—è chartsnap –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—â—É—é –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å–Ω–∏–º–∫–æ–≤, –ø–æ–¥—Å—Ç–∞–≤–ª—è—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `###DYNAMIC_FIELD###`.

–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º YAML, –∏—Å–ø–æ–ª—å–∑—É—è [JSONPath](https://datatracker.ietf.org/doc/html/rfc6901).

```yaml:.chartsnap.yaml
dynamicFields:
  - apiVersion: v1
    kind: Secret
    name: cosmo-auth-env
    jsonPath:
      - /data/COOKIE_HASHKEY
      - /data/COOKIE_BLOCKKEY
      - /data/COOKIE_HASHKEY
      - /data/COOKIE_SESSION_NAME
    base64: true
```

> –ü–†–ò–ú–ï–ß–ê–ù–ò–ï:
> –í JSONPath —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–∞ / –æ–ø–∏—Å–∞–Ω–æ –≤ [RFC6901, —Å–µ–∫—Ü–∏—è 3](https://datatracker.ietf.org/doc/html/rfc6901#section-3)
> ```
>    –¢–∞–∫ –∫–∞–∫ —Å–∏–º–≤–æ–ª—ã '~' (%x7E) –∏ '/' (%x2F) –∏–º–µ—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ JSON Pointer, '~' –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ '~0', –∞ '/' ‚Äî –∫–∞–∫ '~1', –∫–æ–≥–¥–∞ —ç—Ç–∏ —Å–∏–º–≤–æ–ª—ã –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ —Ç–æ–∫–µ–Ω–µ.
> ```
>
> –ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–º, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ, –ø—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `/metadata/annotaions/checksum~1values`.
> 
> ```yaml
> metadata:
>   annotations:
>     checksum/values: RANDOM_VALUES
> ```

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ values, –ø–æ–º–µ—Å—Ç–∏—Ç–µ —Ç—É–¥–∞ —Ñ–∞–π–ª `.chartsnap.yaml`. –≠—Ç–æ –æ–±—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö snapshot-—Ç–µ—Å—Ç–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

–ë–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤: [example/app1](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/app1).

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø—Ä—è–º–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –≤ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª values —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `testSpec`.
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ –Ω—É–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å `.chartsnap.yaml`. –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è snapshot-—Ç–µ—Å—Ç–æ–≤ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —á–∞—Ä—Ç–æ–≤ —Å –æ–¥–Ω–∏–º —Ñ–∞–π–ª–æ–º values.

–í–∞—à values-—Ñ–∞–π–ª –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```yaml
# –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –≤ –≤–∞—à–∏ values.
testSpec:
  dynamicFields:
    - apiVersion: v1
      kind: Secret
      name: cilium-ca
      jsonPath:
        - /data/ca.crt
        - /data/ca.key
      base64: true
    - apiVersion: v1
      kind: Secret
      name: hubble-server-certs
      jsonPath:
        - /data/ca.crt
        - /data/tls.crt
        - /data/tls.key
      base64: true
    - apiVersion: v1
      kind: Secret
      name: hubble-relay-client-certs
      jsonPath:
        - /data/ca.crt
        - /data/tls.crt
        - /data/tls.key
      base64: true

# –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —á–∞—Ä—Ç–∞.
# ...
```

–ë–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤: [example/remote](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/remote).

## –ü—Ä–∏–º–µ—Ä—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚ú®

| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å / –ü—Ä–æ–µ–∫—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | URL |
|:---|:---|:---|
| Example | –ü—Ä–∏–º–µ—Ä —á–∞—Ä—Ç–∞, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π `helm create` | [`example/app1`](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/app1) |
| Example | –ü—Ä–∏–º–µ—Ä snapshot-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Ä—Ç–æ–≤ –∏–∑ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö Helm-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ | [`example/remote`](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/remote) |
| [helm-chartsnap-action](https://github.com/jlandowner/helm-chartsnap-action) | GitHub Action –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è helm chartsnap –≤ CI | https://github.com/jlandowner/helm-chartsnap-action |
| [cosmo-workspace](https://github.com/cosmo-workspace/cosmo) | Open source WebIDE & DevEnvironment Platform –Ω–∞ Kubernetes | https://github.com/cosmo-workspace/cosmo/tree/main/charts/cosmo/test |
| [Kong](https://github.com/Kong/kong) | ü¶ç –û–±–ª–∞—á–Ω—ã–π API Gateway –∏ AI Gateway. | https://github.com/Kong/charts |



---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-07

---