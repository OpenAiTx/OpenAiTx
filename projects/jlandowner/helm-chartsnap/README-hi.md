# рд╣реЗрд▓реНрдо-рдЪрд╛рд░реНрдЯрд╕реНрдиреИрдк ЁЯУ╕ 
[![Go Reference](https://pkg.go.dev/badge/github.com/jlandowner/helm-chartsnap.svg)](https://pkg.go.dev/github.com/jlandowner/helm-chartsnap)
[![Go Report Card](https://goreportcard.com/badge/github.com/jlandowner/helm-chartsnap)](https://goreportcard.com/report/github.com/jlandowner/helm-chartsnap)
[![codecov](https://codecov.io/gh/jlandowner/helm-chartsnap/graph/badge.svg?token=8ARG53CRL7)](https://codecov.io/gh/jlandowner/helm-chartsnap)
[![Workflow Status](https://github.com/jlandowner/helm-chartsnap/actions/workflows/release.yaml/badge.svg)](https://github.com/jlandowner/helm-chartsnap/actions/workflows/release.yaml)
[![CI](https://github.com/jlandowner/helm-chartsnap/actions/workflows/ci.yaml/badge.svg)](https://github.com/jlandowner/helm-chartsnap/actions/workflows/ci.yaml)
[![GitHub Marketplace](https://img.shields.io/badge/Marketplace-Helm%20chartsnap%20action-blue.svg?colorA=24292e&colorB=0366d6&style=flat&longCache=true&logo=github)](https://github.com/marketplace/actions/helm-chartsnap-action)

рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдЙрдкрдХрд░рдгред

рдХреЗрд╡рд▓ `values.yaml` рдлрд╝рд╛рдЗрд▓ рдХреЗ рднреАрддрд░ рдиреНрдпреВрдирддрдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд╕рд╛рде рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рдХреЗ рд▓рд┐рдП рд╢рдХреНрддрд┐рд╢рд╛рд▓реА UI рдкрд░реАрдХреНрд╖рдг рдХреНрд╖рдорддрд╛рдПрдВ рд▓рд╛рдПрдВред

![screenshot](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/docs/screenshot.png)

## рдЕрд╡рд▓реЛрдХрди
- [рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ ЁЯФС](#рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ-)
- [рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХреНрдпреЛрдВ? ЁЯУ╕](#рд╕реНрдиреИрдкрд╢реЙрдЯ-рдкрд░реАрдХреНрд╖рдг-рдХреНрдпреЛрдВ-)
  - [рдкреНрд░реЗрд░рдгрд╛](#рдкреНрд░реЗрд░рдгрд╛)
- [рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди ЁЯЪА](#рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди-)
- [рдЙрдкрдпреЛрдЧ](#рдЙрдкрдпреЛрдЧ)
  - [рдбрд╛рдпрдирд╛рдорд┐рдХ рдорд╛рдиреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рдирд╛ ЁЯТк](#рдбрд╛рдпрдирд╛рдорд┐рдХ-рдорд╛рдиреЛрдВ-рдХреЛ-рд╕рдВрднрд╛рд▓рдирд╛-)
- [рд╢реЛрдХреЗрд╕ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ тЬи](#рд╢реЛрдХреЗрд╕--рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-)

## рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ ЁЯФС

* **рд╣реЗрд▓реНрдо рдбреЗрд╡реЗрд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рди рдФрд░ рд╕рд╣рдЬ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг**
  
  - **рдХреЛрдИ рдЯреВрд▓-рд╡рд┐рд╢рд┐рд╖реНрдЯ TestSuite рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк рдирд╣реАрдВ**: рдХреБрдЫ рдЯреВрд▓реНрд╕ рдХреЗ рд╡рд┐рдкрд░реАрдд, рдЬрд┐рдиреНрд╣реЗрдВ рдЕрд▓рдЧ TestSuites рдХрд╕реНрдЯрдо рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдкреЛрдВ рдХреЗ рд╕рд╛рде рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕ рдЯреВрд▓ рдореЗрдВ рдХрд┐рд╕реА рдЕрддрд┐рд░рд┐рдХреНрдд рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рдкреНрд░рддреНрдпреЗрдХ рдкрд░реАрдХреНрд╖рдг рдХреЗрд╕ рдХреЗ рд▓рд┐рдП рдорд╛рдирдХ `values.yaml` рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕реНрдХрд░рдг рддреИрдпрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рд╕реЗ рдирдпрд╛ рдкреНрд░рд╛рд░реВрдк рд╕реАрдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╕рдорд╛рдкреНрдд рд╣реЛрддреА рд╣реИ рдФрд░ рдкрд░реАрдХреНрд╖рдг рд╕рд░рд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

* **рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд**

  - **рд╣реЗрд▓реНрдо рдлрдВрдХреНрд╢рдВрд╕ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рдбрд╛рдпрдирд╛рдорд┐рдХ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рд╕рдВрднрд╛рд▓рдирд╛**: рдЖрдк рдкреНрд░рддреНрдпреЗрдХ рдкрд░реАрдХреНрд╖рдг рдХреЗрд╕ рдХреЗ рд▓рд┐рдП values.yaml рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рдЧреБрдг рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдкрд░реАрдХреНрд╖рдг рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк [randAlphaNum](https://helm.sh/docs/chart_template_guide/function_list/) рдЬреИрд╕реЗ рд╣реЗрд▓реНрдо рдлрдВрдХреНрд╢рдВрд╕ рджреНрд╡рд╛рд░рд╛ рдбрд╛рдпрдирд╛рдорд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

* **рдирд┐рд░рдВрддрд░ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг**

  - **[GitHub Action](https://github.com/jlandowner/helm-chartsnap-action) рдЙрдкрд▓рдмреНрдз рд╣реИ**: GitHub рдПрдХреНрд╢рди рдЬреЛ рдЖрдкрдХреЗ CI рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рдпрд╛ рд░рд┐рдореЛрдЯ рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдирд┐рд░рдВрддрд░ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИ ЁЯЪА -> [`helm-chart-action`](https://github.com/jlandowner/helm-chartsnap-action)

## рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХреНрдпреЛрдВ? ЁЯУ╕

рдореЗрд░рд╛ рдорд╛рдирдирд╛ рд╣реИ рдХрд┐ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг, рдЬреЛ рд╡реЗрдм рдпрд╛ UI рдкрд░реАрдХреНрд╖рдг рдореЗрдВ Jest рдЬреИрд╕реЗ рдЯреВрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд▓реЛрдХрдкреНрд░рд┐рдп рд╣реИ, рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯреНрд╕ рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИред рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХрдИ рд▓рд╛рдн рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ:

- **рджреГрд╢реНрдп рддреБрд▓рдирд╛:** рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдПрдХ рдмреЗрд╕рд▓рд╛рдЗрди рдЖрдЙрдЯрдкреБрдЯ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рдЙрд╕реЗ рдмрд╛рдж рдХреЗ рдкрд░реАрдХреНрд╖рдг рдкрд░рд┐рдгрд╛рдореЛрдВ рд╕реЗ рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реИрдВред рдЗрд╕рд╕реЗ рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рд░реЗрдВрдбрд░рд┐рдВрдЧ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдФрд░ рд░рд┐рдЧреНрд░реЗрд╢рди рдХреА рдЖрд╕рд╛рди рджреГрд╢реНрдп рдЬрд╛рдВрдЪ рд╕рдВрднрд╡ рд╣реЛрддреА рд╣реИред

- **рдмреЗрд╣рддрд░ рдЕрдиреБрд░рдХреНрд╖рдгреАрдпрддрд╛:** рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдкрд░реАрдХреНрд╖рдг рд╕реЗрдЯрдЕрдк рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЬрдЯрд┐рд▓ рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯреНрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдпрд╣ рдЕрдзрд┐рдХ рд╕реБрд▓рдн рдФрд░ рдЕрдиреБрд░рдХреНрд╖рдгреАрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рдХреЗ рд▓рд┐рдП рдЗрдирдкреБрдЯ рдорд╛рдиреЛрдВ рдХрд╛ рд╕рдВрдпреЛрдЬрди рд╣реЛрддрд╛ рд╣реИред рд╣рдореЗрдВ рдХреЗрд╡рд▓ рдЕрдиреБрдорд╛рдиреА рдЗрдирдкреБрдЯ рд╕рдВрдпреЛрдЬрдиреЛрдВ (=values.yaml) рдФрд░ рдЙрдирдХреЗ рд╕реНрдиреИрдкрд╢реЙрдЯреНрд╕ рдХреЛ рдмрдирд╛рдП рд░рдЦрдирд╛ рд╣реЛрддрд╛ рд╣реИред

- **рдирд┐рд░рдВрддрд░ рдкрд░реАрдХреНрд╖рдг:** рдЕрдкрдиреЗ CI рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рдХрд╛ рд▓рдЧрд╛рддрд╛рд░ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗрдХрд░, рдЖрдк рдЕрдкрдиреЗ рдкреВрд░реЗ рдЪрд╛рд░реНрдЯ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдЬрд▓реНрджреА рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд░рд┐рдЧреНрд░реЗрд╢рди рд╕реЗ рдмрдЪ рд╕рдХрддреЗ рд╣реИрдВред

рдпреЗ рд▓рд╛рдн рд╕рд┐рд░реНрдл рдЖрдкрдХреЗ рдмрдирд╛рдП рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рддрдХ рд╕реАрдорд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рд╡реЗ рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдЪрд╛рд░реНрдЯреНрд╕ рдкрд░ рднреА рд▓рд╛рдЧреВ рд╣реЛрддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдкрдиреЗ рдЕрдкрдиреЗ Kubernetes рдореЗрдВ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рд╣реИред рдпрджрд┐ рдЖрдк рдХреНрд▓рд╕реНрдЯрд░ рдЕрдкрдЧреНрд░реЗрдб рдХрд░рддреЗ рд╣реИрдВ, рддреЛ *values* рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдорд┐рдд рдЖрдЙрдЯрдкреБрдЯ рдореИрдирд┐рдлреЗрд╕реНрдЯреНрд╕ рдореЗрдВ рдХрд┐рд╕реА рднреА рдЫреЛрдЯреЗ рдмрджрд▓рд╛рд╡ рдХреЛ рднреА рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред

### рдкреНрд░реЗрд░рдгрд╛

рдРрд╕реЗ рдореМрдЬреВрджрд╛ рд╣реЗрд▓реНрдо рдкрд░реАрдХреНрд╖рдг рдЙрдкрдХрд░рдг рд╣реИрдВ рдЬреЛ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред
- [helm-unittest](https://github.com/helm-unittest/helm-unittest), рдПрдХ рд▓реЛрдХрдкреНрд░рд┐рдп рдпреВрдирд┐рдЯ рдкрд░реАрдХреНрд╖рдг рдЯреВрд▓, рдЗрд╕рдореЗрдВ [рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг](https://github.com/helm-unittest/helm-unittest#snapshot-testing) рдХрд╛ рд╡рд┐рдХрд▓реНрдк рд╣реИред
- [terratest](https://terratest.gruntwork.io/), рдЖрдкрдХреЗ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЛрдб рдХреЗ рд▓рд┐рдП рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкрд░реАрдХреНрд╖рдгред рдЗрд╕рдореЗрдВ Go рдХреЛрдб рдХреЗ рд░реВрдк рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦреЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдореЗрдВ рд╣реЗрд▓реНрдо рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рд╣реИред [рдмреНрд▓реЙрдЧ рдкреЛрд╕реНрдЯ](https://blog.gruntwork.io/automated-testing-for-kubernetes-and-helm-charts-using-terratest-a4ddc4e67344)

> рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╣реЗрд▓реНрдо рдкрд░реАрдХреНрд╖рдг рдЯреВрд▓ [`ct`](https://github.com/helm/chart-testing) рдпреВрдирд┐рдЯ рдпрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рд▓рд┐рдВрдЯ рдФрд░ рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд╣реИ

рдЬрдмрдХрд┐ рдпреЗ рдЯреВрд▓реНрд╕ рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯреНрд╕ рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдореВрд▓реНрдпрд╡рд╛рди рд╣реИрдВ, рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдЗрдирдореЗрдВ рдХреБрдЫ рд╕реАрдорд╛рдПрдБ рд╣реИрдВред

- рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рднреА рдЯреВрд▓реНрд╕ рдХреЗ Test Suite рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕реАрдЦрдирд╛ рдФрд░ рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИред

- рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдкреВрд░реЗ рдЪрд╛рд░реНрдЯ рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ рдирд╣реАрдВ рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛, рдмрд▓реНрдХрд┐ рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рдХреЗ рднреАрддрд░ рдкреНрд░рддрд┐-рдлрд╝рд╛рдЗрд▓ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

- рд╣реЗрд▓реНрдо рдлрдВрдХреНрд╢рди рдХреЗ рдбрд╛рдпрдирд╛рдорд┐рдХ рдЖрдЙрдЯрдкреБрдЯ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ред

helm-unittest рдХреЛ рдкреНрд░рддрд┐-рдлрд╝рд╛рдЗрд▓ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдпрд╣ рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЬрдм рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рдорд╛рди рдпрд╛ рд╢рд░реНрддреЗрдВ рдХрд┐рд╕реА рдкреВрд░реА рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╢рд╛рдорд┐рд▓ рдпрд╛ рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░рдг рдмрдирддреА рд╣реИрдВ, рддреЛ рдкрд░реАрдХреНрд╖рдг рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдХреЛ рдХрд╡рд░ рдХрд░рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрде рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

рдпрд╣рд╛рдБ helm-unittest рдореЗрдВ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд░реАрдХреНрд╖рдг рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрджрд╛рд╣рд░рдг рд╣реИред

> https://github.com/helm-unittest/helm-unittest#snapshot-testing
> 
> ```yaml
> templates:
>   - templates/deployment.yaml
> tests:
>   - it: pod spec should match snapshot
>     asserts:
>       - matchSnapshot:
>           path: spec.template.spec
>   # рдпрд╛ рдЖрдк рдкреВрд░реЗ рдореИрдирд┐рдлреЗрд╕реНрдЯ рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ
>   - it: manifest should match snapshot
>     asserts:
>       - matchSnapshot: {}
> ```

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдорд╛рди рд▓реЗрдВ рдХрд┐ рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рддрдм рдПрдХ `Certificate` рд╕рдВрд╕рд╛рдзрди (`cert-manager` рдХрд╛) рдмрдирд╛рдПрдЧрд╛ рдЬрдм TLS рдФрд░ cert-manager рджреЛрдиреЛрдВ рд╕рдХреНрд╖рдо рд╣реЛрдВ, рд▓реЗрдХрд┐рди рдЬрдм cert-manager рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИ, рддреЛ рд╣реЗрд▓реНрдо рдлрдВрдХреНрд╢рди [`genSelfSignedCert`](https://helm.sh/docs/chart_template_guide/function_list/#genselfsignedcert) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реЗрд▓реНрдл-рд╕рд╛рдЗрди TLS `Secret` рд╕рдВрд╕рд╛рдзрди рдмрдирд╛рдПрдЧрд╛ред рдЖрдЧреЗ, TLS рд╕рдХреНрд╖рдо рд╣реИ рдпрд╛ рдирд╣реАрдВ, рдпрд╣ Ingress рдХреЗ TLS рдЧреБрдгреЛрдВ, Deployment рдХреЗ рдРрдк-рд╡рд┐рд╢рд┐рд╖реНрдЯ TLS рд╡рд┐рдХрд▓реНрдкреЛрдВ рдЖрджрд┐ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИред

рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, helm-unittest рдкреВрд░реЗ рдЪрд╛рд░реНрдЯ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдкрд░реНрдпрд╛рдкреНрдд рдкрд░реАрдХреНрд╖рдг рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЗрди рдХрдВрдбреАрд╢рдирд▓ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ рдЦрд╛рд▓реА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдкрд░реАрдХреНрд╖рдг рдЕрдзреВрд░реЗ рд░рд╣ рд╕рдХрддреЗ рд╣реИрдВред

рд╣рд╛рд▓рд╛рдВрдХрд┐, `helm-chartsnap` рдХреЗ рд╕рд╛рде рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдЕрдкреЗрдХреНрд╖рд┐рдд рдкреИрдЯрд░реНрди рдХреЗ рдХреБрдЫ `values.yaml` рдлрд╝рд╛рдЗрд▓реЗрдВ рддреИрдпрд╛рд░ рдХрд░рдиреА рд╣реИрдВ ЁЯШК

## рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди ЁЯЪА

рдЖрдк рдЗрд╕реЗ рд╣реЗрд▓реНрдо рдкреНрд▓рдЧрдЗрди рдХреЗ рд░реВрдк рдореЗрдВ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

```sh
helm plugin install https://github.com/jlandowner/helm-chartsnap
```

рдЕрдиреНрдп рд╡рд┐рдХрд▓реНрдк:

- Go рдЗрдВрд╕реНрдЯреЙрд▓

  ```sh
  go install github.com/jlandowner/helm-chartsnap@latest
  ```

- [рд░рд┐рд▓реАрдЬ рдмрд╛рдЗрдирд░реА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ](https://github.com/jlandowner/helm-chartsnap/releases)

## рдЙрдкрдпреЛрдЧ

рддреНрд╡рд░рд┐рдд рд╢реБрд░реБрдЖрдд рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдЕрдкрдирд╛ рдЪрд╛рд░реНрдЯ рдкрд╛рд╕ рдХрд░реЗрдВред

```
helm chartsnap -c YOUR_CHART
```

`__snapshot__` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдЪрд╛рд░реНрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ рдФрд░ `default.snap` рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдк рдЕрдкрдиреЗ рдЪрд╛рд░реНрдЯ рдХреЗ Values рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХреЗрд╕ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред

рдпрд╣рд╛рдБ рдХрдорд╛рдВрдб рдХрд╛ рдкреВрд░рд╛ рдЙрдкрдпреЛрдЧ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

```sh
Usage:
  chartsnap -c CHART [flags]

Examples:

  # рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрдиреИрдкрд╢реЙрдЯ:
  chartsnap -c YOUR_CHART
  
  # рд╕реНрдиреИрдкрд╢реЙрдЯ рдлрд╝рд╛рдЗрд▓реЗрдВ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ:
  chartsnap -c YOUR_CHART -u

  # рдкрд░реАрдХреНрд╖рдг рдХреЗрд╕ рдорд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрдиреИрдкрд╢реЙрдЯ:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILE
  
  # рд╕рднреА рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЛрдВ рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILES_DIRECTOY
  
  # 'helm template' рдХрдорд╛рдВрдб рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдЖрд░реНрдЧреНрд╕ рдпрд╛ рдлреНрд▓реИрдЧ рд╕реЗрдЯ рдХрд░реЗрдВ:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILE -- --skip-tests

  # рд╣реЗрд▓реНрдо рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рд░рд┐рдореЛрдЯ рдЪрд╛рд░реНрдЯ рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ:
  chartsnap -c CHART_NAME -f YOUR_VALUES_FILE -- --repo HELM_REPO_URL

  # рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рд╡реИрд▓реНрдпреВ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рде ingress-nginx (https://kubernetes.github.io/ingress-nginx/) рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ:
  chartsnap -c ingress-nginx -f YOUR_VALUES_FILE -- --repo https://kubernetes.github.io/ingress-nginx --namespace kube-system --version 4.8.3

  # рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде cilium (https://cilium.io) рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯ рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗрдВ рдФрд░ рдлреНрд▓реИрдЧ рд╕реЗрдЯ рдХрд░реЗрдВ:
  chartsnap -c cilium -- --repo https://helm.cilium.io --namespace kube-system --set hubble.relay.enabled=true --set hubble.ui.enabled=true

  # OCI рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рдЪрд╛рд░реНрдЯреНрд╕ рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗрдВ
  chartsnap -c oci://ghcr.io/nginxinc/charts/nginx-gateway-fabric -n nginx-gateway

  # рдмрд┐рдирд╛ рд░рдВрдЧ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ:
  NO_COLOR=1 chartsnap -c YOUR_CHART

Flags:
  -c, --chart string              рдЪрд╛рд░реНрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХрд╛ рдкрдеред рдпрд╣ рдлреНрд▓реИрдЧ 'helm template RELEASE_NAME CHART --values VALUES' рдХреЛ 'CHART' рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ
      --config-file string        рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд╛рдо рдпрд╛ рдкрде, рдЬреЛ рд╕реНрдиреИрдкрд╢реЙрдЯ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреИрд╕реЗ рдбрд╛рдпрдирд╛рдорд┐рдХ рдлрд╝реАрд▓реНрдбреНрд╕ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ ".chartsnap.yaml")
  -N, --ctx-lines int             рдбрд┐рдлрд╝ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ред 0 рдлреБрд▓ рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рд▓рд┐рдП (рдбрд┐рдлрд╝реЙрд▓реНрдЯ 3)
      --debug                     рдбрд┐рдмрдЧ рдореЛрдб
      --fail-helm-error           рдЕрдЧрд░ 'helm template' рдХрдорд╛рдВрдб рдлреЗрд▓ рд╣реЛ рддреЛ рдлреЗрд▓ рдХрд░реЗрдВ
      --failfast                  рдЬреИрд╕реЗ рд╣реА рдХреЛрдИ рдкрд░реАрдХреНрд╖рдг рдХреЗрд╕ рдлреЗрд▓ рд╣реЛ, рддреБрд░рдВрдд рдлреЗрд▓ рдХрд░реЗрдВ
  -h, --help                      chartsnap рдХреЗ рд▓рд┐рдП рд╕рд╣рд╛рдпрддрд╛
  -n, --namespace string          рдиреЗрдорд╕реНрдкреЗрд╕ред рдпрд╣ рдлреНрд▓реИрдЧ 'helm template RELEASE_NAME CHART --values VALUES --namespace NAMESPACE' рдХреЛ 'NAMESPACE' рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ "default")
  -o, --output-dir string         рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдЬрд┐рд╕рдореЗрдВ __snapshot__ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИред (рдбрд┐рдлрд╝реЙрд▓реНрдЯ: рдЕрдЧрд░ --values рд╕реЗрдЯ рд╣реИ рддреЛ values рдлрд╝рд╛рдЗрд▓ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА; рдЕрдЧрд░ рдЪрд╛рд░реНрдЯ рд╕реНрдерд╛рдиреАрдп рд╣реИ рддреЛ рдЪрд╛рд░реНрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА; рдЕрдиреНрдпрдерд╛ рд╡рд░реНрддрдорд╛рди рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА)
      --parallelism int           рдпрджрд┐ рдкрд░реАрдХреНрд╖рдг рд╡реИрд▓реНрдпреВ рдлрд╝рд╛рдЗрд▓ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЗ рд▓рд┐рдП рдХрдИ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓рд┐рдП рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ рддреЛ рдкрд░реАрдХреНрд╖рдг рд╕рдорд╡рд░реНрддреАрддрд╛ред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЕрд╕реАрдорд┐рдд (рдбрд┐рдлрд╝реЙрд▓реНрдЯ -1)
      --release-name string       рд░рд┐рд▓реАрдЬ рдирд╛рдоред рдпрд╣ рдлреНрд▓реИрдЧ 'helm template RELEASE_NAME CHART --values VALUES' рдХреЛ 'RELEASE_NAME' рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ "chartsnap")
      --snapshot-version string   рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реНрдиреИрдкрд╢реЙрдЯ рдлрд╝реЙрд░реНрдореЗрдЯ рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред v1, v2, v3 рд╕рдорд░реНрдерд┐рдд рд╣реИрдВред (рдбрд┐рдлрд╝реЙрд▓реНрдЯ: рдирд╡реАрдирддрдо)
  -u, --update-snapshot           рд╕реНрдиреИрдкрд╢реЙрдЯ рдЕрдкрдбреЗрдЯ рдореЛрдб
  -f, --values string             рдкрд░реАрдХреНрд╖рдг values рдлрд╝рд╛рдЗрд▓ рдпрд╛ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХрд╛ рдкрдеред рдпрджрд┐ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕реЗрдЯ рд╣реИ, рддреЛ рд╕рднреА рдкрд░реАрдХреНрд╖рдг рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдпрджрд┐ рдЦрд╛рд▓реА рд╣реИ, рддреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдпрд╣ рдлреНрд▓реИрдЧ 'helm template RELEASE_NAME CHART --values VALUES' рдХреЛ 'VALUES' рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ
  -v, --version                   chartsnap рдХреЗ рд▓рд┐рдП рд╕рдВрд╕реНрдХрд░рдг

```

### рдбрд╛рдпрдирд╛рдорд┐рдХ рдорд╛рдиреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рдирд╛ ЁЯТк

рд╣реЗрд▓реНрдо рдореЗрдВ "рд╣реЗрд▓реНрдо рдлрдВрдХреНрд╢рдВрд╕" рдирд╛рдордХ рд╕реБрд╡рд┐рдзрд╛ рд╣реИ рдЬреЛ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдорд╛рди рдпрд╛ рд╕реЗрд▓реНрдл-рд╕рд╛рдЗрди рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯреНрд╕ рдЙрддреНрдкрдиреНрди рдХрд░рддреА рд╣реИ рдЬреИрд╕реЗ [`randAlphaNum`](https://helm.sh/docs/chart_template_guide/function_list/#randalphanum-randalpha-randnumeric-and-randascii) рдФрд░ [`genCA`, `genPrivateKey`, `genSelfSignedCert`](https://helm.sh/docs/chart_template_guide/function_list/#cryptographic-and-security-functions)

рдЗрди рдлрдВрдХреНрд╢рдВрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рд╣рд░ рдмрд╛рд░ рд╣реЗрд▓реНрдо рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдиреЗ рдкрд░ рдЖрдЙрдЯрдкреБрдЯ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ред
рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП, chartsnap рдореЗрдВ рдПрдХ рд╕реБрд╡рд┐рдзрд╛ рд╣реИ рдЬреЛ рдЙрдиреНрд╣реЗрдВ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдорд╛рди, `###DYNAMIC_FIELD###` рд╕реЗ рдмрджрд▓рдХрд░ рдорд┐рд╕рдореИрдЪ рд╕реНрдиреИрдкрд╢реЙрдЯ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред

рдЖрдк рдЬреЗрдирд░реЗрдЯреЗрдб YAML рдореЗрдВ рдбрд╛рдпрдирд╛рдорд┐рдХ рдорд╛рдиреЛрдВ рдХреЗ рдкрд╛рдереНрд╕ рдХреЛ [JSONPath](https://datatracker.ietf.org/doc/html/rfc6901) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

```yaml:.chartsnap.yaml
dynamicFields:
  - apiVersion: v1
    kind: Secret
    name: cosmo-auth-env
    jsonPath:
      - /data/COOKIE_HASHKEY
      - /data/COOKIE_BLOCKKEY
      - /data/COOKIE_HASHKEY
      - /data/COOKIE_SESSION_NAME
    base64: true
```

> рдиреЛрдЯ:
> JSONPath рдореЗрдВ, / рдХреИрд░реЗрдХреНрдЯрд░ рдХреЛ рдПрд╕реНрдХреЗрдк рдХрд░рдиреЗ рдХрд╛ рд╡рд░реНрдгрди [RFC6901, section 3](https://datatracker.ietf.org/doc/html/rfc6901#section-3) рдореЗрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ
> ```
>    рдХреНрдпреЛрдВрдХрд┐ рдХреИрд░реЗрдХреНрдЯрд░ '~' (%x7E) рдФрд░ '/' (%x2F) рдХрд╛ JSON Pointer рдореЗрдВ рд╡рд┐рд╢реЗрд╖ рдЕрд░реНрде рд╣реИ,
>    '~' рдХреЛ '~0' рдФрд░ '/' рдХреЛ '~1' рдХреЗ рд░реВрдк рдореЗрдВ рдПрдиреНрдХреЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрдм рдпреЗ рдХреИрд░реЗрдХреНрдЯрд░реНрд╕ рд░реЗрдлрд░реЗрдВрд╕ рдЯреЛрдХрди рдореЗрдВ рд╣реЛрдВред
> ```
>
> рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореИрдирд┐рдлреЗрд╕реНрдЯ рдХреЛ рд╕рдВрднрд╛рд▓рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ json path рдХреЛ `/metadata/annotaions/checksum~1values` рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред
> 
> ```yaml
> metadata:
>   annotations:
>     checksum/values: RANDOM_VALUES
> ```

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд░реАрдХреНрд╖рдг values рдлрд╝рд╛рдЗрд▓ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╣реИ, рддреЛ рдЙрд╕рдореЗрдВ `.chartsnap.yaml` рдлрд╝рд╛рдЗрд▓ рд░рдЦреЗрдВред рдпрд╣ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЗ рд╕рднреА рд╕реНрдиреИрдкрд╢реЙрдЯ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдореЗрдВ рд╕рд╛рдорд╛рдиреНрдп рд╡реНрдпрд╡рд╣рд╛рд░ рд╣реИред

рдЕрдзрд┐рдХ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рджреЗрдЦреЗрдВ [example/app1](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/app1)ред

рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдЖрдк рд╕реАрдзреЗ рдкрд░реАрдХреНрд╖рдг values рдлрд╝рд╛рдЗрд▓ рдореЗрдВ `testSpec` рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдкрдХреЛ `.chartsnap.yaml` рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред рдпрд╣ рд░рд┐рдореЛрдЯ рдпрд╛ рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдЪрд╛рд░реНрдЯреНрд╕ рдХреЗ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЖрдкрдХреА рдПрдХрд▓ values рдлрд╝рд╛рдЗрд▓ рд╣реИред

рдЖрдкрдХреА values рдлрд╝рд╛рдЗрд▓ рдЗрд╕ рддрд░рд╣ рд╣реЛ рд╕рдХрддреА рд╣реИ:

```yaml
# рдЕрдкрдиреА values рдореЗрдВ рдпрд╣ рдкреНрд░реЙрдкрд░реНрдЯреА рдЬреЛрдбрд╝реЗрдВред
testSpec:
  dynamicFields:
    - apiVersion: v1
      kind: Secret
      name: cilium-ca
      jsonPath:
        - /data/ca.crt
        - /data/ca.key
      base64: true
    - apiVersion: v1
      kind: Secret
      name: hubble-server-certs
      jsonPath:
        - /data/ca.crt
        - /data/tls.crt
        - /data/tls.key
      base64: true
    - apiVersion: v1
      kind: Secret
      name: hubble-relay-client-certs
      jsonPath:
        - /data/ca.crt
        - /data/tls.crt
        - /data/tls.key
      base64: true

# рдЕрдиреНрдп рдорд╛рди рдЖрдкрдХреЗ рдЪрд╛рд░реНрдЯ рдХреЗ рдорд╛рди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред
# ...
```

рдЕрдзрд┐рдХ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рджреЗрдЦреЗрдВ [example/remote](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/remote)ред

## рд╢реЛрдХреЗрд╕ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ тЬи

| рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ / рдкреНрд░реЛрдЬреЗрдХреНрдЯ | рд╡рд┐рд╡рд░рдг | URL |
|:---|:---|:---|
| рдЙрджрд╛рд╣рд░рдг | `helm create` рдХрдорд╛рдВрдб рджреНрд╡рд╛рд░рд╛ рдЬреЗрдирд░реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдЙрджрд╛рд╣рд░рдг рдЪрд╛рд░реНрдЯ | [`example/app1`](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/app1) |
| рдЙрджрд╛рд╣рд░рдг | рд░рд┐рдореЛрдЯ рд╣реЗрд▓реНрдо рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдЪрд╛рд░реНрдЯреНрд╕ рдХрд╛ рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓реЗрдиреЗ рдХрд╛ рдЙрджрд╛рд╣рд░рдг | [`example/remote`](https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/remote) |
| [helm-chartsnap-action](https://github.com/jlandowner/helm-chartsnap-action) | CI рдореЗрдВ рд╣реЗрд▓реНрдо рдЪрд╛рд░реНрдЯрд╕реНрдиреИрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП GitHub рдПрдХреНрд╢рди | https://github.com/jlandowner/helm-chartsnap-action |
| [cosmo-workspace](https://github.com/cosmo-workspace/cosmo) | Kubernetes рдкрд░ рдУрдкрди рд╕реЛрд░реНрд╕ WebIDE рдФрд░ DevEnvironment рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо | https://github.com/cosmo-workspace/cosmo/tree/main/charts/cosmo/test |
| [Kong](https://github.com/Kong/kong) | ЁЯжН рдХреНрд▓рд╛рдЙрдб-рдиреЗрдЯрд┐рд╡ API рдЧреЗрдЯрд╡реЗ рдФрд░ AI рдЧреЗрдЯрд╡реЗ | https://github.com/Kong/charts |

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-07

---