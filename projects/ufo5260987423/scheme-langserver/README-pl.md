<div align="right">
  <details>
    <summary >ğŸŒ JÄ™zyk</summary>
    <div>
      <div align="right">
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=en">English</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=zh-CN">ç®€ä½“ä¸­æ–‡</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=zh-TW">ç¹é«”ä¸­æ–‡</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=ja">æ—¥æœ¬èª</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=ko">í•œêµ­ì–´</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=th">à¹„à¸—à¸¢</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=fr">FranÃ§ais</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=de">Deutsch</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=es">EspaÃ±ol</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=it">Itapano</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=pt">PortuguÃªs</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=nl">Nederlands</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=pl">Polski</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=fa">ÙØ§Ø±Ø³ÛŒ</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=tr">TÃ¼rkÃ§e</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=vi">Tiáº¿ng Viá»‡t</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=ufo5260987423&project=scheme-langserver&lang=id">Bahasa Indonesia</a></p>
      </div>
    </div>
  </details>
</div>

![](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/figure/logo-no-background.png)
# Scheme-langserver
[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/ufo5260987423/scheme-langserver)

MoÅ¼esz przeczytaÄ‡ mojÄ… [pracÄ™](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/paper.pdf) i cytowaÄ‡ jÄ… tak:
> WANG, Z. (2025, 12 maja). Scheme-langserver: Treat Scheme Code Editing as the First-Class Concern. The 18th European Lisp Symposium (ELS`25), Zurich. https://doi.org/10.5281/zenodo.15384882

PoniewaÅ¼ GitHub moÅ¼e blokowaÄ‡ adresy IP z Chin, musiaÅ‚em skopiowaÄ‡ to repozytorium [tutaj](https://codeberg.org/ufo5260987423/scheme-langserver) oraz [tutaj](https://gitee.com/ufo5260987423/scheme-langserver). BÄ™dÄ™ stale aktualizowaÅ‚ wszystkie repozytoria, ale nie mogÄ™ tego zagwarantowaÄ‡. WspÃ³Å‚pracujÄ™ takÅ¼e z [XmacsLabs](https://github.com/XmacsLabs), znajdziesz fork [tutaj](https://github.com/XmacsLabs/scheme-langserver).

<video src="https://github.com/user-attachments/assets/893bba98-6709-4fac-a4d3-dc7b6aab46fb" controls="controls" width="500" height="300"></video>

**Teraz VSCode moÅ¼e korzystaÄ‡ ze scheme-langserver!** Zajrzyj [TUTAJ](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/startup.md).

>UWAGA: Scheme-langserver zawiera wiele, wiele bÅ‚Ä™dÃ³w. PracujÄ™ nad ich usuwaniem i apelujÄ™ o pomoc spoÅ‚ecznoÅ›ci. ProszÄ™ o cierpliwoÅ›Ä‡.

>UWAGA: automatycznie wygenerowane informacje o typach znajdziesz [tutaj](https://ufo5260987423.github.io/scheme-langserver/doc/analysis/type-inference-result). Obecnie wykorzystywane sÄ… gÅ‚Ã³wnie do dalszego rozwoju (moÅ¼e takÅ¼e dla AKKU) oraz debugowania.

Implementacja wsparcia takich funkcji jak autouzupeÅ‚nianie, przejÅ›cie do definicji czy dokumentacja po najechaniu jest duÅ¼ym wyzwaniem programistycznym. Jednak w porÃ³wnaniu do innych jÄ™zykÃ³w jak java, python, javascript czy c, implementacje protokoÅ‚u language server dla jÄ™zykÃ³w lispowych powstajÄ… niejako w prÃ³Å¼ni. [Geiser](https://gitlab.com/emacs-geiser), [racket langserver](https://github.com/jeapostrophe/racket-langserver) oraz [swish-lint](https://github.com/becls/swish-lint) i inne â€“ wszystkie opierajÄ… siÄ™ na `repl` (Read-Eval-Print Loop) lub tokenizatorze sÅ‚Ã³w kluczowych, a nie na analizie programistycznej. PrzykÅ‚adowo, jeÅ›li programista pracuje nad niedokoÅ„czonym projektem, w ktÃ³rym kod nie jest w peÅ‚ni wykonywalny, [Geiser](https://gitlab.com/emacs-geiser) lub inne narzÄ™dzia bÄ™dÄ… uzupeÅ‚niaÅ‚y jedynie identyfikatory powiÄ…zane na najwyÅ¼szym poziomie, wylistowane przez procedurÄ™ `environment-symbols` (dla [Chez](https://cisco.github.io/ChezScheme/)), lub uzupeÅ‚niaÅ‚y symbole zamiast identyfikatorÃ³w. Oznacza to, Å¼e dla lokalnych powiÄ…zaÅ„ i nieukoÅ„czonego kodu, mimo Å¼e analiza programistyczna jest tu najwaÅ¼niejsza, [Geiser](https://gitlab.com/emacs-geiser) i podobne narzÄ™dzia nie rozpoznajÄ… poprawnego zakresu identyfikatorÃ³w. Podobne przypadki wystÄ™pujÄ… przy przejÅ›ciu do definicji i wielu innych funkcjach.

PodstawowÄ… przyczynÄ… jest to, Å¼e dla Scheme i innych dialektÃ³w Lispa ich bogate zbiory danych i elastyczne struktury sterujÄ…ce stanowiÄ… duÅ¼e wyzwanie dla analizy programÃ³w. SzczegÃ³lnie makra â€“ wydaje siÄ™, Å¼e Scheme jest przeznaczony gÅ‚Ã³wnie dla geniuszy i do programowania meta/makro. Ale mÃ³wiÄ™: nie. Scheme pozwala na wiele ciekawych rzeczy, jeÅ›li zapewni siÄ™ lepsze Å›rodowisko programistyczne. I teraz moÅ¼esz [**ZACZÄ„Ä† TUTAJ**](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/startup.md).

Ten pakiet to implementacja protokoÅ‚u language server wspierajÄ…ca programowanie w Scheme. Zapewnia uzupeÅ‚nianie kodu, przechodzenie do definicji oraz wnioskowanie typÃ³w. FunkcjonalnoÅ›ci te opierajÄ… siÄ™ na statycznej analizie kodu wedÅ‚ug [standardu r6rs](http://www.r6rs.org/) oraz oczywistych reguÅ‚ach dla nieukoÅ„czonego kodu. Sam pakiet i powiÄ…zane biblioteki sÄ… publikowane lub bÄ™dÄ… publikowane przez [Akku](https://akkuscm.org/), czyli menedÅ¼era pakietÃ³w dla Scheme.

Pakiet byÅ‚ rÃ³wnieÅ¼ testowany z [Chez Scheme](https://cisco.github.io/ChezScheme/) w wersjach 9.4 i 9.5. SzczegÃ³Å‚owe testy dla wersji 10.0.0 zostanÄ… przeprowadzone po aktualizacji mojego systemu operacyjnego.

PracujÄ™ nad tym projektem open source w wolnym czasie i mogÄ™ wnieÅ›Ä‡ do spoÅ‚ecznoÅ›ci wiele ciekawych pomysÅ‚Ã³w, takich jak integracja analizy przepÅ‚ywu danych z scheme-langserver czy wiele innych rzeczy. CaÅ‚y czas proszÄ™ o wsparcie finansowe lub darowizny. MoÅ¼esz przekazaÄ‡ darowiznÄ™ poprzez [stronÄ™ patreona](https://www.patreon.com/PoorProgrammer/membership) lub [çˆ±å‘ç”µ](https://afdian.com/a/ufo5260987423).


## Kompilacja, Instalacja i Konfiguracja znajdujÄ… siÄ™ [TUTAJ](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/startup.md)

## Ostatni Status
BÄ™dÄ™ dalej naprawiaÄ‡ bÅ‚Ä™dy, profilowaÄ‡ kod i zbieraÄ‡ materiaÅ‚y do mojej ogromnej ksiÄ…Å¼ki o wÅ‚asnorÄ™cznym systemie wnioskowania typÃ³w. Zajmie mi to okoÅ‚o roku. Dalszy rozwÃ³j obejmuje plugin do [VScode](https://code.visualstudio.com/) oraz analizÄ™ przepÅ‚ywu danych. Ale tak naprawdÄ™, traktujÄ™ teraz to open source jako pracÄ™ dorywczÄ… i nie mogÄ™ zagwarantowaÄ‡ harmonogramu.

## Wydania
1.2.9 Teraz, korzystaj z wnioskowania typÃ³w!

Poprzednie wydania znajdziesz w [tym pliku](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/release-log.md).

### Funkcje
1. UzupeÅ‚nianie powiÄ…zaÅ„ identyfikatorÃ³w na najwyÅ¼szym i lokalnym poziomie.
![Top-level and local identifiers binding](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/figure/auto-completion.png "Top-level and local identifiers binding")
2. PrzejÅ›cie do definicji.
![Goto definition with telescope.nvim](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/figure/definition.png "Goto Definition with telescope.nvim")
3. KompatybilnoÅ›Ä‡ z menedÅ¼erem pakietÃ³w: Akku.
4. Synchronizacja zmian w plikach i odpowiednia aktualizacja indeksÃ³w.
5. PodglÄ…d (hover).
6. Wyszukiwanie referencji i podÅ›wietlanie dokumentu (referencje w zakresie dokumentu).
![Find references with telescope.nvim](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/figure/find-references.png "Find references with telescope.nvim")
7. Symbole dokumentu.
![Find document symbols with telescope.nvim](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/figure/document-symbol.png "find document symbols with telescope.nvim")
8. Wykrywanie powiÄ…zaÅ„ lokalnych identyfikatorÃ³w opartych na *-syntax (define-syntax, let-syntax, itd.).
9. Wieloplatformowe, rÃ³wnolegÅ‚e indeksowanie.
10. Autorski adnotator kodu ÅºrÃ³dÅ‚owego kompatybilny z plikami .sps.
11. Optymalizacja peephole dla Å¼Ä…daÅ„ API z zadaniami wstrzymywanymi.
12. Wnioskowanie typÃ³w z uÅ¼yciem wÅ‚asnego interpretera DSL (jestem z tego bardzo dumny!). Teraz zostaÅ‚o ono wbudowane w autouzupeÅ‚nianie. Jak pokazuje poniÅ¼sza ilustracja, "length-b" i "length-a" majÄ…ce typ "integer?" sÄ… na poczÄ…tku rekomendowanych opcji, poniewaÅ¼ pasujÄ… do wymaganego typu parametru dla "<=".
![Autocompletion with type inference](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/figure/auto-completion-with-type-inference.png "Autocompletion with type inference")
Test moÅ¼e to potwierdziÄ‡, wystarczy uruchomiÄ‡ `scheme --script tests/protocol/apis/test-completion.sps` a plik logÃ³w `scheme-langserver.log` zawiera takie wyniki:
```bash
send-message
2023 11 21 11 26 41 967266866
{"jsonrpc":"2.0","id":"3","result":[{"label":"length-a"},{"label":"length-b"},{"label":"lambda"},{"label":"latin-1-codec"},{"label":"lcm"},{"label":"least-fixnum"},{"label":"length"},{"label":"let"},{"label":"let*"},{"label":"let*-values"},{"label":"let-syntax"},{"label":"let-values"},{"label":"letrec"},{"label":"letrec*"},{"label":"letrec-syntax"},{"label":"lexical-violation?"},{"label":"list"},{"label":"list->string"},{"label":"list->vector"},{"label":"list-ref"},{"label":"list-sort"},{"label":"list-tail"},{"label":"list?"},{"label":"log"},{"label":"lookahead-char"},{"label":"lookahead-u8"}]}
```
13. Abstrakcyjny interpreter do wykrywania identyfikatorÃ³w miÄ™dzy rÃ³Å¼nymi rozszerzeniami plikÃ³w, takimi jak scm, ss, sps, sls i sld.

### TODO
14. Zmiana nazw (renaming).
15. PeÅ‚na zgodnoÅ›Ä‡ ze [standardem r6rs](http://www.r6rs.org/).
16. Krokowy ekspander makr: wÅ‚aÅ›ciwie juÅ¼ taki zaimplementowaÅ‚em i chciaÅ‚em, Å¼eby byÅ‚ kluczowym krokiem wykrywania powiÄ…zaÅ„ identyfikatorÃ³w w makrach zdefiniowanych przez uÅ¼ytkownika. Teraz widzÄ™, Å¼e to wykrywanie jest duÅ¼o trudniejsze niÅ¼ myÅ›laÅ‚em, a ekspander nie wiem, gdzie dokÅ‚adnie siÄ™ sprawdzi.
17. Ewaluacja kodu.
18. Diagnostyka kodu.
19. Dodanie wsparcia semantycznego miÄ™dzy jÄ™zykami. Czy moÅ¼na obsÅ‚uÅ¼yÄ‡ jÄ™zyki takie jak Java, C, Python i wiele innych za pomocÄ… transformatora AST?
20. Ekstrakcja wyraÅ¼eÅ„/instrukcji do procedury.

## TODO:WkÅ‚ad

## Debugowanie

### Jak debugowaÄ‡
https://www.scheme.com/debug/debug.html#g1

### Log wyjÅ›ciowy
KorzystajÄ…c ze wskazÃ³wek z sekcji [Budowanie](#building), [Instalacja dla Lunar Vim](#installation-for-lunarvim) oraz [Instalacja dla VScode](#todo-installation-for-vscode), jeÅ›li ktoÅ› chce rozwijaÄ‡ projekt i logowaÄ‡ pewne rzeczy, wygodnie jest dodaÄ‡ `Å›cieÅ¼ka-do-pliku-logu` i nadpisaÄ‡ plik `~/.local/share/lunarvim/site/pack/packer/start/nvim-lspconfig/lua/lspconfig/server_configurations/scheme_langserver.lua` w nastÄ™pujÄ…cy sposÃ³b:
```lua
local util = require 'lspconfig.util'
local bin_name = '{path-to-run}'
local cmd = { bin_name ,"path-to-log-file"}

return {
  default_config = {
    cmd = cmd,
    filetypes = { 'scheme' },
    root_dir = util.find_git_ancestor,
    single_file_support = true,
  },
  docs = {
    description = [[
https://github.com/ufo5260987423/scheme-langserver
`scheme-langserver`, implementacja language server protocol dla scheme
]]   ,
  },
}
```
### Powtarzanie z logiem
KorzystajÄ…c z powyÅ¼szego [logu wyjÅ›ciowego](#output-log), moÅ¼esz uÅ¼yÄ‡ `tests/log-debug.sps` do powtarzania bÅ‚Ä™dÃ³w:
1. ZmieÅ„ nazwÄ™ `{path-to-log}` (zwykle `~/scheme-langserver.log`) na `~/ready-for-analyse.log`;
2. Uruchom `scheme --script tests/log-debug.sps`. JeÅ›li chcesz odtworzyÄ‡ Å›rodowisko wielowÄ…tkowe, moÅ¼esz takÅ¼e uruchomiÄ‡ `scheme --script tests/log-debug.sps`.

## Testowanie
Prawie wszystkie kluczowe procedury i API sÄ… testowane. Moja praca jest doÅ›Ä‡ surowa, ale uÅ¼yteczna. ByÄ‡ moÅ¼e chciaÅ‚byÅ› zobaczyÄ‡, co zrobiÅ‚em w katalogu `tests` lub po prostu uruchomiÄ‡ poniÅ¼sze polecenie w `{scheme-langserver-root-directory}`
``` bash
bash test.sh
```
>UWAGA
Trudno jest testowaÄ‡ w Å›rodowisku wielowÄ…tkowym. Obecne testy skupiajÄ… siÄ™ na pojedynczym wÄ…tku.

## UÅ¼ycie Scheme-langserver do innych celÃ³w
### Script-Fu w GIMP
Script-Fu opiera siÄ™ na interpretowanym jÄ™zyku Scheme i dziaÅ‚a, korzystajÄ…c z funkcji, ktÃ³re wspÃ³Å‚pracujÄ… z wewnÄ™trznymi funkcjami GIMP-a. Na przykÅ‚adzie [tej strony](https://dalelane.co.uk/blog/?p=628), moÅ¼esz uÅ¼yÄ‡ scheme-langserver z plikami skryptÃ³w z rozszerzeniem "SCM".

### Inne

InteresujÄ™ siÄ™ rÃ³wnieÅ¼ [OMN (Opusmodus Notation)](https://opusmodus.com/) oraz AutoLisp. Ale nadal mam wiele rzeczy do zrobienia.

## Licznik kodu
```bash
find . -name "*.sls" ! -path "./.akku/*" |xargs wc -l
```
## SzczegÃ³Å‚owa dokumentacja
1. [Scheme-langserver: Traktowanie edycji kodu Scheme jako priorytetu](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/paper.pdf).
2. [WyÅ‚apywanie powiÄ…zaÅ„ identyfikatorÃ³w](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/analysis/identifier.md)
3. [Synchronizacja](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/util/synchronize.md)
4. [Wnioskowanie typÃ³w](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/analysis/type-inference.md),~~[ç±»å‹æ¨æ–­](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/analysis/type-inference.cn.md)~~(PrzestarzaÅ‚e, piszÄ™ o tym chiÅ„skÄ… ksiÄ…Å¼kÄ™)
5. [Analiza API](https://raw.githubusercontent.com/ufo5260987423/scheme-langserver/main/./doc/protocol/analysis.md)
6. [Deepwiki](https://deepwiki.com/ufo5260987423/scheme-langserver)

## Historia gwiazdek

[![Wykres historii gwiazdek](https://api.star-history.com/svg?repos=ufo5260987423/scheme-langserver&type=Date)](https://star-history.com/#ufo5260987423/scheme-langserver)

## WspÃ³Å‚twÃ³rcy

![WspÃ³Å‚twÃ³rcy](https://contrib.rocks/image?repo=ufo5260987423/scheme-langserver)

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-02

---