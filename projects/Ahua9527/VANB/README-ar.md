# VANB (جسر شبكة الفيديو والصوت)
# VANB (جسر مساعد الفيديو NDI)
# VANB (哇!! NB)

VANB هو أداة تحويل تدفق الفيديو/الصوت مبنية على GStreamer، تدعم التحويل الثنائي الاتجاه بين بروتوكولي NDI وRTMP. تتيح إرسال مصدر NDI إلى خادم RTMP، أو تحويل تدفق RTMP إلى إخراج NDI.

هذا المشروع مفتوح المصدر بموجب ترخيص [GPL-3.0](https://www.gnu.org/licenses/gpl-3.0.html).

## الأنظمة المدعومة

حالياً يدعم الأنظمة التالية بشكل أساسي:
- macOS (Apple Silicon)

## متطلبات البيئة

### المتطلبات النظامية
- [GStreamer 1.24+](https://gstreamer.freedesktop.org)
- [NewTek NDI SDK](https://www.ndi.tv/sdk/)

### خطوات التثبيت
1. تثبيت [NewTek NDI SDK](https://www.ndi.tv/sdk/)

2. تثبيت GStreamer عبر Homebrew
```bash
brew install --cask --zap gstreamer-development
```

3. استنساخ مستودع المشروع
```bash
git clone https://github.com/Ahua9527/VANB.git
cd VANB
```

4. تثبيت تبعيات Python
```bash
pip install -r requirements.txt
```

5. إعداد متغيرات البيئة (راجع ملف .env)
```bash
# إعداد مسار NDI SDK
export NDI_SDK_PATH=/Library/NDI SDK for Apple
# إعداد مسار إضافات GStreamer
export GST_PLUGIN_PATH=/opt/homebrew/lib/gstreamer-1.0:${NDI_SDK_PATH}/lib/macOS
export DYLD_LIBRARY_PATH=/opt/homebrew/lib:${NDI_SDK_PATH}/lib/macOS
export GI_TYPELIB_PATH=/opt/homebrew/lib/girepository-1.0:/usr/local/lib/girepository-1.0
```

## طريقة الاستخدام

### تحويل NDI إلى RTMP (جانب الإرسال)
```bash
python vanb_tx.py
```
سيقوم البرنامج تلقائياً بمسح مصادر NDI المتاحة ويطلب منك إدخال عنوان RTMP للبث.

### تحويل RTMP إلى NDI (جانب الاستقبال)
```bash
python vanb_rx.py
```
بعد إدخال عنوان سحب RTMP، سيقوم البرنامج تلقائياً بإنشاء إخراج NDI جديد.

## حالة التطوير

### الميزات المنفذة
- ✓ التحويل من NDI إلى RTMP
- ✓ التحويل من RTMP إلى NDI
- ✓ التكيف التلقائي لمعدل الإطارات والدقة
- ✓ تزامن الصوت والفيديو
- ✓ المسح التلقائي لمصادر NDI
- ✓ التسمية التلقائية لإخراج NDI
- ✓ ترميز وفك ترميز الأجهزة عبر VideoToolbox

### الميزات قيد التنفيذ
- ⨯ دعم ملف الإعدادات (Profile/config.json)
  - التحكم في معلمات الإدخال والإخراج عبر ملف إعدادات
  - دعم إعدادات تحويل متنوعة مسبقة الضبط
  - إمكانية ضبط حجم المخزن المؤقت ومعلمات التأخير
  - دعم توازن الجودة والأداء في التحويل
- ⨯ معالجة تدفقات متعددة بشكل متزامن

## إشعار الترخيص

⚠️ **تنبيه مهم: الترخيص والامتثال**

### ترخيص البرنامج

هذا المشروع مرخص بموجب [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.html).

أسباب اختيار ترخيص GPL-3.0:
1. يستخدم المشروع العديد من إضافات GStreamer المرخصة بموجب GPL:
   - `x264`: ترميز فيديو H.264 (GPL)
   - `x265`: ترميز فيديو HEVC/H.265 (GPL)
   - `faad`: فك ترميز صوت AAC (GPL)
2. وفقًا لبند الانتقال في GPL، يجب أن يكون البرنامج الذي يستخدم مكونات GPL مرخصًا أيضاً بموجب GPL
3. اختيار GPL-3.0 يضمن التوافق مع تراخيص جميع المكونات المعتمدة

### متطلبات الترخيص

عند استخدام هذا المشروع، يجب عليك الالتزام بالمتطلبات التالية:
1. **فتح المصدر البرمجي**: إذا قمت بتعديل كود المشروع أو دمجه مع مشروعك، يجب عليك فتح الكود المصدري الكامل لمشروعك
2. **الحفاظ على الترخيص**: يجب أن يستمر مشروعك في استخدام ترخيص GPL-3.0
3. **بيان حقوق النشر**: يجب عليك الاحتفاظ ببيان حقوق النشر الأصلي وبيان الترخيص
4. **الإشارة الواضحة**: إذا قمت بتعديل الكود، يجب الإشارة بوضوح إلى التعديلات التي أجريتها
5. **ترخيص براءات الاختراع**: يتضمن GPL-3.0 بنود ترخيص براءات اختراع صريحة

### ترخيص مكونات GStreamer
1. هذا المشروع مخصص فقط لأغراض التطوير والاختبار
2. NDI® علامة تجارية مسجلة لشركة NewTek, Inc.
3. يجب الالتزام باتفاقية ترخيص NewTek NDI® SDK عند استخدام هذا المشروع
4. قبل استخدام المشروع في بيئة الإنتاج، تأكد من الحصول على جميع التراخيص والموافقات اللازمة

## الإبلاغ عن المشاكل

إذا واجهت مشكلة، يرجى:
1. التأكد من إعداد متغيرات البيئة بشكل صحيح
2. التأكد من تثبيت إضافات GStreamer بشكل صحيح
3. مراجعة رسائل الخطأ التفصيلية في ملف السجل
4. الإبلاغ عن المشكلة عبر Issues مع إرفاق السجلات ومعلومات البيئة

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-17

---