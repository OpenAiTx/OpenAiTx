# VANB (Video Audio Network Bridge)
# VANB (Video Assistant NDI Bridge)
# VANB (ВАУ!! NB)

VANB — это инструмент для преобразования видео- и аудиопотоков на базе GStreamer, поддерживающий двустороннее преобразование между протоколами NDI и RTMP. Он позволяет отправлять NDI-источники на RTMP-сервер или преобразовывать RTMP-потоки в NDI-вывод.

Этот проект является открытым ПО под лицензией [GPL-3.0](https://www.gnu.org/licenses/gpl-3.0.html).

## Поддерживаемые платформы

В настоящее время основная поддержка реализована для следующих платформ:
- macOS (Apple Silicon)

## Системные требования

### Системные зависимости
- [GStreamer 1.24+](https://gstreamer.freedesktop.org)
- [NewTek NDI SDK](https://www.ndi.tv/sdk/)

### Шаги установки
1. Установите [NewTek NDI SDK](https://www.ndi.tv/sdk/)

2. Установите GStreamer через Homebrew
```bash
brew install --cask --zap gstreamer-development
```

3. Клонируйте репозиторий проекта
```bash
git clone https://github.com/Ahua9527/VANB.git
cd VANB
```

4. Установите зависимости Python
```bash
pip install -r requirements.txt
```

5. Настройте переменные окружения (см. файл .env)
```bash
# Установите путь к NDI SDK
export NDI_SDK_PATH=/Library/NDI SDK for Apple
# Установите путь к плагинам GStreamer
export GST_PLUGIN_PATH=/opt/homebrew/lib/gstreamer-1.0:${NDI_SDK_PATH}/lib/macOS
export DYLD_LIBRARY_PATH=/opt/homebrew/lib:${NDI_SDK_PATH}/lib/macOS
export GI_TYPELIB_PATH=/opt/homebrew/lib/girepository-1.0:/usr/local/lib/girepository-1.0
```

## Использование

### NDI в RTMP (отправитель)
```bash
python vanb_tx.py
```
Программа автоматически просканирует доступные NDI-источники и предложит ввести RTMP-адрес для отправки потока.

### RTMP в NDI (приемник)
```bash
python vanb_rx.py
```
После ввода RTMP-адреса для получения потока программа автоматически создаст новый NDI-вывод.

## Статус разработки

### Реализованные функции
- ✓ Преобразование NDI в RTMP
- ✓ Преобразование RTMP в NDI
- ✓ Автоматическая адаптация частоты кадров и разрешения
- ✓ Синхронизация аудио и видео
- ✓ Автоматическое сканирование NDI-источников
- ✓ Автоматическое именование NDI-выводов
- ✓ Аппаратное кодирование/декодирование VideoToolbox

### Функции в разработке
- ⨯ Поддержка конфигурационных файлов (Profile/config.json)
  - Управление параметрами ввода/вывода через конфигурационный файл
  - Поддержка нескольких пресетов транскодирования
  - Настройка размера буфера и параметров задержки
  - Настройка баланса между качеством и производительностью транскодирования
- ⨯ Многопоточная обработка потоков

## Лицензионное уведомление

⚠️ **Важное уведомление: лицензия и соответствие требованиям**

### Лицензия программного обеспечения

Этот проект распространяется под лицензией [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.html).

Причины выбора лицензии GPL-3.0:
1. В проекте используются несколько GStreamer-плагинов с лицензией GPL:
   - `x264`: видеокодер H.264 (GPL)
   - `x265`: видеокодер HEVC/H.265 (GPL)
   - `faad`: аудиодекодер AAC (GPL)
2. Согласно условиям распространения GPL, ПО с использованием компонентов GPL также должно распространяться под GPL
3. Выбор GPL-3.0 обеспечивает совместимость с лицензиями всех зависимых компонентов

### Лицензионные требования

Используя этот проект, вы должны соблюдать следующие требования:
1. **Открытость кода**: если вы изменили этот проект или интегрировали его в свой проект, вы обязаны опубликовать полный исходный код
2. **Сохранение лицензии**: ваш проект должен продолжать использовать лицензию GPL-3.0
3. **Сохранение авторских прав**: вы должны сохранить оригинальные уведомления об авторских правах и лицензии
4. **Явное указание**: если вы внесли изменения в код, вы должны явно указать, какие изменения были внесены
5. **Патентные права**: GPL-3.0 включает четкие положения о патентных правах

### Лицензии компонентов GStreamer
1. Этот проект предназначен только для разработки и тестирования
2. NDI® является зарегистрированной торговой маркой NewTek, Inc.
3. Использование этого проекта требует соблюдения лицензионного соглашения NewTek NDI® SDK
4. Перед использованием в продакшене убедитесь, что у вас есть все необходимые лицензии и разрешения

## Обратная связь и проблемы

Если возникли проблемы, пожалуйста:
1. Проверьте правильность настройки переменных окружения
2. Убедитесь, что плагины GStreamer установлены корректно
3. Посмотрите подробную информацию об ошибках в журнале
4. Создайте Issue с описанием проблемы, приложив журнал и информацию о среде

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-17

---