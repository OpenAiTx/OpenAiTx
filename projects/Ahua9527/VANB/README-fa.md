# VANB (پل ویدیویی-صوتی شبکه)
# VANB (پل دستیار ویدیویی NDI)
# VANB (وا!! NB)

VANB یک ابزار تبدیل جریان ویدیویی/صوتی مبتنی بر GStreamer است که تبدیل دوطرفه بین پروتکل‌های NDI و RTMP را پشتیبانی می‌کند. این ابزار اجازه می‌دهد منابع NDI را به سرور RTMP ارسال کنید یا جریان RTMP را به خروجی NDI تبدیل نمایید.

این پروژه با مجوز [GPL-3.0](https://www.gnu.org/licenses/gpl-3.0.html) به صورت متن‌باز ارائه شده است.

## پلتفرم‌های پشتیبانی‌شده

در حال حاضر پلتفرم‌های زیر عمدتاً پشتیبانی می‌شوند:
- macOS (Apple Silicon)

## پیش‌نیازهای محیط

### وابستگی‌های سیستمی
- [GStreamer 1.24+](https://gstreamer.freedesktop.org)
- [NewTek NDI SDK](https://www.ndi.tv/sdk/)

### مراحل نصب
1. نصب [NewTek NDI SDK](https://www.ndi.tv/sdk/)

2. نصب GStreamer از طریق Homebrew
```bash
brew install --cask --zap gstreamer-development
```

3. کلون کردن مخزن پروژه
```bash
git clone https://github.com/Ahua9527/VANB.git
cd VANB
```

4. نصب وابستگی‌های Python
```bash
pip install -r requirements.txt
```

5. پیکربندی متغیرهای محیطی (با مراجعه به فایل .env)
```bash
# تنظیم مسیر NDI SDK
export NDI_SDK_PATH=/Library/NDI SDK for Apple
# تنظیم مسیر پلاگین‌های GStreamer
export GST_PLUGIN_PATH=/opt/homebrew/lib/gstreamer-1.0:${NDI_SDK_PATH}/lib/macOS
export DYLD_LIBRARY_PATH=/opt/homebrew/lib:${NDI_SDK_PATH}/lib/macOS
export GI_TYPELIB_PATH=/opt/homebrew/lib/girepository-1.0:/usr/local/lib/girepository-1.0
```

## روش استفاده

### تبدیل NDI به RTMP (فرستنده)
```bash
python vanb_tx.py
```
برنامه به‌طور خودکار منابع NDI موجود را اسکن کرده و آدرس RTMP جهت ارسال را درخواست می‌کند.

### تبدیل RTMP به NDI (گیرنده)
```bash
python vanb_rx.py
```
پس از وارد کردن آدرس جریان RTMP، برنامه به‌طور خودکار یک خروجی جدید NDI ایجاد می‌کند.

## وضعیت توسعه

### قابلیت‌های پیاده‌سازی‌شده
- ✓ تبدیل NDI به RTMP
- ✓ تبدیل RTMP به NDI
- ✓ تطبیق خودکار نرخ فریم و وضوح تصویر
- ✓ همگام‌سازی صوت و تصویر
- ✓ اسکن خودکار منابع NDI
- ✓ نام‌گذاری خودکار خروجی NDI
- ✓ رمزگذاری/رمزگشایی سخت‌افزاری VideoToolbox

### قابلیت‌های در دست توسعه
- ⨯ پشتیبانی از فایل پیکربندی (Profile/config.json)
  - کنترل پارامترهای ورودی و خروجی از طریق فایل پیکربندی
  - پشتیبانی از چندین تنظیمات از پیش تعیین‌شده برای ترنسکدینگ
  - قابلیت تنظیم اندازه بافر و پارامترهای تأخیر
  - پشتیبانی از تنظیم کیفیت و عملکرد ترنسکدینگ
- ⨯ پردازش همزمان چندین جریان

## اطلاعیه مجوز

⚠️ **هشدار مهم: مجوز و تطابق**

### مجوز نرم‌افزاری

این پروژه تحت مجوز [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.html) ارائه شده است.

دلایل انتخاب مجوز GPL-3.0:
1. این پروژه از چندین پلاگین GPL برای GStreamer استفاده می‌کند:
   - `x264`: رمزگذار ویدیویی H.264 (GPL)
   - `x265`: رمزگذار ویدیویی HEVC/H.265 (GPL)
   - `faad`: رمزگشای صوتی AAC (GPL)
2. طبق بند انتقالی GPL، نرم‌افزاری که از اجزای GPL استفاده می‌کند باید تحت مجوز GPL باشد
3. انتخاب GPL-3.0 تضمین‌کننده سازگاری با تمامی مجوزهای اجزای وابسته است

### الزامات مجوز

هنگام استفاده از این پروژه باید الزامات زیر را رعایت کنید:
1. **متن‌باز بودن کد**: اگر کد این پروژه را تغییر داده یا با پروژه خود ادغام می‌کنید، باید کل کد منبع خود را نیز متن‌باز کنید
2. **حفظ مجوز**: پروژه شما باید همچنان از مجوز GPL-3.0 استفاده کند
3. **حفظ اعلامیه کپی‌رایت**: باید اعلامیه کپی‌رایت و مجوز اصلی را حفظ کنید
4. **ذکر واضح تغییرات**: اگر کد را تغییر دادید، باید تغییرات خود را به صورت واضح و آشکار مشخص کنید
5. **مجوز ثبت اختراع**: GPL-3.0 شامل بند صریح مجوز ثبت اختراع است

### مجوز اجزای GStreamer
1. این پروژه فقط برای اهداف توسعه و تست استفاده می‌شود
2. NDI® یک علامت تجاری ثبت‌شده متعلق به NewTek, Inc. است
3. استفاده از این پروژه مستلزم رعایت شرایط مجوز NewTek NDI® SDK می‌باشد
4. قبل از استفاده در محیط تولید، اطمینان حاصل کنید که تمامی مجوزها و مجوزهای لازم را کسب کرده‌اید

## گزارش مشکلات

در صورت بروز مشکل لطفاً:
1. بررسی کنید که متغیرهای محیطی به‌درستی تنظیم شده باشند
2. اطمینان حاصل کنید که پلاگین‌های GStreamer به‌درستی نصب شده باشند
3. خطاهای جزئی‌تر را در فایل لاگ مشاهده کنید
4. مشکل خود را از طریق Issues گزارش داده و لاگ و اطلاعات محیطی را ضمیمه کنید

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-17

---