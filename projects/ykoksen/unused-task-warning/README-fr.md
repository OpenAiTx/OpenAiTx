# unused-task-warning
Lors de l'utilisation de l'injection de dépendances et du modèle async-await, il est possible de se retrouver avec une interface dont une méthode retourne un Task. Si cette méthode d'interface est utilisée dans une méthode synchrone, il est probable qu'elle soit exécutée par erreur en mode fire and forget (ce qui ne déclenchera pas l'avertissement intégré CS4014). Dans ce cas, cet analyseur génère un avertissement.

Les deux peuvent être utilisés en tant qu'extension Visual Studio ou de préférence comme un analyseur de projet disponible via NuGet.

Exemple :

	using System.Threading.Tasks;

	namespace AsyncAwaitProblem
	{
		public interface ICallee
		{
			bool ProblemSolved { get; }
			Task SolveProblemAsync();
		}

		public class Callee : ICallee
		{
			public bool ProblemSolved { get; set; }

			public async Task SolveProblemAsync()
			{
				await Task.Delay(10);
				ProblemSolved = true;
			}
		}
		
		public class Caller
		{
			public bool DoCall()
			{
				ICallee xxx = new Callee();
	
				// Cet analyseur émettra un avertissement à la ligne suivante
				xxx.SolveProblemAsync(); // Ceci est très probablement un fire and forget non désiré. 
	
				return xxx.ProblemSolved; // Retournera false - on s'attendait à true
			}
		}
	}


Notez que cet analyseur vérifie actuellement uniquement les types awaitables connus (ex. types `Task`, `ValueTask` et `ConfiguredTaskAwaitable` (le type retourné lors de l’utilisation de la méthode `ConfigureAwait`)). Si un autre type ['Awaitable'](https://blogs.msdn.microsoft.com/pfxteam/2011/01/13/await-anything/) est retourné, cet analyseur ne donnera pas d’avertissement. Cela pourrait être corrigé dans une future version.

Disponible sur NuGet ici : https://www.nuget.org/packages/Lindhart.Analyser.MissingAwaitWarning/

Disponible sur la marketplace Visual Studio ici : https://marketplace.visualstudio.com/items?itemName=Lindhart.missingAwaitWarning#overview

Pour des informations sur l’utilisation des analyseurs, consultez ici : https://docs.microsoft.com/en-us/visualstudio/code-quality/roslyn-analyzers-overview?view=vs-2019

## Journal des modifications

3.2.0 Ne analyse plus les fichiers de code générés (ex. les fichiers contenant `<auto-generated>` sont désormais ignorés).

3.1.0 Début de la rédaction du journal des modifications. Inclusion des symboles et de la source dans le paquet.

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2026-02-06

---