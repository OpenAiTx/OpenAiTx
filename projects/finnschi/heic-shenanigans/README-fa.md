# ๐ผ๏ธ ุงุจุฒุงุฑูุง ูพุฑุฏุงุฒุด ุชุตูุฑ HEIC

ูุฌููุนูโุง ุงุฒ ุงุจุฒุงุฑูุง ูพุงุชูู ุจุฑุง ูพุฑุฏุงุฒุด ูุงูโูุง HEIC (High Efficiency Image Container) ุจุง ุชูุฑฺฉุฒ ุจุฑ ุงุณุชุฎุฑุงุฌ ูุญุชูุง HDR ู ุชุจุฏู ุจู ูุฑูุช EXR.

## ๐๏ธ ูุฑูุฑ ุงุจุฒุงุฑูุง

### 1. gain_map_extract.py
ุงุณุชุฎุฑุงุฌ ุชูุงู ุงุฌุฒุง ูุงูโูุง HEIC ุดุงูู:
- ุชุตุงูุฑ ูพุงู
- ููุดูโูุง ุงูุฒุงุด HDR (gain map)
- ููุดูโูุง ุนูู
- ูุชุงุฏุชุง ฺฉุงูู (EXIFุ XMPุ ูพุฑููุงูโูุง ICC)

### 2. heic_to_exr.py
ุชุจุฏู ูุงูโูุง HEIC ุจู ูุฑูุช OpenEXR:
- ุชุฑฺฉุจ ุชุตูุฑ ูพุงู ู ููุดู ุงูุฒุงุด ุจู HDR EXR ุจุง ุงุณุชูุงุฏู ุงุฒ ุฑูุด ุงูพู
- ุญูุธ ฺฉุงูู ุฏุงููู ุฏูุงูฺฉ
- ุญูุธ ูุชุงุฏุชุง ุชุง ุญุฏ ุงูฺฉุงู
- ูพุดุชุจุงู ุงุฒ ูพุฑุฏุงุฒุด ุฏุณุชูโุง
### 3. merge_to_exr.sh
ุงุณฺฉุฑูพุช ุดู ุจุฑุง ูพุฑุฏุงุฒุด ุฏุณุชูโุง:
- ุฎูุฏฺฉุงุฑุณุงุฒ ุชุจุฏู HEIC ุจู EXR
- ูุฏุฑุช ฺูุฏู ูุงู
- ุงุฑุงุฆู ุจุงุฒุฎูุฑุฏ ูพุดุฑูุช
- ุญูุธ ุณุงุฎุชุงุฑ ูพูุดูโูุง

## ๐ง ูุตุจ

### ูพุดโูุงุฒูุง
- ูพุงุชูู 3.8 ุง ุจุงูุงุชุฑ
- pip (ูุฏุฑ ุจุณุชู ูพุงุชูู)
- Git (ุจุฑุง ฺฉููู ฺฉุฑุฏู ูุฎุฒู)

### macOS
```bash
# ุงฺฏุฑ Homebrew ูุตุจ ูุณุช ุขู ุฑุง ูุตุจ ฺฉูุฏ
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# ูุตุจ ูพุงุชูู ู ูุงุจุณุชฺฏโูุง OpenEXR
brew install python3 openexr

# ูุฎุฒู ุฑุง ฺฉููู ฺฉูุฏ
git clone https://github.com/finnschi/heic-shenanigans.git
cd heic-shenanigans

# ุงุฌุงุฏ ู ูุนุงูโุณุงุฒ ูุญุท ูุฌุงุฒ
python3 -m venv venv
source venv/bin/activate

# ูุตุจ ูุงุจุณุชฺฏโูุง ูพุงุชูู
pip install -r requirements.txt
```

### ูููฺฉุณ (ุงูุจููุชู/ุฏุจุงู)
```bash
# ูุตุจ ูุงุจุณุชฺฏโูุง ุณุณุชู
sudo apt-get update
sudo apt-get install python3 python3-pip python3-venv openexr libopenexr-dev

# ฺฉููู ฺฉุฑุฏู ูุฎุฒู
git clone https://github.com/finnschi/heic-shenanigans.git
cd heic-shenanigans

# ุงุฌุงุฏ ู ูุนุงูโุณุงุฒ ูุญุท ูุฌุงุฒ
python3 -m venv venv
source venv/bin/activate

# ูุตุจ ูุงุจุณุชฺฏโูุง ูพุงุชูู
pip install -r requirements.txt
```

### ููุฏูุฒ
```powershell
# ูุตุจ ูพุงุชูู ุงุฒ https://www.python.org/downloads/
# ูุตุจ ฺฏุช ุงุฒ https://git-scm.com/download/win

# ฺฉููู ฺฉุฑุฏู ูุฎุฒู
git clone https://github.com/finnschi/heic-shenanigans.git
cd heic-shenanigans

# ุงุฌุงุฏ ู ูุนุงูโุณุงุฒ ูุญุท ูุฌุงุฒ
python -m venv venv
.\venv\Scripts\activate

# ูุตุจ ูุงุจุณุชฺฏโูุง ูพุงุชูู
pip install -r requirements.txt
```

## ๐ ูุงุฒููุฏโูุง
ุชูุงู ุจุณุชูโูุง ููุฑุฏ ูุงุฒ ูพุงุชูู ุฏุฑ ูุงู requirements.txt ููุฑุณุช ุดุฏูโุงูุฏ:
- Pillow: ฺฉุชุงุจุฎุงูู ูพุฑุฏุงุฒุด ุชุตูุฑ
- pillow-heif: ูพุดุชุจุงู ุงุฒ ูุงูโูุง HEIC
- numpy: ุนููุงุช ุนุฏุฏ
- defusedxml: ุชุฌุฒู ุงูู XML

ูุงุจุณุชฺฏโูุง ุณุณุชู (ูุตุจ ุงุฒ ุทุฑู ูุฏุฑ ุจุณุชู):
- OpenEXR ู OpenImageIO (oiiotool) ุจุฑุง ูุฏุฑุช ูุงูโูุง EXR

## ๐ป ูุญูู ุงุณุชูุงุฏู
### ุงุณุชุฎุฑุงุฌ ููุดู ุจูุฑู
```bash
python gain_map_extract.py input.heic [--output-dir OUTPUT_DIR]
```

### ุชุจุฏู HEIC ุจู EXR
```bash
python heic_to_exr.py input.heic [--output-dir OUTPUT_DIR]
```

### ูพุฑุฏุงุฒุด ุฏุณุชูโุง
```bash
./merge_to_exr.sh input_directory output_directory
```

## ๐ ูุงูโูุง ุฎุฑูุฌ

### ุฎุฑูุฌโูุง gain_map_extract.py:
- ุชุตูุฑ ูพุงู: `{filename}_base.tiff`
- ููุดูโูุง ุจูุฑู: `{filename}_gain_map_{id}.tiff`
- ููุดูโูุง ุนูู: `{filename}_depth_{index}.tiff`
- ูุฑุงุฏุงุฏู: `{filename}_metadata.json`

### ุฎุฑูุฌโูุง heic_to_exr.py:
- ูุงู HDR EXR: `{filename}.exr`

## ๐ ุงุณุชูุงุฏู ูพุดุฑูุชู

### ูุฏุฑุช ูุฑุงุฏุงุฏู
- ุฏุงุฏูโูุง ุจุงูุฑ ุจู ุตูุฑุช base64 ฺฉุฏฺฏุฐุงุฑ ูโุดููุฏ
- ูพุฑููุงูโูุง ICC ุญูุธ ูโุดููุฏ
- ุฏุงุฏูโูุง EXIF ุชุง ุญุฏ ุงูฺฉุงู ูฺฏูุฏุงุฑ ูโุดููุฏ

### ูพุฑุฏุงุฒุด HDR
- ููุดูโูุง ฺฏู ุจู ุฏุฑุณุช ููุงุณโุจูุฏ ูโุดููุฏ
- ูุถุง ุฑูฺฏ ุฎุท ุญูุธ ูโุดูุฏ
- ุฏุงููู ุฏูุงูฺฉ ฺฉุงูู ุฏุฑ ุฎุฑูุฌ EXR ุญูุธ ูโุดูุฏ

## โ๏ธ ูุญุฏูุฏุชโูุง ุดูุงุฎุชู ุดุฏู
- ุจุฑุฎ ูุงุฑุงูุชโูุง HEIC ููฺฉู ุงุณุช ุจู ุทูุฑ ฺฉุงูู ูพุดุชุจุงู ูุดููุฏ
- ุงุณุชุฎุฑุงุฌ ููุดู ุนูู ูุญุฏูุฏ ุจู ุฏุณุชฺฏุงูโูุง ูพุดุชุจุงูโุดุฏู ุงุณุช
- ูพุดุชุจุงู OpenEXR ุฏุฑ ููุฏูุฒ ููฺฉู ุงุณุช ุจู ูพฺฉุฑุจูุฏ ุงุถุงู ูุงุฒ ุฏุงุดุชู ุจุงุดุฏ
## ๐ค ูุดุงุฑฺฉุช
ูุดุงุฑฺฉุชโูุง ุฎูุดโุขูุฏูุฏ! ูุทูุงู ุฏุฑ ุตูุฑุช ุชูุงู ฺฉ Pull Request ุงุฑุณุงู ฺฉูุฏ.



---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-13

---