# mimotion
![刷步数](https://github.com/xunichanghuan/mimotion-run/actions/workflows/run.yml/badge.svg)
[![GitHub forks](https://img.shields.io/github/forks/xunichanghuan/mimotion-run?style=flat-square)](https://github.com/xunichanghuan/mimotion-run/network)
[![GitHub stars](https://img.shields.io/github/stars/xunichanghuan/mimotion-run?style=flat-square)](https://github.com/xunichanghuan/mimotion-run/stargazers)
[![GitHub issues](https://img.shields.io/github/issues/xunichanghuan/mimotion-run?style=flat-square)](https://github.com/xunichanghuan/mimotion-run/issues)

# افزایش خودکار تعداد گام‌ها در شیائومی می موشن

> افزایش خودکار تعداد گام‌ها در شیائومی می موشن

## راهنمای استقرار Github Actions

### ۱. این مخزن را Fork کنید

### ۲. تنظیم حساب کاربری و رمز عبور
# اضافه شده در تاریخ 2023/02/24
یک متغیر به نام **CONFIG** اضافه کنید: Settings-->Secrets-->New secret ، برای پیکربندی چند حساب کاربری از قالب json زیر استفاده کنید، پشتیبانی از ایمیل و شماره تلفن:
```
{
  "TG_BOT_TOKEN": "توکن تلگرام TG_BOT_TOKEN، اگر ندارید خالی بگذارید",
  "TG_USER_ID": "شناسه کاربری تلگرام TG_USER_ID، اگر ندارید خالی بگذارید",
  "SKEY": "skey سرویس Kootui، اگر ندارید خالی بگذارید",
  "SCKEY": "کلید server酱، اگر ندارید خالی بگذارید",
  "POSITION": "آیا ارسال به ویچت سازمانی فعال باشد یا نه، اگر ندارید خالی بگذارید",
  "CORPID": "شناسه شرکت، پس از ورود به ویچت سازمانی، در بخش شرکت من -> اطلاعات شرکت قابل مشاهده است، اگر ندارید خالی بگذارید",
  "CORPSECRET": "Secret هر برنامه اختصاصی ویچت سازمانی، اگر ندارید خالی بگذارید",
  "AGENTID": "شناسه برنامه اختصاصی ویچت سازمانی خود را وارد کنید، بدون کوتیشن، یک عدد صحیح؛ اگر ندارید خالی بگذارید",
  "TOUSER": "شناسه اعضایی که پیام دریافت می‌کنند (برای چند نفر با ”&#166;” جدا کنید، حداکثر ۱۰۰۰ نفر). اگر ”@all” باشد، پیام به همه اعضا ارسال می‌شود. اگر ندارید خالی بگذارید",
  "TOPARTY": "شناسه بخش‌هایی که پیام دریافت می‌کنند (برای چند نفر با ”&#166;” جدا کنید، حداکثر ۱۰۰ بخش). اگر touser ”@all” است اینجا هم ”@all” وارد کنید. اگر ندارید خالی بگذارید",
  "TOTAG": "شناسه تگ‌هایی که پیام دریافت می‌کنند (برای چند نفر با ”&#166;” جدا کنید، حداکثر ۱۰۰ تگ). اگر touser ”@all” است اینجا هم ”@all” وارد کنید. اگر ندارید خالی بگذارید",
  "OPEN_GET_WEATHER": "فعال‌سازی کاهش گام بر اساس وضعیت آب‌وهوا، اگر ندارید خالی بگذارید",
  "AREA": "تنظیم منطقه مورد نظر برای دریافت آب‌وهوا (اگر گزینه بالا فعال باشد الزامی است) مانند: تهران، اگر ندارید خالی بگذارید",
  "QWEATHER": "کلید خصوصی سرویس HeWeather را اینجا وارد کنید، آدرس درخواست: https://console.qweather.com/#/apps، اگر ندارید خالی بگذارید",
  "MIMOTION": [
    {
      "max_step": "20000",
      "min_step": "10000",
      "password": "Sitoi",
      "user": "18888xxxxxx"
    },
    {
      "max_step": "حداکثر گام برای چند حساب کاربری، طبق بالا وارد کنید",
      "min_step": "حداقل گام برای چند حساب کاربری، طبق بالا وارد کنید",
      "password": "رمز عبور برای چند حساب کاربری، طبق بالا وارد کنید",
      "user": "شماره موبایل برای چند حساب کاربری، طبق بالا وارد کنید"
    }
  ]
}
```
> یک متغیر به نام **PAT** اضافه کنید: Settings-->Secrets-->New secret

| Secrets |  قالب  |
| -------- | ----- |
| PAT |   مقدار **PAT** باید درخواست شود، مقدار آن توکن گیت‌هاب است، آموزش کامل: https://www.jianshu.com/p/bb82b3ad1d11 ، باید دسترسی repo و workflow داشته باشد، این مورد اجباری است تا از خطاهای مربوط به git push جلوگیری شود. |

**نمونه‌ای از CONFIG**
```
{
  "TG_BOT_TOKEN": "",
  "TG_USER_ID": "",
  "SKEY": "",
  "SCKEY": "",
  "POSITION": "",
  "CORPID": "",
  "CORPSECRET": "",
  "AGENTID": "",
  "TOUSER": "",
  "TOPARTY": "",
  "TOTAG": "",
  "OPEN_GET_WEATHER": "",
  "AREA": "",
  "QWEATHER": "",
  "MIMOTION": [
    {
      "max_step": "20000",
      "min_step": "10000",
      "password": "Sitoi",
      "user": "18888xxxxxx"
    },
    {
      "max_step": "حداکثر گام برای چند حساب کاربری، طبق بالا وارد کنید",
      "min_step": "حداقل گام برای چند حساب کاربری، طبق بالا وارد کنید",
      "password": "رمز عبور برای چند حساب کاربری، طبق بالا وارد کنید",
      "user": "شماره موبایل برای چند حساب کاربری، طبق بالا وارد کنید"
    }
  ]
}
```

### ۳. شخصی‌سازی زمان شروع

فایل **random_cron.sh** را ویرایش کنید
زمان شرط **if** را به زمان UTC تغییر دهید، یعنی **ساعت پکن منهای ۸**، مثلاً ساعت ۸ صبح به وقت پکن برابر است با ساعت ۰ به وقت UTC، زمان دلخواهتان منهای ۸ را وارد کنید تا به زمان UTC برسید.



## نکات مهم

1. هر روز هفت بار اجرا می‌شود و زمان دقیقه به صورت تصادفی تعیین می‌شود (توسط random_cron.sh کنترل می‌شود)

2. تعداد حساب‌ها و رمزهای عبور حتماً باید با هم مطابقت داشته باشند، در غیر این صورت کار نخواهد کرد!!!

3. زمان شروع باید به وقت UTC باشد!

4. آدرس ثبت‌نام server酱 [اینجا کلیک کنید](https://sct.ftqq.com/)

5. اگر تعداد گام‌ها در Alipay به‌روز نمی‌شود، به می موشن شیائومی -> تنظیمات -> حساب -> خروج از حساب -> پاکسازی داده‌ها رفته و دوباره وارد شوید و اتصال به سرویس‌های ثالث را مجدد انجام دهید.

6. می موشن شیائومی تنها تعداد گام‌ها را برای حساب‌های متصل به‌روزرسانی می‌کند!!!!!!

7. لطفاً هنگام استفاده، مخزن [شاخه اصلی](https://github.com/xunichanghuan/mimotion-run/) را Fork کنید تا از بروز خطاهای غیرضروری جلوگیری شود.

8. توجه داشته باشید که حساب کاربری شما [حساب شیائومی] نیست بلکه حساب [می موشن شیائومی] است.

## تعداد ستاره‌های تاریخی 

[![Stargazers over time](https://starchart.cc/xunichanghuan/mimotion-run.svg)](https://starchart.cc/xunichanghuan/mimotion-run)

---

[Powered By OpenAiTx](https://github.com/OpenAiTx/OpenAiTx) - 2025-06-07

---