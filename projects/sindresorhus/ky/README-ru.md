<div align="center">
	<br>
	<div>
		<img width="600" height="600" src="https://raw.githubusercontent.com/sindresorhus/ky/main/media/logo.svg" alt="ky">
	</div>
	<br>
	<br>
	<br>
</div>

> Ky ‚Äî —ç—Ç–æ –º–∏–Ω–∏–∞—Ç—é—Ä–Ω—ã–π –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch)

[![Coverage Status](https://codecov.io/gh/sindresorhus/ky/branch/main/graph/badge.svg)](https://codecov.io/gh/sindresorhus/ky)
[![](https://badgen.net/bundlephobia/minzip/ky)](https://bundlephobia.com/result?p=ky)

Ky –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ [—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã](#browser-support), Node.js, Bun –∏ Deno.

–≠—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –Ω–µ–±–æ–ª—å—à–æ–π –ø–∞–∫–µ—Ç –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–±—ã—á–Ω—ã–º `fetch`

- –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π API
- –°–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ (`ky.post()`)
- –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∫–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç 2xx, –∫–∞–∫ –æ—à–∏–±–∫–∏ (–ø–æ—Å–ª–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤)
- –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –Ω–µ—É–¥–∞—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –û–ø—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
- –û–ø—Ü–∏—è –ø—Ä–µ—Ñ–∏–∫—Å–∞ URL
- –ò–Ω—Å—Ç–∞–Ω—Å—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –•—É–∫–∏
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ TypeScript (–Ω–∞–ø—Ä–∏–º–µ—Ä, `.json()` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∂–µ–Ω–µ—Ä–∏–∫–∏ –∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `unknown`, –∞ –Ω–µ `any`)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```sh
npm install ky
```

###### CDN

- [jsdelivr](https://cdn.jsdelivr.net/npm/ky/+esm)
- [unpkg](https://unpkg.com/ky)
- [esm.sh](https://esm.sh/ky)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```js
import ky from 'ky';

const json = await ky.post('https://example.com', {json: {foo: true}}).json();

console.log(json);
//=> {data: 'ü¶Ñ'}
```

–° –æ–±—ã—á–Ω—ã–º `fetch` —ç—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ –±—ã —Ç–∞–∫:

```js
class HTTPError extends Error {}

const response = await fetch('https://example.com', {
	method: 'POST',
	body: JSON.stringify({foo: true}),
	headers: {
		'content-type': 'application/json'
	}
});

if (!response.ok) {
	throw new HTTPError(`Fetch error: ${response.statusText}`);
}

const json = await response.json();

console.log(json);
//=> {data: 'ü¶Ñ'}
```

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ [Deno](https://github.com/denoland/deno), –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ Ky –ø–æ URL. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É—è CDN:

```js
import ky from 'https://esm.sh/ky';
```

## API

### ky(input, options?)

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `input` –∏ `options` —Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫ —É [`fetch`](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch), –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ (—Å–º. –Ω–∏–∂–µ).

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç [–æ–±—ä–µ–∫—Ç `Response`](https://developer.mozilla.org/en-US/docs/Web/API/Response) —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ [–º–µ—Ç–æ–¥–∞–º–∏ `Body`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#body). –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—ã –º–æ–∂–µ—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–∑—ã–≤–∞—Ç—å `ky.get(input).json()` –Ω–∞–ø—Ä—è–º—É—é, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å —Å–Ω–∞—á–∞–ª–∞ `Response`. –ü—Ä–∏ —Ç–∞–∫–æ–º –≤—ã–∑–æ–≤–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Accept` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ç–µ–ª–∞. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –º–µ—Ç–æ–¥–æ–≤ `Body` –≤ `window.Fetch`, —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –≤—ã–±—Ä–æ—Å—è—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `HTTPError`, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –Ω–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `200...299`. –¢–∞–∫–∂–µ `.json()` –≤–µ—Ä–Ω–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É, –µ—Å–ª–∏ —Ç–µ–ª–æ –ø—É—Å—Ç–æ–µ –∏–ª–∏ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ `204`, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É —Ä–∞–∑–±–æ—Ä–∞ –∏–∑-–∑–∞ –ø—É—Å—Ç–æ–≥–æ —Ç–µ–ª–∞.

```js
import ky from 'ky';

const user = await ky('/api/user').json();

console.log(user);
```

‚å®Ô∏è **TypeScript:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π [—Ç–∏–ø–æ–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä](https://www.typescriptlang.org/docs/handbook/2/generics.html), –∫–æ—Ç–æ—Ä—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–µ–Ω [`unknown`](https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown) –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø –º–µ—Ç–æ–¥–∞ `.json()`.

```ts
import ky from 'ky';

// user1 –∏–º–µ–µ—Ç —Ç–∏–ø unknown
const user1 = await ky('/api/users/1').json();
// user2 –∏–º–µ–µ—Ç —Ç–∏–ø User
const user2 = await ky<User>('/api/users/2').json();
// user3 –∏–º–µ–µ—Ç —Ç–∏–ø User
const user3 = await ky('/api/users/3').json<User>();

console.log([user1, user2, user3]);
```

### ky.get(input, options?)
### ky.post(input, options?)
### ky.put(input, options?)
### ky.patch(input, options?)
### ky.head(input, options?)
### ky.delete(input, options?)

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `options.method` –≤ –∏–º—è –º–µ—Ç–æ–¥–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å.

‚å®Ô∏è **TypeScript:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ç–∏–ø–æ–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON-–æ—Ç–≤–µ—Ç–∞–º–∏ (—Å–º. [`ky()`](#kyinput-options)).

#### input

–¢–∏–ø: `string` | `URL` | `Request`

–¢–æ –∂–µ, —á—Ç–æ –∏ [`fetch` input](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request#input).

–ï—Å–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ `input` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä [`Request`](https://developer.mozilla.org/en-US/docs/Web/API/Request), –ª—é–±—ã–µ –æ–ø—Ü–∏–∏, –∏–∑–º–µ–Ω—è—é—â–∏–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `prefixUrl`), –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã.

#### options

–¢–∏–ø: `object`

–¢–æ –∂–µ, —á—Ç–æ –∏ [–æ–ø—Ü–∏–∏ `fetch`](https://developer.mozilla.org/en-US/docs/Web/API/fetch#options), –ø–ª—é—Å —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:

##### method

–¢–∏–ø: `string`\
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `'get'`

HTTP-–º–µ—Ç–æ–¥, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.

–í–Ω—É—Ç—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã (`GET`, `POST`, `PUT`, `PATCH`, `HEAD` –∏ `DELETE`) –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑-–∑–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É.

##### json

–¢–∏–ø: `object` –∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏–Ω–∏–º–∞–µ–º–æ–µ [`JSON.stringify()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify)

–£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ç–ø—Ä–∞–≤–∫–∏ JSON. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –≤–º–µ—Å—Ç–æ –æ–ø—Ü–∏–∏ `body`. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±–æ–π –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ `JSON.stringify()` –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ç–µ–ª–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º.

##### searchParams

–¢–∏–ø: `string | object<string, string | number | boolean> | Array<Array<string | number | boolean>> | URLSearchParams`\
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `''`

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã –≤ URL –∑–∞–ø—Ä–æ—Å–∞. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º URL.

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ [`URLSearchParams()`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/URLSearchParams).

##### prefixUrl

–¢–∏–ø: `string | URL`

–ü—Ä–µ—Ñ–∏–∫—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ URL `input` –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π –≤–∞–ª–∏–¥–Ω—ã–π URL, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –∏–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π. –ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–π —Å–ª—ç—à `/` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ —Å `input`. –î–µ–π—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `input` ‚Äî —Å—Ç—Ä–æ–∫–∞. –ê—Ä–≥—É–º–µ–Ω—Ç `input` –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å–æ —Å–ª—ç—à–∞ `/` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–π –æ–ø—Ü–∏–∏.

–ü–æ–ª–µ–∑–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å [`ky.extend()`](#kyextenddefaultoptions) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ Ky.

```js
import ky from 'ky';

// –ù–∞ https://example.com

const response = await ky('unicorn', {prefixUrl: '/api'});
//=> 'https://example.com/api/unicorn'

const response2 = await ky('unicorn', {prefixUrl: 'https://cats.com'});
//=> 'https://cats.com/unicorn'
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
 - –ü–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è `prefixUrl` –∏ `input` —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ [–±–∞–∑–æ–≤–æ–≥–æ URL](https://developer.mozilla.org/en-US/docs/Web/API/Node/baseURI) —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å).
 - –ù–∞—á–∞–ª—å–Ω—ã–µ —Å–ª—ç—à–∏ –≤ `input` –∑–∞–ø—Ä–µ—â–µ–Ω—ã –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–π –æ–ø—Ü–∏–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø—É—Ç–∞–Ω–∏—Ü—ã –≤ —Ç–æ–º, –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è URL `input`, —É—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ `input` –Ω–µ –±—É–¥–µ—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è URL, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `prefixUrl`, —á—Ç–æ –∏–∑–º–µ–Ω—è–µ—Ç —Å–º—ã—Å–ª –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–ª—ç—à–∞.

##### retry

–¢–∏–ø: `object | number`\
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- `limit`: `2`
- `methods`: `get` `put` `head` `delete` `options` `trace`
- `statusCodes`: [`408`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/408) [`413`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413) [`429`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429) [`500`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500) [`502`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/502) [`503`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503) [`504`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504)
- `afterStatusCodes`: [`413`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413), [`429`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429), [`503`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503)
- `maxRetryAfter`: `undefined`
- `backoffLimit`: `undefined`
- `delay`: `attemptCount => 0.3 * (2 ** (attemptCount - 1)) * 1000`
–û–±—ä–µ–∫—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –ø–æ–ª—è `limit`, `methods`, `statusCodes`, `afterStatusCodes` –∏ `maxRetryAfter` –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è, —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤, —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After), –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After).

–ï—Å–ª–∏ `retry` ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ, –æ–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∫–∞–∫ `limit`, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è.

–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç HTTP-—Å—Ç–∞—Ç—É—Å, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ `afterStatusCodes`, Ky –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –¥–æ –¥–∞—Ç—ã, —Ç–∞–π–º–∞—É—Ç–∞ –∏–ª–∏ –º–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After), –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å. –ï—Å–ª–∏ `Retry-After` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ [`RateLimit-Reset`](https://www.ietf.org/archive/id/draft-polli-ratelimit-headers-05.html#section-3.3) –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞. –ï—Å–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–ø–∏—Å–∫–µ, –∑–∞–≥–æ–ª–æ–≤–æ–∫ [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) –±—É–¥–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω.

–ï—Å–ª–∏ `maxRetryAfter` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `undefined`, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ `options.timeout`. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) –±–æ–ª—å—à–µ, —á–µ–º `maxRetryAfter`, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ `maxRetryAfter`.

–ü–∞—Ä–∞–º–µ—Ç—Ä `backoffLimit` ‚Äî —ç—Ç–æ –≤–µ—Ä—Ö–Ω–∏–π –ø—Ä–µ–¥–µ–ª –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö.
–ß—Ç–æ–±—ã –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `backoffLimit` –≤ 1000.
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–¥–µ—Ä–∂–∫–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ `0.3 * (2 ** (attemptCount - 1)) * 1000`. –ó–∞–¥–µ—Ä–∂–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.

–û–ø—Ü–∏—è `delay` –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–∞ —Ä–∞—Å—á—ë—Ç–∞ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏. –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî –Ω–æ–º–µ—Ä –ø–æ–ø—ã—Ç–∫–∏, –Ω–∞—á–∏–Ω–∞—è —Å `1`.

–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ [—Ç–∞–π–º–∞—É—Ç–∞](#timeout).

```js
import ky from 'ky';

const json = await ky('https://example.com', {
	retry: {
		limit: 10,
		methods: ['get'],
		statusCodes: [413],
		backoffLimit: 3000
	}
}).json();
```

##### timeout

–¢–∏–ø: `number | false`\
–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `10000`

–¢–∞–π–º–∞—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞, –≤–∫–ª—é—á–∞—è –≤—Å–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏. –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ 2147483647.
–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ `false`, —Ç–∞–π–º–∞—É—Ç–∞ –Ω–µ –±—É–¥–µ—Ç.

##### hooks

–¢–∏–ø: `object<string, Function[]>`\
–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `{beforeRequest: [], beforeRetry: [], afterResponse: []}`

–•—É–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞. –§—É–Ω–∫—Ü–∏–∏-—Ö—É–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.

###### hooks.beforeRequest

–¢–∏–ø: `Function[]`\
–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `[]`

–≠—Ç–æ—Ç —Ö—É–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ –µ–≥–æ –æ—Ç–ø—Ä–∞–≤–∫–æ–π. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Ky –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∑–∞–ø—Ä–æ—Å. –§—É–Ω–∫—Ü–∏—è-—Ö—É–∫ –ø–æ–ª—É—á–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ `request` –∏ `options`. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å `request.headers`.

–•—É–∫ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –æ–±—ä–µ–∫—Ç [`Request`](https://developer.mozilla.org/en-US/docs/Web/API/Request) –¥–ª—è –∑–∞–º–µ–Ω—ã –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –æ–±—ä–µ–∫—Ç [`Response`](https://developer.mozilla.org/en-US/docs/Web/API/Response), —á—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–±–µ–∂–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞, –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫—ç—à–∞ –∏ —Ç. –¥. **–í–∞–∂–Ω–æ:** –µ—Å–ª–∏ –≤—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –æ—Ç–≤–µ—Ç–∞ –∏–∑ —ç—Ç–æ–≥–æ —Ö—É–∫–∞, –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ö—É–∫–∏ `beforeRequest` –±—É–¥—É—Ç –ø—Ä–æ–ø—É—â–µ–Ω—ã, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏—Ö —Ç–æ–ª—å–∫–æ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ö—É–∫–∞.

```js
import ky from 'ky';

const api = ky.extend({
	hooks: {
		beforeRequest: [
			request => {
				request.headers.set('X-Requested-With', 'ky');
			}
		]
	}
});

const response = await api.get('https://example.com/api/users');
```

###### hooks.beforeRetry

–¢–∏–ø: `Function[]`\
–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `[]`

–≠—Ç–æ—Ç —Ö—É–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Ky –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∑–∞–ø—Ä–æ—Å. –§—É–Ω–∫—Ü–∏—è-—Ö—É–∫ –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –∏ –æ–ø—Ü–∏—è–º–∏, —ç–∫–∑–µ–º–ø–ª—è—Ä –æ—à–∏–±–∫–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å `request.headers`.

–ï—Å–ª–∏ –Ω–∞ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç, –æ—à–∏–±–∫–∞ –±—É–¥–µ—Ç —Ç–∏–ø–∞ `HTTPError`, –∏ –æ–±—ä–µ–∫—Ç `Response` –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ `error.response`. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏, –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –æ—Ç–≤–µ—Ç–∞ –Ω–µ –±—ã–ª–æ –ø–æ–ª—É—á–µ–Ω–æ. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∞ –Ω–µ –±—É–¥–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º `HTTPError`.

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—É—é –ø–æ–ø—ã—Ç–∫—É –∑–∞–ø—Ä–æ—Å–∞ –≤ Ky, –≤—ã–±—Ä–æ—Å–∏–≤ –æ—à–∏–±–∫—É. Ky –Ω–µ –±—É–¥–µ—Ç –µ—ë –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ –æ—à–∏–±–∫–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–∞ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä—É –∑–∞–ø—Ä–æ—Å–∞. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ `beforeRetry` –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—ã–∑–≤–∞–Ω—ã –Ω–µ –±—É–¥—É—Ç. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –≤—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å —Å–∏–º–≤–æ–ª [`ky.stop`](#kystop), —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –±–µ–∑ –ø—Ä–æ–±—Ä–æ—Å–∞ –æ—à–∏–±–∫–∏ (–∏–º–µ–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, —Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ `ky.stop`).

```js
import ky from 'ky';

const response = await ky('https://example.com', {
	hooks: {
		beforeRetry: [
			async ({request, options, error, retryCount}) => {
				const token = await ky('https://example.com/refresh-token');
				request.headers.set('Authorization', `token ${token}`);
			}
		]
	}
});
```

###### hooks.beforeError

–¢–∏–ø: `Function[]`\
–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `[]`

–≠—Ç–æ—Ç —Ö—É–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç `HTTPError` –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ–Ω –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω. –§—É–Ω–∫—Ü–∏—è-—Ö—É–∫ –ø–æ–ª—É—á–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –æ–±—ä–µ–∫—Ç `HTTPError` –∏ –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä `HTTPError`.

```js
import ky from 'ky';

await ky('https://example.com', {
	hooks: {
		beforeError: [
			error => {
				const {response} = error;
				if (response && response.body) {
					error.name = 'GitHubError';
					error.message = `${response.body.message} (${response.status})`;
				}

				return error;
			}
		]
	}
});
```

###### hooks.afterResponse

–¢–∏–ø: `Function[]`\
–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `[]`

–≠—Ç–æ—Ç —Ö—É–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –∏–∑–º–µ–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç. –§—É–Ω–∫—Ü–∏—è-—Ö—É–∫ –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –æ–ø—Ü–∏–∏ –∏ –∫–ª–æ–Ω –æ—Ç–≤–µ—Ç–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏-—Ö—É–∫–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ Ky –∫–∞–∫ –æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞, –µ—Å–ª–∏ –æ–Ω–æ —è–≤–ª—è–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º [`Response`](https://developer.mozilla.org/en-US/docs/Web/API/Response).

```js
import ky from 'ky';

const response = await ky('https://example.com', {
	hooks: {
		afterResponse: [
			(_request, _options, response) => {
				// –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å —Å –æ—Ç–≤–µ—Ç–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.
				log(response);

				// –ò–ª–∏ –≤–µ—Ä–Ω—É—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä `Response`, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –æ—Ç–≤–µ—Ç.
				return new Response('A different response', {status: 200});
			},

			// –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—É—é –ø–æ–ø—ã—Ç–∫—É —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º –ø—Ä–∏ –æ—à–∏–±–∫–µ 403
			async (request, options, response) => {
				if (response.status === 403) {
					// –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
					const token = await ky('https://example.com/token').text();

					// –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É —Å —Ç–æ–∫–µ–Ω–æ–º
					request.headers.set('Authorization', `token ${token}`);

					return ky(request);
				}
			}
		]
	}
});
```

##### throwHttpErrors

–¢–∏–ø: `boolean`\
–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`

–í—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å `HTTPError`, –µ—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ç—É—Å-–∫–æ–¥, –æ—Ç–ª–∏—á–Ω—ã–π –æ—Ç 2xx. –ß—Ç–æ–±—ã —Ç–∞–∫–∂–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∑–∞ –Ω–∏–º–∏, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä [`redirect`](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters) –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `'manual'`.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ `false` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–∞, –µ—Å–ª–∏ –≤—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–∞ –∏ –æ–∂–∏–¥–∞–µ—Ç–µ –æ—à–∏–±–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ `false`, –æ—à–∏–±–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Å—á–∏—Ç–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—ã –Ω–µ –±—É–¥—É—Ç.

##### onDownloadProgress

–¢–∏–ø: `Function`

–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏.

–§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
- `progress` ‚Äî –æ–±—ä–µ–∫—Ç —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:
- - `percent` ‚Äî —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 1, –æ—Ç—Ä–∞–∂–∞—é—â–µ–µ –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- - `transferredBytes` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.
- - `totalBytes` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏. –≠—Ç–æ –æ—Ü–µ–Ω–∫–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å 0, –µ—Å–ª–∏ –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –Ω–µ–ª—å–∑—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å.
- `chunk` ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä `Uint8Array`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ –æ–Ω –ø—É—Å—Ç–æ–π.

```js
import ky from 'ky';

const response = await ky('https://example.com', {
	onDownloadProgress: (progress, chunk) => {
		// –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
		// `0% - 0 –∏–∑ 1271 –±–∞–π—Ç`
		// `100% - 1271 –∏–∑ 1271 –±–∞–π—Ç`
		console.log(`${progress.percent * 100}% - ${progress.transferredBytes} –∏–∑ ${progress.totalBytes} –±–∞–π—Ç`);
	}
});
```

##### onUploadProgress

–¢–∏–ø: `Function`

–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏.

–§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
- `progress` ‚Äî –æ–±—ä–µ–∫—Ç —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:
- - `percent` ‚Äî —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 1, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- - `transferredBytes` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.
- - `totalBytes` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å. –≠—Ç–æ –æ—Ü–µ–Ω–∫–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–≤–Ω–æ 0, –µ—Å–ª–∏ –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω.
- `chunk` ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä `Uint8Array`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π.

```js
import ky from 'ky';

const response = await ky.post('https://example.com/upload', {
	body: largeFile,
	onUploadProgress: (progress, chunk) => {
		// –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
		// `0% - 0 –∏–∑ 1271 –±–∞–π—Ç`
		// `100% - 1271 –∏–∑ 1271 –±–∞–π—Ç`
		console.log(`${progress.percent * 100}% - ${progress.transferredBytes} –∏–∑ ${progress.totalBytes} –±–∞–π—Ç`);
	}
});
```

##### parseJson

–¢–∏–ø: `Function`\
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `JSON.parse()`

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON.

–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
1. –†–∞–∑–±–æ—Ä JSON —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ [`bourne`](https://github.com/hapijs/bourne) –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞.
2. –†–∞–∑–±–æ—Ä JSON —Å –ø–æ–º–æ—â—å—é [`reviver`-–æ–ø—Ü–∏–∏ –¥–ª—è `JSON.parse()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse).

```js
import ky from 'ky';
import bourne from '@hapijs/bourne';

const json = await ky('https://example.com', {
	parseJson: text => bourne(text)
}).json();
```

##### stringifyJson

–¢–∏–ø: `Function`\
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `JSON.stringify()`

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ JSON.

–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
1. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ JSON —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `replacer`.

```js
import ky from 'ky';
import {DateTime} from 'luxon';

const json = await ky('https://example.com', {
	stringifyJson: data => JSON.stringify(data, (key, value) => {
		if (key.endsWith('_at')) {
			return DateTime.fromISO(value).toSeconds();
		}

		return value;
	})
}).json();
```

##### fetch

–¢–∏–ø: `Function`\
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `fetch`

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è `fetch`.
–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API).

–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π `fetch`, —Ç–∞–∫–∏—Ö –∫–∞–∫ [`isomorphic-unfetch`](https://www.npmjs.com/package/isomorphic-unfetch).
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ `fetch`, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (SSR).

```js
import ky from 'ky';
import fetch from 'isomorphic-unfetch';

const json = await ky('https://example.com', {fetch}).json();
```

### ky.extend(defaultOptions)

–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `ky` —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `ky.create()`, `ky.extend()` –Ω–∞—Å–ª–µ–¥—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è.

–ó–∞–≥–æ–ª–æ–≤–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ —ç–∫–∑–µ–º–ø–ª—è—Ä `Headers`, —Ç–∞–∫ –∏ –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç.

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —á–µ—Ä–µ–∑ `.extend()`, –ø–µ—Ä–µ–¥–∞–≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `undefined`.
–ü–µ—Ä–µ–¥–∞—á–∞ `undefined` –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ —É–¥–∞–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –æ–Ω –±—ã–ª –∏–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `Headers`.

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ `hooks`, —Ä–∞—Å—à–∏—Ä–∏–≤ —Ö—É–∫ —è–≤–Ω–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `undefined`.

```js
import ky from 'ky';

const url = 'https://sindresorhus.com';

const original = ky.create({
	headers: {
		rainbow: 'rainbow',
		unicorn: 'unicorn'
	},
	hooks: {
		beforeRequest: [ () => console.log('before 1') ],
		afterResponse: [ () => console.log('after 1') ],
	},
});

const extended = original.extend({
	headers: {
		rainbow: undefined
	},
	hooks: {
		beforeRequest: undefined,
		afterResponse: [ () => console.log('after 2') ],
	}
});

const response = await extended(url).json();
//=> after 1
//=> after 2

console.log('rainbow' in response);
//=> false

console.log('unicorn' in response);
//=> true
```

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–æ–¥–∏—Ç–µ–ª—è, –ø–µ—Ä–µ–¥–∞–≤ —Ñ—É–Ω–∫—Ü–∏—é –≤ `.extend()`.

```js
import ky from 'ky';

const api = ky.create({prefixUrl: 'https://example.com/api'});

const usersApi = api.extend((options) => ({prefixUrl: `${options.prefixUrl}/users`}));

const response = await usersApi.get('123');
//=> 'https://example.com/api/users/123'

const response = await api.get('version');
//=> 'https://example.com/api/version'
```

### ky.create(defaultOptions)

–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä Ky —Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```js
import ky from 'ky';

// –ù–∞ https://my-site.com

const api = ky.create({prefixUrl: 'https://example.com/api'});

const response = await api.get('users/123');
//=> 'https://example.com/api/users/123'

const response = await api.get('/status', {prefixUrl: ''});
//=> 'https://my-site.com/status'
```

#### defaultOptions

–¢–∏–ø: `object`

### ky.stop

`Symbol`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ–∑–≤—Ä–∞—â—ë–Ω —Ö—É–∫–æ–º `beforeRetry` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏. –≠—Ç–æ —Ç–∞–∫–∂–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Ö—É–∫–æ–≤ `beforeRetry`.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—Ç —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç Ky –ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –≤–µ—Ä–Ω—É—Ç—å `undefined` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ—Ç–≤–µ—Ç–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Ü–µ–ø–æ—á–∫—É](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining). –¢–∞–∫–∂–µ —ç—Ç–æ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–ª–æ–º –æ—Ç–≤–µ—Ç–∞, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ `.json()` –∏–ª–∏ `.text()`, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ –Ω–µ—Ç. –í —Ü–µ–ª–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –≤–º–µ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∑–∞—Å—Ç–∞–≤–∏—Ç Ky –ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `ky.stop` ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏, –∫–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤–∞–∂–Ω—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

```js
import ky from 'ky';

const options = {
	hooks: {
		beforeRetry: [
			async ({request, options, error, retryCount}) => {
				const shouldStopRetry = await ky('https://example.com/api');
				if (shouldStopRetry) {
					return ky.stop;
				}
			}
		]
	}
};
```
```js
// –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ response –±—É–¥–µ—Ç `undefined`, –µ—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `ky.stop`.
const response = await ky.post('https://example.com', options);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.text()` –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤ —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–ª–æ–º –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.
const text = await ky('https://example.com', options).text();
```

### HTTPError

–û—Ç–∫—Ä—ã—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ —Å –ø–æ–º–æ—â—å—é `instanceof`. –û—à–∏–±–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–π—Å—Ç–≤–æ `response` —Å –æ–±—ä–µ–∫—Ç–æ–º [`Response`](https://developer.mozilla.org/en-US/docs/Web/API/Response), —Å–≤–æ–π—Å—Ç–≤–æ `request` —Å –æ–±—ä–µ–∫—Ç–æ–º [`Request`](https://developer.mozilla.org/en-US/docs/Web/API/Request) –∏ —Å–≤–æ–π—Å—Ç–≤–æ `options` —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏ (–ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –ª–∏–±–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —á–µ—Ä–µ–∑ `ky.create()`, –ª–∏–±–æ –Ω–∞–ø—Ä—è–º—É—é –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞).

–ò–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫, —Ç–∞–∫–∏–µ –∫–∞–∫ —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏, –ø–æ —Å–≤–æ–µ–π —Å—É—Ç–∏ –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –æ—Ç–≤–µ—Ç –Ω–µ –±—ã–ª –ø–æ–ª—É—á–µ–Ω. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∞ –Ω–µ –±—É–¥–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º HTTPError –∏ –Ω–µ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `response`.

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ `HTTPError`, –≤—ã–∑–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ –ø–∞—Ä—Å–µ—Ä–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç–µ –æ—Ç–≤–µ—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä:

```js
try {
	await ky('https://example.com').json();
} catch (error) {
	if (error.name === 'HTTPError') {
		const errorJson = await error.response.json();
	}
}
```

‚å®Ô∏è **TypeScript:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π [—Ç–∏–ø–æ–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä](https://www.typescriptlang.org/docs/handbook/2/generics.html), –∫–æ—Ç–æ—Ä—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–µ–Ω [`unknown`](https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown), –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø –º–µ—Ç–æ–¥–∞ `error.response.json()`.

### TimeoutError

–û—à–∏–±–∫–∞, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º–∞—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞. –°–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–π—Å—Ç–≤–æ `request` —Å –æ–±—ä–µ–∫—Ç–æ–º [`Request`](https://developer.mozilla.org/en-US/docs/Web/API/Request).

## –°–æ–≤–µ—Ç—ã

### –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã

–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã –≤ Ky –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ `fetch`. –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–π—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) –≤ –æ–ø—Ü–∏—é `body`. –ó–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type` –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `multipart/form-data`.

```js
import ky from 'ky';

// `multipart/form-data`
const formData = new FormData();
formData.append('food', 'fries');
formData.append('drink', 'icetea');

const response = await ky.post(url, {body: formData});
```

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `application/x-www-form-urlencoded`, –≤–∞–º –Ω—É–∂–Ω–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams).

```js
import ky from 'ky';

// `application/x-www-form-urlencoded`
const searchParams = new URLSearchParams();
searchParams.set('food', 'fries');
searchParams.set('drink', 'icetea');

const response = await ky.post(url, {body: searchParams});
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ `Content-Type`

Ky –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ [`Content-Type`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞. –û–¥–Ω–∞–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ API —Ç—Ä–µ–±—É—é—Ç –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `application/x-amz-json-1.1`. –ò—Å–ø–æ–ª—å–∑—É—è –æ–ø—Ü–∏—é `headers`, –≤—ã –º–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.

```js
import ky from 'ky';

const json = await ky.post('https://example.com', {
	headers: {
		'content-type': 'application/json'
	},
	json: {
		foo: true
	},
}).json();

console.log(json);
//=> {data: 'ü¶Ñ'}
```

### –û—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞

Fetch (–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, Ky) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–º–µ–Ω—É –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ [`AbortController` API](https://developer.mozilla.org/en-US/docs/Web/API/AbortController). [–ü–æ–¥—Ä–æ–±–Ω–µ–µ.](https://developers.google.com/web/updates/2017/09/abortable-fetch)

–ü—Ä–∏–º–µ—Ä:

```js
import ky from 'ky';

const controller = new AbortController();
const {signal} = controller;

setTimeout(() => {
	controller.abort();
}, 5000);

try {
	console.log(await ky(url, {signal}).text());
} catch (error) {
	if (error.name === 'AbortError') {
		console.log('Fetch aborted');
	} else {
		console.error('Fetch error:', error);
	}
}
```

## FAQ

#### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –≤ Node.js?

Node.js 18 –∏ –≤—ã—à–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `fetch` –Ω–∞—Ç–∏–≤–Ω–æ, –ø–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–∞–∫–µ—Ç –Ω–∞–ø—Ä—è–º—É—é.

#### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ —Å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (React, Vue.js –∏ —Ç. –¥.) —Å —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º (SSR)?

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–æ–º—É.

#### –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â—É—é —ç—Ç–æ?

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–∞–Ω–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä Mocha, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [AVA](https://avajs.dev) —Å `ky-universal`. [–ü–æ–¥—Ä–æ–±–Ω–µ–µ.](https://github.com/sindresorhus/ky-universal#faq)

#### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –±–µ–∑ —Å–±–æ—Ä—â–∏–∫–∞, —Ç–∞–∫–æ–≥–æ –∫–∞–∫ Webpack?

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ –º–æ–¥—É–ª—å JavaScript (ESM), –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é —Ç–µ–≥–∞ `<script type="module">` –≤ –≤–∞—à–µ–º HTML-–¥–æ–∫—É–º–µ–Ω—Ç–µ. –ó–∞—Ç–µ–º Ky –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —ç—Ç–∏–º –º–æ–¥—É–ª–µ–º –±–µ–∑ —Å–±–æ—Ä—â–∏–∫–∞ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

```html
<script type="module">
import ky from 'https://unpkg.com/ky/distribution/index.js';

const json = await ky('https://jsonplaceholder.typicode.com/todos/1').json();

console.log(json.title);
//=> 'delectus aut autem'
</script>
```

#### –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç [`got`](https://github.com/sindresorhus/got)

–°–º–æ—Ç—Ä–∏—Ç–µ –º–æ–π –æ—Ç–≤–µ—Ç [–∑–¥–µ—Å—å](https://twitter.com/sindresorhus/status/1037406558945042432). Got –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–µ–º–∏ –∂–µ –ª—é–¥—å–º–∏, —á—Ç–æ –∏ Ky.

#### –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç [`axios`](https://github.com/axios/axios)?

–°–º–æ—Ç—Ä–∏—Ç–µ –º–æ–π –æ—Ç–≤–µ—Ç [–∑–¥–µ—Å—å](https://twitter.com/sindresorhus/status/1037763588826398720).

#### –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç [`r2`](https://github.com/mikeal/r2)?

–°–º–æ—Ç—Ä–∏—Ç–µ –º–æ–π –æ—Ç–≤–µ—Ç –≤ [#10](https://github.com/sindresorhus/ky/issues/10).

#### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `ky`?

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ª—É—á–∞–π–Ω–æ–µ –∫–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è npm-–ø–∞–∫–µ—Ç–∞, –∫–æ—Ç–æ—Ä–æ–µ –º–Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å. –û–¥–Ω–∞–∫–æ –æ–Ω–æ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —è–ø–æ–Ω—Å–∫–æ–º —è–∑—ã–∫–µ:

> –§–æ—Ä–º–∞ —Å–ª–µ–Ω–≥–∞ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π, KY ‚Äî —ç—Ç–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –æ—Ç Á©∫Ê∞óË™≠„ÇÅ„Å™„ÅÑ (kuuki yomenai), —á—Ç–æ –±—É–∫–≤–∞–ª—å–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ ¬´–Ω–µ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –≤–æ–∑–¥—É—Ö¬ª. –≠—Ç–æ–π —Ñ—Ä–∞–∑–æ–π –Ω–∞–∑—ã–≤–∞—é—Ç —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —É–ª–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∫—Ä—ã—Ç—ã–π —Å–º—ã—Å–ª.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤

–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ Chrome, Firefox –∏ Safari.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Node.js

Node.js 18 –∏ –≤—ã—à–µ.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

- [fetch-extras](https://github.com/sindresorhus/fetch-extras) - –ü–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Fetch
- [ky-hooks-change-case](https://github.com/alice-health/ky-hooks-change-case) - –•—É–∫–∏ Ky –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∏ –æ—Ç–≤–µ—Ç–∞—Ö –æ–±—ä–µ–∫—Ç–æ–≤

## –ú–µ–π–Ω—Ç–µ–π–Ω–µ—Ä—ã

- [Sindre Sorhus](https://github.com/sindresorhus)
- [Seth Holladay](https://github.com/sholladay)
- [Szymon Marczak](https://github.com/szmarczak)
```

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-11

---