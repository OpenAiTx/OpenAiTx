# BIRD-INTERACT 1.0 <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/hku-logo.jpg" alt="HKU Logo" width="50" style="vertical-align:middle;margin-left:10px;"> <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/google-cloud-logo.png" alt="Google Cloud Logo" width="50" style="vertical-align:middle;margin-left:10px;">

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/bird_interact.png" 
       style="width: 30%; min-width: 100px; display: block; margin: auto; border-radius: 15px !important;">
</p>


<div style="display: flex; justify-content: center; align-items: center; gap: 10px;">
  <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">
    <img src="https://img.shields.io/badge/License-CC%20By%20SA%204.0-orange.svg" alt="License">
  </a>
  <a href="https://bird-interact.github.io/">
    <img src="https://img.shields.io/badge/Leaderboard-2025-28a745.svg" alt="Leaderboard">
  </a>
  <a href="https://huggingface.co/datasets/birdsql/bird-interact-lite/tree/main">
    <img src="https://img.shields.io/badge/Dataset-HuggingFace-FFD21E.svg" alt="HuggingFace">
  </a>
  <a href="https://www.python.org/downloads/release/python-310/">
    <img src="https://img.shields.io/badge/Python-3.10+-teal.svg" alt="Python">
  </a>
  <a href="https://pypi.org/project/openai/">
    <img src="https://img.shields.io/badge/OpenAI-1.40+-beige.svg" alt="OpenAI">
  </a>
</div>

## üß∏ Visi√≥n general

BIRD-INTERACT, un benchmark interactivo de texto a SQL, **re-imagina la evaluaci√≥n Text-to-SQL mediante la lente de interacciones din√°micas**.
El entorno combina una base de conocimiento jer√°rquica, documentaci√≥n de base de datos y un simulador de usuario basado en funciones para recrear entornos empresariales aut√©nticos en operaciones **CRUD** completas.
Ofrece dos modos de prueba rigurosos: (1) **Interacci√≥n Conversacional** pasiva y (2) **Interacci√≥n Ag√©ntica** activa, abarcando 600 tareas anotadas, incluyendo Inteligencia de Negocios (BI), operaciones CRUD, etc., cada una protegida por casos de prueba ejecutables.
Las evaluaciones t√≠picas desencadenan entre 1,968 y 5,496 turnos de interacci√≥n entre el modelo y el simulador de usuario, mientras que los modelos de razonamiento de √∫ltima generaci√≥n actualmente resuelven solo **‚âà24%** y **‚âà18%** de las tareas, lo que subraya el desaf√≠o del benchmark.

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/workflow.png" 
       style="width: 100%; min-width: 100px; display: block; margin: auto; ">
</p>

### ‚úÖ Dos modos de evaluaci√≥n

BIRD-INTERACT soporta dos modos de evaluaci√≥n como se menciona arriba:

   - **c-Interact**: Interacci√≥n Conversacional, que es un modo pasivo y el flujo de trabajo es fijo. El c√≥digo e informaci√≥n detallada se puede encontrar en `bird_interact_conv`.
   - **a-Interact**: Interacci√≥n Ag√©ntica, que es un modo activo encarnado donde el flujo de trabajo es din√°mico y dirigido por los modelos. El c√≥digo e informaci√≥n detallada se puede encontrar en `bird_interact_agent`.


### üê£ Versi√≥n Lite

Estamos lanzando una versi√≥n lite de BIRD-INTERACT, `bird-interact-lite-exp`, que incluye 270 tareas de alta calidad del mundo real espec√≠ficamente para PostgreSQL. Este es un buen punto de partida para experimentaci√≥n r√°pida. 

### ü¶ú Versi√≥n Completa

La versi√≥n completa de BIRD-INTERACT, `bird-interact-full`, es un benchmark integral que incluye 600 tareas para PostgreSQL. Cubre una amplia gama de operaciones SQL y consultas de usuario. La versi√≥n completa estar√° disponible pr√≥ximamente.

### Resultados de desempe√±o de modelos en BIRD-INTERACT Lite

#### 1. Desempe√±o de **c-Interact**
| Rank | Nombre del Modelo   | Recompensa Normalizada | Nivel              |
|:------:|---------------------|:---------------------:|:------------------:|
| 1    | o3-mini              | 33.04                 | üèÜ Chat Excelente  |
| 2    | GPT-4o               | 30.33                 | üíé Chat Bueno      |
| 3    | Gemini-2.0-flash     | 27.41                 | üíé Chat Bueno      |
| 4    | Claude-3.7-sonnet    | 26.60                 | ‚ú® Est√°ndar        |
| 5    | DeepSeek-R1          | 21.74                 | ‚ú® Est√°ndar        |
| 6    | Qwen3                | 20.33                 | ‚ö™ B√°sico          |
| 7    | DeepSeek-V3          | 15.85                 | ‚ö™ B√°sico          |

#### 2. Desempe√±o de **a-Interact**
| Rank | Nombre del Modelo   | Par√°metros de Presupuesto* | Prom. Turnos/Tarea | Prom. Costo (USD)/Tarea | Recompensa Normalizada | Nivel                   |
|:------:|---------------------|:--------------------------:|:-------------------:|:------------------------:|:----------------------:|:------------------------:|
| 1    | Claude-3.7-sonnet    | 6/6                        | 15.4                | $0.6668                  | 29.19                  | üèÜ Interacci√≥n Excelente |
| 2    | o3-mini              | 6/6                        | 7.8                 | $0.0754                  | 21.07                  | üíé Interacci√≥n Buena     |
| 3    | DeepSeek-V3          | 6/6                        | 15.6                | $0.0629                  | 19.19                  | üíé Interacci√≥n Buena     |
| 4    | Qwen3                | 6/6                        | 12.5                | $0.0278                  | 18.74                  | ‚ú® Est√°ndar              |
| 5    | GPT-4o               | 6/6                        | 15.3                | $0.4594                  | 18.37                  | ‚ú® Est√°ndar              |
| 6    | Gemini-2.0-flash     | 6/6                        | 13.2                | $0.0337                  | 17.26                  | ‚ö™ B√°sico                |
| 7    | DeepSeek-R1          | 6/6                        | 12.0                | $0.0931                  | 17.07                  | ‚ö™ B√°sico                |

> \* Par√°metros de Presupuesto: Presupuesto Inicial/Presupuesto de Paciencia del Usuario, medido por nuestra moneda virtual *bird-coin*s <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/bird_interact_agent/materials/bird-coin.png" style="height: 1em; vertical-align: middle;">. Consulta [bird_interact_agent/README.md](https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/bird_interact_agent/README.md#task-setting) para m√°s detalles.

### Escalado en Tiempo de Interacci√≥n (ITS)

El Escalado en Tiempo de Interacci√≥n (ITS) se refiere a la capacidad de un modelo para aumentar continuamente su desempe√±o final mediante interacciones de m√∫ltiples turnos. Cuando este desempe√±o interactivo supera el desempe√±o idealizado de turno √∫nico del modelo en una tarea completamente especificada y no ambigua, decimos que satisface la **ley ITS**. A medida que la paciencia del usuario crece y se acumulan los turnos de interacci√≥n, el desempe√±o sigue mejorando, demostrando que el modelo puede mantener una comunicaci√≥n efectiva a lo largo de di√°logos extendidos. Actualmente, solo encontramos que claude-3-7-sonnet satisface la ley ITS.

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/interaction_scaling_law.png" 
       style="width: 100%; min-width: 100px; display: block; margin: auto; ">
</p>

## üì¶ Detalles del Conjunto de Datos

### Descripci√≥n del Conjunto de Datos

- **Base de Datos:** La base de datos completa de PostgreSQL se puede descargar desde [Google Drive](https://drive.google.com/file/d/1KABce6czIqL9kMyIX7i-_A0CIQoDnmyW/view). Consulta la secci√≥n [Quick Eval](#quick-eval) para m√°s detalles.
- **data:** Cada instancia de datos contiene las siguientes partes principales:
   - `selected_database`: El nombre de la base de datos.  
   - `query`: La consulta de usuario no ambigua.  
   - `amb_user_query`: La consulta de usuario con ambig√ºedades inyectadas.
   - `user_query_ambiguity`: Las ambig√ºedades inyectadas en la consulta de usuario.
   - `non_critical_ambiguity`: Las ambig√ºedades no cr√≠ticas como orden, l√≠mite, etc.
   - `knowledge_ambiguity`: Las ambig√ºedades creadas por conocimientos externos enmascarados.
   - `sol_sql`: La soluci√≥n SQL de referencia (ground truth).
   - `preprocess_sql`: Consultas SQL que se ejecutan antes de la soluci√≥n o predicci√≥n.
   - `clean_up_sql`: Consultas SQL que se ejecutan despu√©s de los casos de prueba para revertir los cambios realizados en la base de datos.
   - `test_cases`: Un conjunto de casos de prueba para validar el SQL corregido predicho.
   - `follow_up`: Las preguntas de seguimiento etiquetadas.
   - `external_knowledge`: El conocimiento externo relacionado con la tarea espec√≠fica.

- **evaluaci√≥n:** El c√≥digo de evaluaci√≥n est√° disponible en el directorio [`./evaluation`](./evaluation).
- **Curado por:** Equipo BIRD & Google Cloud
- **Licencia:** [cc-by-sa-4.0](https://creativecommons.org/licenses/by-sa/4.0/)
- **Tarjeta del Dataset en HuggingFace:** [bird-interact-lite](https://huggingface.co/datasets/birdsql/bird-interact-lite)

### Usos del Conjunto de Datos

Para evitar fugas de datos por rastreo autom√°tico, no incluimos las soluciones SQL de referencia ni los casos de prueba junto con los datos.
Por favor, env√≠a un correo a [bird.bench25@gmail.com](https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/mailto:bird.bench25@gmail.com) con la etiqueta `[bird-interact-lite GT&Test Cases]` en el t√≠tulo para obtener el conjunto completo, que ser√° enviado autom√°ticamente.


<!-- ### Utiliza el Dataset desde HuggingFace

Puedes descargar el dataset desde HuggingFace usando el siguiente comando:
```bash
from datasets import load_dataset
# Cargar la versi√≥n lite del dataset
dataset = load_dataset("birdsql/bird-interact-lite")
print(dataset["lite"][0])

# Cargar la versi√≥n completa del dataset (pr√≥ximamente)
dataset = load_dataset("birdsql/bird-interact-full")
print(dataset["full"][0])
```

O puedes usar el script provisto para descargar la versi√≥n completa del dataset y dividirlo en diferentes dialectos.
```bash
cd baseline/data
python pull_data.py \
  --schema_path path/to/full_schema.jsonl \
  --input_path path/to/input.jsonl \ # Ruta al archivo JSONL de entrada (puede estar vac√≠o si deseas descargar el dataset desde HuggingFace)
  --output_folder path/to/output_dir # carpeta de salida de los archivos divididos
``` -->

## Estructura de Carpetas
```ultree
.
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ bird_interact_conv
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ...
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ bird_interact_agent
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ...
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ evaluation
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ env
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ postgre_table_dumps
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ run
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ src
‚îú‚îÄ‚îÄ materials
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ requirements.txt
```
Los detalles sobre c√≥mo ejecutar **a-interact** pueden encontrarse en `./bird_interact_agent/README.md`; y **c-interact** en `./bird_interact_conv/README.md`.


## üìã Listas de Tareas

- [x] Publicar la versi√≥n lite, bird-interact-lite (270).
- [x] Publicar la versi√≥n conversacional, bird-interact-conv.
- [x] Publicar la versi√≥n agente, bird-interact-agent.
- [ ] Publicar la versi√≥n completa bird-interact-full (600).
- [ ] SFT / RL y un Simulador de Usuario

## Creado por:
Equipo BIRD & Google Cloud

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-08

---