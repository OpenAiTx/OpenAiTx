# BIRD-INTERACT 1.0 <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/hku-logo.jpg" alt="HKU Logo" width="50" style="vertical-align:middle;margin-left:10px;"> <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/google-cloud-logo.png" alt="Google Cloud Logo" width="50" style="vertical-align:middle;margin-left:10px;">

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/bird_interact.png" 
       style="width: 30%; min-width: 100px; display: block; margin: auto; border-radius: 15px !important;">
</p>


<div style="display: flex; justify-content: center; align-items: center; gap: 10px;">
  <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">
    <img src="https://img.shields.io/badge/License-CC%20By%20SA%204.0-orange.svg" alt="License">
  </a>
  <a href="https://bird-interact.github.io/">
    <img src="https://img.shields.io/badge/Leaderboard-2025-28a745.svg" alt="Leaderboard">
  </a>
  <a href="https://huggingface.co/datasets/birdsql/bird-interact-lite/tree/main">
    <img src="https://img.shields.io/badge/Dataset-HuggingFace-FFD21E.svg" alt="HuggingFace">
  </a>
  <a href="https://www.python.org/downloads/release/python-310/">
    <img src="https://img.shields.io/badge/Python-3.10+-teal.svg" alt="Python">
  </a>
  <a href="https://pypi.org/project/openai/">
    <img src="https://img.shields.io/badge/OpenAI-1.40+-beige.svg" alt="OpenAI">
  </a>
</div>

## üß∏ Aper√ßu

BIRD-INTERACT, un benchmark interactif de text-to-SQL, **r√©invente l'√©valuation Text-to-SQL √† travers le prisme des interactions dynamiques**.
L'environnement combine une base de connaissances hi√©rarchique, une documentation de base de donn√©es et un simulateur d'utilisateur pilot√© par fonctions pour recr√©er des environnements d'entreprise authentiques couvrant l'ensemble des op√©rations **CRUD**.
Il propose deux modes de test rigoureux : (1) **Interaction conversationnelle** passive et (2) **Interaction agentique** active, couvrant 600 t√¢ches annot√©es incluant l'intelligence d'affaires (BI), des op√©rations CRUD, etc., chacune prot√©g√©e par des cas de test ex√©cutables.
Les √©valuations typiques d√©clenchent entre 1 968 et 5 496 tours d'interaction entre le mod√®le et le simulateur d'utilisateur, tandis que les mod√®les de raisonnement de pointe ne r√©solvent actuellement que **‚âà24%** et **‚âà18%** des t√¢ches, soulignant ainsi le d√©fi pos√© par ce benchmark.

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/workflow.png" 
       style="width: 100%; min-width: 100px; display: block; margin: auto; ">
</p>

### ‚úÖ Deux modes d'√©valuation

BIRD-INTERACT prend en charge deux modes d'√©valuation comme mentionn√© ci-dessus :

   - **c-Interact** : Interaction conversationnelle, qui est un mode passif et dont le workflow est fixe. Le code et les informations d√©taill√©es se trouvent dans `bird_interact_conv`.
   - **a-Interact** : Interaction agentique, qui est un mode actif incarn√© o√π le workflow est dynamique et dirig√© par les mod√®les. Le code et les informations d√©taill√©es se trouvent dans `bird_interact_agent`.


### üê£ Version all√©g√©e

Nous publions une version all√©g√©e de BIRD-INTERACT, `bird-interact-lite-exp`, qui inclut 270 t√¢ches r√©elles de haute qualit√© sp√©cifiquement pour PostgreSQL. C'est un bon point de d√©part pour des exp√©rimentations rapides.

### ü¶ú Version compl√®te

La version compl√®te de BIRD-INTERACT, `bird-interact-full`, est un benchmark complet qui inclut 600 t√¢ches pour PostgreSQL. Elle couvre un large √©ventail d'op√©rations SQL et de requ√™tes utilisateur. La version compl√®te arrive bient√¥t.

### R√©sultats de performance des mod√®les sur BIRD-INTERACT Lite

#### 1. Performance **c-Interact**
| Rang | Nom du mod√®le      | R√©compense normalis√©e | Niveau             |
|:------:|--------------------|:-------:|:--------------:|
| 1    | o3-mini            | 33.04 | üèÜ Chat Excellent |
| 2    | GPT-4o             | 30.33 | üíé Bon Chat       |
| 3    | Gemini-2.0-flash   | 27.41 | üíé Bon Chat       |
| 4    | Claude-3.7-sonnet  | 26.60 | ‚ú® Standard       |
| 5    | DeepSeek-R1        | 21.74 | ‚ú® Standard       |
| 6    | Qwen3              | 20.33 | ‚ö™ Basique        |
| 7    | DeepSeek-V3        | 15.85 | ‚ö™ Basique        |

#### 2. Performance **a-Interact**
| Rang | Nom du mod√®le      | Param√®tres de budget* | Moy. tours/t√¢che | Co√ªt moy. (USD)/t√¢che | R√©compense normalis√©e | Niveau                |
|:------:|--------------------|:-------------------:|:----------------:|:---------------------:|:-------------------:|:---------------------:|
| 1    | Claude-3.7-sonnet  | 6/6 | 15.4 | $0.6668 | 29.19 | üèÜ Interaction excellente |
| 2    | o3-mini            | 6/6 | 7.8 | $0.0754 | 21.07 | üíé Bonne interaction      |
| 3    | DeepSeek-V3        | 6/6 | 15.6 | $0.0629 | 19.19 | üíé Bonne interaction      |
| 4    | Qwen3              | 6/6 | 12.5 | $0.0278 | 18.74 | ‚ú® Standard              |
| 5    | GPT-4o             | 6/6 | 15.3 | $0.4594 | 18.37 | ‚ú® Standard              |
| 6    | Gemini-2.0-flash   | 6/6 | 13.2 | $0.0337 | 17.26 | ‚ö™ Basique               |
| 7    | DeepSeek-R1        | 6/6 | 12.0 | $0.0931 | 17.07 | ‚ö™ Basique               |

> \* Param√®tres de budget : Budget de d√©part/Budget de patience utilisateur, mesur√©s par notre monnaie virtuelle *bird-coin*s <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/bird_interact_agent/materials/bird-coin.png" style="height: 1em; vertical-align: middle;">. Voir [bird_interact_agent/README.md](https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/bird_interact_agent/README.md#task-setting) pour plus de d√©tails.

### √âchelle de temps d‚Äôinteraction (ITS)

L‚ÄôInteraction-Time Scaling (ITS) fait r√©f√©rence √† la capacit√© d‚Äôun mod√®le √† augmenter continuellement ses performances finales gr√¢ce √† des interactions multi-tours. Lorsque cette performance interactive d√©passe celle du mod√®le dans un sc√©nario id√©al √† un seul tour sur une t√¢che enti√®rement sp√©cifi√©e et non ambigu√´, on dit qu‚Äôil satisfait √† la **loi ITS**. √Ä mesure que la patience de l‚Äôutilisateur grandit et que les tours d‚Äôinteraction s‚Äôaccumulent, la performance continue de s‚Äôam√©liorer, d√©montrant que le mod√®le peut maintenir une communication efficace sur des dialogues prolong√©s. Actuellement, seul claude-3-7-sonnet satisfait √† la loi ITS.

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/interaction_scaling_law.png" 
       style="width: 100%; min-width: 100px; display: block; margin: auto; ">
</p>

## üì¶ D√©tails du jeu de donn√©es

### Description du jeu de donn√©es

- **Base de donn√©es :** La base de donn√©es compl√®te PostgreSQL peut √™tre t√©l√©charg√©e depuis [Google Drive](https://drive.google.com/file/d/1KABce6czIqL9kMyIX7i-_A0CIQoDnmyW/view). Consultez la section [Quick Eval](#quick-eval) pour plus de d√©tails.
- **data :** Chaque instance de donn√©es contient les parties principales suivantes :
   - `selected_database` : Le nom de la base de donn√©es.  
   - `query` : La requ√™te utilisateur non ambigu√´.  
   - `amb_user_query` : La requ√™te utilisateur avec ambigu√Øt√©s inject√©es.
   - `user_query_ambiguity` : Les ambigu√Øt√©s inject√©es dans la requ√™te utilisateur.
   - `non_critical_ambiguity` : Les ambigu√Øt√©s non critiques telles que l‚Äôordre, la limite, etc.
   - `knowledge_ambiguity` : Les ambigu√Øt√©s cr√©√©es par des connaissances externes masqu√©es.
   - `sol_sql` : La solution SQL de r√©f√©rence (ground truth).
   - `preprocess_sql` : Requ√™tes SQL √† ex√©cuter avant la solution ou la pr√©diction.
   - `clean_up_sql` : Requ√™tes SQL √† ex√©cuter apr√®s les cas de test pour annuler les modifications apport√©es √† la base de donn√©es.
   - `test_cases` : Un ensemble de cas de test pour valider le SQL corrig√© pr√©dit.
   - `follow_up` : Les questions de suivi √©tiquet√©es.
   - `external_knowledge` : La connaissance externe li√©e √† la t√¢che sp√©cifique.

- **√©valuation :** Le code d'√©valuation est disponible dans le r√©pertoire [`./evaluation`](./evaluation).
- **Curat√© par :** √âquipe BIRD & Google Cloud
- **Licence :** [cc-by-sa-4.0](https://creativecommons.org/licenses/by-sa/4.0/)
- **Carte de jeu de donn√©es HuggingFace :** [bird-interact-lite](https://huggingface.co/datasets/birdsql/bird-interact-lite)

### Utilisations du jeu de donn√©es

Pour √©viter toute fuite de donn√©es par exploration automatique, nous n'incluons pas les solutions GT SQL ni les cas de test avec les donn√©es.
Veuillez envoyer un email √† [bird.bench25@gmail.com](https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/mailto:bird.bench25@gmail.com) avec le tag `[bird-interact-lite GT&Test Cases]` dans le titre pour obtenir le jeu complet, qui sera envoy√© automatiquement.


<!-- ### Utiliser le jeu de donn√©es depuis HuggingFace

Vous pouvez t√©l√©charger le jeu de donn√©es depuis HuggingFace avec la commande suivante :
```bash
from datasets import load_dataset
# Charger la version flash du jeu de donn√©es
dataset = load_dataset("birdsql/bird-interact-lite")
print(dataset["lite"][0])

# Charger la version compl√®te du jeu de donn√©es (bient√¥t disponible)
dataset = load_dataset("birdsql/bird-interact-full")
print(dataset["full"][0])
```

Ou vous pouvez utiliser le script fourni pour t√©l√©charger la version compl√®te du jeu de donn√©es et le diviser en diff√©rents dialectes.
```bash
cd baseline/data
python pull_data.py \
  --schema_path path/to/full_schema.jsonl \
  --input_path path/to/input.jsonl \ # Chemin vers le fichier JSONL d'entr√©e (peut √™tre vide si vous souhaitez t√©l√©charger le jeu de donn√©es depuis HuggingFace)
  --output_folder path/to/output_dir # dossier de sortie des fichiers d√©coup√©s
``` -->

## Structure des dossiers
```ultree
.
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ bird_interact_conv
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ...
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ bird_interact_agent
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ...
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ evaluation
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ env
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ postgre_table_dumps
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ run
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ src
‚îú‚îÄ‚îÄ materials
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ requirements.txt
```
Les d√©tails concernant l'ex√©cution de **a-interact** se trouvent dans `./bird_interact_agent/README.md` ; et pour **c-interact** dans `./bird_interact_conv/README.md`.


## üìã Listes de t√¢ches

- [x] Publier la version lite, bird-interact-lite (270).
- [x] Publier la version conversationnelle, bird-interact-conv.
- [x] Publier la version agent, bird-interact-agent.
- [ ] Publier la version compl√®te bird-interact-full (600).
- [ ] SFT / RL d'un simulateur d'utilisateur

## Cr√©√© par :
√âquipe BIRD & Google Cloud

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-08

---