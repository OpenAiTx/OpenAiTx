<div align="right">
  <details>
    <summary >🌐 زبان</summary>
    <div>
      <div align="right">
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=en">English</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=zh-CN">简体中文</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=zh-TW">繁體中文</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=ja">日本語</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=ko">한국어</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=hi">हिन्दी</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=th">ไทย</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=fr">Français</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=de">Deutsch</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=es">Español</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=it">Itapano</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=ru">Русский</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=pt">Português</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=nl">Nederlands</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=pl">Polski</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=ar">العربية</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=fa">فارسی</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=tr">Türkçe</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=vi">Tiếng Việt</a></p>
        <p><a href="https://openaitx.github.io/view.html?user=bird-bench&project=BIRD-Interact&lang=id">Bahasa Indonesia</a></p>
      </div>
    </div>
  </details>

</div>

# BIRD-INTERACT 1.0 <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/hku-logo.jpg" alt="HKU Logo" width="50" style="vertical-align:middle;margin-left:10px;"> <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/google-cloud-logo.png" alt="Google Cloud Logo" width="50" style="vertical-align:middle;margin-left:10px;">

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/bird_interact.png" 
       style="width: 30%; min-width: 100px; display: block; margin: auto; border-radius: 15px !important;">
</p>



<div style="display: flex; justify-content: center; align-items: center; gap: 10px;">
  <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">
    <img src="https://img.shields.io/badge/License-CC%20By%20SA%204.0-orange.svg" alt="License">
  </a>
  <a href="https://bird-interact.github.io/">
    <img src="https://img.shields.io/badge/Leaderboard-2025-28a745.svg" alt="Leaderboard">
  </a>
  <a href="https://huggingface.co/datasets/birdsql/bird-interact-lite/tree/main">
    <img src="https://img.shields.io/badge/Dataset-HuggingFace-FFD21E.svg" alt="HuggingFace">
  </a>
  <a href="https://www.python.org/downloads/release/python-310/">
    <img src="https://img.shields.io/badge/Python-3.10+-teal.svg" alt="Python">
  </a>
  <a href="https://pypi.org/project/openai/">
    <img src="https://img.shields.io/badge/OpenAI-1.40+-beige.svg" alt="OpenAI">
  </a>
</div>

## 📰 اخبار

- [2025-08-26] 🚀 با هیجان اعلام می‌کنیم که مجموعه **[BIRD-Interact-Full (600)](https://huggingface.co/datasets/birdsql/bird-interact-full)** منتشر شد!  
این مجموعه دشوار است — بهترین مدل‌های زبانی تنها به نرخ موفقیت **16.33%** دست یافته‌اند و فقط **10.0%** در بخش‌های `c-interact` و `a-interact`.  
👉 برای جزئیات بیشتر، لطفاً به [وبسایت پروژه](https://bird-interact.github.io/) مراجعه کنید.

- [2025-08-26] 📬 این هفته **Ground Truth & Test cases** را برای لیست ایمیل خود ارسال خواهیم کرد.  
اگر مایل به دسترسی زودهنگام هستید، مطابق دستورالعمل سایت ایمیل ارسال کنید تا امکان **دانلود خودکار** فراهم شود.  

- [2025-08-26] 💾 همچنین نسخه SQLite از **[LiveSQLBench-Lite](https://huggingface.co/datasets/birdsql/livesqlbench-base-lite-sqlite)** را برای تحقیقات محلی آسان‌تر منتشر کردیم.  
نسخه‌های کامل **LiveSQLBench-Base** و **-Large** به‌زودی ارائه خواهند شد!

- [2025-08-22] **رفع باگ**: در کد Bird-Interact-Agent، باگی را رفع کردیم که هنگام ارزیابی SQL مرحله دوم، SQL ذخیره‌شده مرحله اول به‌درستی اجرا نمی‌شد و باعث کاهش نرخ موفقیت مرحله دوم می‌گردید. این باگ فقط بر روی وظایفی که در مرحله اول SQL عملیاتی روی پایگاه داده انجام می‌دهد، مانند CREATE table و غیره، تاثیر داشت.

## 🧸 مرور کلی

BIRD-INTERACT، یک معیار تعاملی متن به SQL، **ارزیابی Text-to-SQL را از منظر تعاملات پویا بازتعریف می‌کند**.
این محیط، پایگاه دانشی سلسله‌مراتبی، مستندات پایگاه داده و شبیه‌ساز کاربر مبتنی بر عملکرد را ترکیب می‌کند تا محیط‌های سازمانی واقعی را در سراسر عملیات کامل **CRUD** بازسازی کند.
دو حالت آزمایشی دقیق ارائه می‌دهد: (1) **تعامل مکالمه‌ای** غیرفعال و (2) **تعامل عاملی** فعال، شامل ۶۰۰ وظیفه برچسب‌گذاری‌شده شامل هوش تجاری (BI)، عملیات CRUD و غیره، که هرکدام دارای تست کیس اجرایی هستند.
ارزیابی‌های معمولی منجر به 1,968 تا 5,496 گردش تعامل میان مدل و شبیه‌ساز کاربر می‌شود، در حالی که مدل‌های استدلال پیشرفته فعلی فقط **≈24%** و **≈18%** وظایف را حل می‌کنند که چالش این معیار را نشان می‌دهد.

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/workflow.png" 
       style="width: 100%; min-width: 100px; display: block; margin: auto; ">
</p>

### ✅ دو حالت ارزیابی

BIRD-INTERACT از دو حالت ارزیابی که در بالا ذکر شد پشتیبانی می‌کند:

   - **c-Interact**: تعامل مکالمه‌ای که حالت منفعل بوده و جریان کاری آن ثابت است. کد و اطلاعات جزئی را می‌توانید در `bird_interact_conv` بیابید.
   - **a-Interact**: تعامل عاملی که حالت فعال و مجسم بوده و جریان کاری آن پویا و توسط مدل‌ها هدایت می‌شود. کد و اطلاعات جزئی را می‌توانید در `bird_interact_agent` بیابید.


### 🐣 نسخه سبک

ما نسخه سبک BIRD-INTERACT را با نام `bird-interact-lite-exp` منتشر کرده‌ایم که شامل ۲۷۰ وظیفه واقعی با کیفیت بالا مخصوص PostgreSQL است. این گزینه خوبی برای شروع آزمایش سریع می‌باشد.

### 🦜 نسخه کامل

نسخه کامل BIRD-INTERACT با نام `bird-interact-full` یک بنچمارک جامع شامل ۶۰۰ وظیفه برای PostgreSQL است. این نسخه دامنه وسیعی از عملیات SQL و پرسش‌های کاربر را پوشش می‌دهد. نسخه کامل به زودی عرضه خواهد شد.

### نتایج عملکرد مدل‌ها روی نسخه Lite BIRD-INTERACT

#### 1. عملکرد **c-Interact**
| رتبه | نام مدل          | پاداش نرمال‌شده | سطح            |
|:------:|--------------------|:-------:|:--------------:|
| 1    | o3-mini            | 33.04 | 🏆 چت عالی         |
| 2    | GPT-4o             | 30.33 | 💎 چت خوب          |
| 3    | Gemini-2.0-flash   | 27.41 | 💎 چت خوب          |
| 4    | Claude-3.7-sonnet  | 26.60 | ✨ استاندارد       |
| 5    | DeepSeek-R1        | 21.74 | ✨ استاندارد       |
| 6    | Qwen3              | 20.33 | ⚪ پایه‌ای          |
| 7    | DeepSeek-V3        | 15.85 | ⚪ پایه‌ای          |

#### 2. عملکرد **a-Interact**
| رتبه | نام مدل          | پارامتر بودجه*      | میانگین گام/وظیفه | میانگین هزینه (دلار)/وظیفه | پاداش نرمال‌شده | سطح                   |
|:------:|--------------------|:-------------------:|:----------------:|:---------------------:|:-------------------:|:---------------------:|
| 1    | Claude-3.7-sonnet  | 6/6 | 15.4 | $0.6668 | 29.19 | 🏆 تعامل عالی           |
| 2    | o3-mini            | 6/6 | 7.8 | $0.0754 | 21.07 | 💎 تعامل خوب            |
| 3    | DeepSeek-V3        | 6/6 | 15.6 | $0.0629 | 19.19 | 💎 تعامل خوب            |
| 4    | Qwen3              | 6/6 | 12.5 | $0.0278 | 18.74 | ✨ استاندارد            |
| 5    | GPT-4o             | 6/6 | 15.3 | $0.4594 | 18.37 | ✨ استاندارد             |
| 6    | Gemini-2.0-flash   | 6/6 | 13.2 | $0.0337 | 17.26 | ⚪ پایه                  |
| 7    | DeepSeek-R1        | 6/6 | 12.0 | $0.0931 | 17.07 | ⚪ پایه                  |

> \* پارامترهای بودجه: بودجه شروع/بودجه صبر کاربر، بر اساس ارز مجازی ما *bird-coin*s <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/bird_interact_agent/materials/bird-coin.png" style="height: 1em; vertical-align: middle;">. برای اطلاعات بیشتر به [bird_interact_agent/README.md](https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/bird_interact_agent/README.md#task-setting) مراجعه کنید.

### مقیاس‌دهی زمان تعامل (ITS)

مقیاس‌دهی زمان تعامل (ITS) به توانایی یک مدل برای افزایش مداوم عملکرد نهایی خود از طریق تعاملات چندمرحله‌ای اشاره دارد. زمانی که این عملکرد تعاملی از عملکرد ایده‌آل مدل در یک وظیفه کاملاً مشخص و بدون ابهام فراتر رود، گفته می‌شود که مدل از **قانون ITS** پیروی می‌کند. با افزایش صبر کاربر و تجمع مراحل تعامل، عملکرد بهبود می‌یابد و نشان می‌دهد مدل قادر است ارتباط مؤثر را در دیالوگ‌های طولانی حفظ کند. در حال حاضر فقط claude-3-7-sonnet از قانون ITS تبعیت می‌کند.

<p align="center">
  <img src="https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/materials/interaction_scaling_law.png" 
       style="width: 100%; min-width: 100px; display: block; margin: auto; ">
</p>

## 📦 جزئیات دیتاست

### توضیحات دیتاست

- **پایگاه داده:** پایگاه داده کامل PostgreSQL را می‌توانید از [گوگل درایو](https://drive.google.com/file/d/1KABce6czIqL9kMyIX7i-_A0CIQoDnmyW/view) دانلود کنید. برای جزئیات بیشتر به بخش [ارزیابی سریع](#quick-eval) مراجعه کنید.
- **data:** هر نمونه داده شامل بخش‌های اصلی زیر است:
   - `selected_database`: نام پایگاه داده.  
   - `query`: پرسش بدون ابهام کاربر.  
   - `amb_user_query`: پرسش کاربر با ابهامات تزریق‌شده.
   - `user_query_ambiguity`: ابهام‌های تزریق‌شده به پرسش کاربر.
   - `non_critical_ambiguity`: ابهامات غیر بحرانی مانند ترتیب، محدودیت و غیره.
   - `knowledge_ambiguity`: ابهام‌های ناشی از دانش خارجی مخفی‌شده. 
   - `sol_sql`: راه‌حل SQL مرجع.  
   - `preprocess_sql`: کوئری‌های SQL برای اجرا قبل از راه‌حل یا پیش‌بینی.  
   - `clean_up_sql`: کوئری‌های SQL برای اجرا بعد از تست‌ها جهت بازگرداندن تغییرات اعمال‌شده به پایگاه داده.  
   - `test_cases`: مجموعه‌ای از تست‌ها برای اعتبارسنجی SQL اصلاح‌شده پیش‌بینی‌شده.
   - `follow_up`: سوالات بعدی برچسب‌گذاری‌شده.
   - `external_knowledge`: دانش خارجی مرتبط با وظیفه خاص.

- **ارزیابی:** کد ارزیابی در پوشه [`./evaluation`](./evaluation) موجود است.
- **گردآوری شده توسط:** تیم BIRD و Google Cloud
- **لایسنس:** [cc-by-sa-4.0](https://creativecommons.org/licenses/by-sa/4.0/)
- **کارت دیتاست HuggingFace:** [bird-interact-lite](https://huggingface.co/datasets/birdsql/bird-interact-lite)

### کاربردهای دیتاست

برای جلوگیری از نشت داده‌ها از طریق خزیدن خودکار، ما راه‌حل‌های SQL و موارد تست GT را همراه با داده‌ها ارائه نمی‌دهیم.
لطفاً با عنوان `[bird-interact-lite GT&Test Cases]` به [bird.bench25@gmail.com](https://raw.githubusercontent.com/bird-bench/BIRD-Interact/main/mailto:bird.bench25@gmail.com) ایمیل بزنید تا مجموعه کامل که به صورت خودکار ارسال خواهد شد، دریافت کنید.


<!-- ### استفاده از دیتاست از HuggingFace

می‌توانید دیتاست را با استفاده از فرمان زیر از HuggingFace دانلود کنید:
```bash
from datasets import load_dataset
# Load the flash version of the dataset
dataset = load_dataset("birdsql/bird-interact-lite")
print(dataset["lite"][0])

# Load the full version of the dataset (coming soon)
dataset = load_dataset("birdsql/bird-interact-full")
print(dataset["full"][0])
```
یا می‌توانید از اسکریپت ارائه‌شده برای دانلود نسخه کامل دیتاست استفاده کنید و آن را به لهجه‌های مختلف تقسیم کنید.

```bash
cd baseline/data
python pull_data.py \
  --schema_path path/to/full_schema.jsonl \
  --input_path path/to/input.jsonl \ # مسیر فایل ورودی JSONL (ممکن است خالی باشد اگر بخواهید دیتاست را از HuggingFace دانلود کنید)
  --output_folder path/to/output_dir # پوشه خروجی فایل‌های تقسیم شده
```

## ساختار پوشه‌ها
```ultree
.
├── LICENSE
├── README.md
├── bird_interact_conv
│   ├── ...
│   └── README.md
├── bird_interact_agent
│   ├── ...
│   └── README.md
├── evaluation
│   ├── docker-compose.yml
│   ├── env
│   ├── postgre_table_dumps
│   ├── run
│   └── src
├── materials
│   ├── ...
└── requirements.txt
```
جزئیات مربوط به اجرای **a-interact** در `./bird_interact_agent/README.md` قابل یافت است؛ و **c-interact** در `./bird_interact_conv/README.md` موجود است.

## 📋 فهرست کارها

- [x] انتشار نسخه سبک، bird-interact-lite (۲۷۰).
- [x] انتشار نسخه گفتگو محور، bird-interact-conv.
- [x] انتشار نسخه عامل، bird-interact-agent.
- [x] انتشار نسخه کامل bird-interact-full (۶۰۰).
- [ ] SFT / RL یک شبیه‌ساز کاربر

## ساخته شده توسط:
تیم BIRD و Google Cloud





---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-08-30

---