CDN لتسريع وحماية الأمان لهذا المشروع برعاية Tencent EdgeOne.

[![image](https://github.com/user-attachments/assets/059fed87-d415-41b0-a575-2423bf2d77e2)](https://edgeone.ai/?from=github)

مؤلف هذا المشروع هو colin1114.

# 🚀 محول اشتراكات Clash

أداة إلكترونية جميلة وقوية لتحويل روابط اشتراكات البروكسي المختلفة إلى تنسيق إعدادات Clash. يدعم النشر التلقائي عبر Cloudflare Workers & Pages، ويوفر خدمة تحويل اشتراكات سريعة وموثوقة.

## ✨ الميزات

- 🎨 **واجهة عصرية وجميلة** - تصميم بخلفية متدرجة وبطاقات
- 🔄 **دعم بروتوكولات متعددة** - يدعم V2Ray، VLESS، Shadowsocks، Trojan وغيرها من البروتوكولات الرئيسية
- ☁️ **نشر سحابي** - تسريع عالمي عبر CDN من خلال Cloudflare Workers
- 📱 **تصميم متجاوب** - متوافق تمامًا مع سطح المكتب والجوال
- ⚡ **تحويل سريع** - تحويل روابط الاشتراك إلى إعدادات Clash في الوقت الفعلي
- 📋 **نسخ ذكي** - يدعم النسخ بنقرة واحدة لإعدادات YAML المولدة، متوافق مع جميع المتصفحات
- 📡 **توليد روابط اشتراك** - توليد تلقائي لرابط اشتراك يمكن استيراده مباشرة في Clash
- 🌐 **وصول YAML عبر الإنترنت** - يوفر عدة طرق للوصول إلى ملفات YAML:
  - 📡 رابط الاشتراك: يدعم التحديث التلقائي لعميل Clash
  - 🔗 عرض عبر الإنترنت: استعراض الإعدادات مباشرة في المتصفح
  - 💾 تحميل الملف: تنزيل ملف .yaml محليًا
  - ⚡ وصول سريع: رابط تحميل مبسط
- 🔧 **دعم UTF-8** - دعم كامل لأسماء العقد باللغة الصينية والإعدادات
- 🆓 **مجاني بالكامل** - قائم على خدمات Cloudflare المجانية، بدون قيود استخدام

## 📁 هيكل المشروع

```
clash/
├── index.html              # صفحة الواجهة الأمامية
├── worker.js               # كود الخلفية لـ Cloudflare Worker
├── wrangler.jsonc          # ملف إعدادات Wrangler
├── _headers                # إعدادات رؤوس HTTP لـ Cloudflare Pages
├── .github/
│   └── workflows/
│       └── deploy.yml      # إعدادات النشر عبر GitHub Actions
├── README.md              # وثيقة شرح المشروع
└── package.json           # ملف إعدادات المشروع
```

## 🚀 البداية السريعة

### الطريقة الأولى: التشغيل محليًا

1. **استنساخ المشروع**
   ```bash
   git clone <repository-url>
   cd clash
   ```

2. **تشغيل الخادم المحلي**
   ```bash
   # باستخدام Python
   python -m http.server 8000
   
   # أو باستخدام Node.js
   npx serve .
   ```

3. **الوصول للتطبيق**
   - افتح المتصفح وادخل `http://localhost:8000`
   - ستظهر إعدادات تجريبية في بيئة التشغيل المحلية

### الطريقة الثانية: النشر عبر Cloudflare Workers

#### الخطوة 1: إنشاء Worker

1. انتقل إلى [Cloudflare Workers](https://workers.cloudflare.com/)
2. قم بالتسجيل/تسجيل الدخول إلى حساب Cloudflare
3. انقر على "Create a Worker"
4. انسخ كامل كود `worker.js` إلى المحرر
5. انقر على "Save and Deploy"

#### الخطوة 2: النشر باستخدام Wrangler CLI

```bash
# تثبيت Wrangler CLI
npm install -g wrangler

# تسجيل الدخول إلى Cloudflare
wrangler login

# نشر Worker
npm run deploy:worker
```

#### الخطوة 3: إعداد اسم النطاق (اختياري)

1. أضف اسم نطاق مخصص من إعدادات Worker
2. أو استخدم اسم النطاق الافتراضي المقدم من Cloudflare

### الطريقة الثالثة: النشر عبر Cloudflare Pages

#### الخيار A: التكامل مع GitHub (موصى به)

1. **تحضير المستودع**
   - ادفع الكود إلى مستودع GitHub
   - تأكد من احتواءه على جميع الملفات الضرورية
2. **إنشاء مشروع Pages**
   - قم بزيارة [Cloudflare Pages](https://pages.cloudflare.com/)
   - اربط مستودع GitHub الخاص بك
   - اختر مستودع المشروع

3. **إعدادات البناء**
   - أمر البناء: اتركه فارغًا أو `echo "No build required"`
   - دليل ناتج البناء: `/` (الدليل الجذري)
   - متغيرات البيئة: لا حاجة للإعداد

#### الخيار B: الرفع المباشر

```bash
# النشر باستخدام Wrangler Pages
npm run deploy:pages
```

## 🛠️ البنية التقنية

### حزمة تقنيات الواجهة الأمامية
- **HTML5** - لغة ترميز حديثة
- **CSS3** - تصميم متجاوب وتأثيرات حركية
- **Vanilla JavaScript** - تفاعل أمامي خفيف الوزن

### حزمة تقنيات الواجهة الخلفية
- **Cloudflare Workers** - منصة حوسبة على الحافة
- **Web APIs** - Fetch API القياسي ومعالجة الاستجابة

### صيغ البروتوكولات المدعومة
- **VMess** - بروتوكول V2Ray القياسي
- **VLESS** - بروتوكول V2Ray الخفيف (يدعم Reality)
- **Shadowsocks** - بروتوكول البروكسي الكلاسيكي
- **Trojan** - بروتوكول بروكسي حديث

### نقاط نهاية API
- `GET /` - الصفحة الرئيسية
- `POST /convert` - API لتحويل الاشتراك
- `GET /clash/{config-id}` - الحصول على ملف إعداد YAML (رابط الاشتراك)
- `GET /yaml/{config-id}` - تحميل ملف إعداد YAML
- `OPTIONS /*` - طلبات فحص CORS المسبقة

## 📖 دليل الاستخدام

### الاستخدام الأساسي

1. **إدخال رابط الاشتراك**
   - الصق رابط اشتراك البروكسي الخاص بك في حقل الإدخال
   - يدعم روابط الاشتراك المشفرة بـ Base64

2. **تعيين اسم التكوين**
   - يمكنك اختيار تعيين اسم مخصص لملف الإعداد
   - الافتراضي هو "My Clash Config"

3. **تحويل الإعداد**
   - اضغط على زر "تحويل الاشتراك"
   - انتظر حتى يكتمل التحويل

4. **استخدام الإعداد**
   - انسخ إعداد YAML الناتج
   - استورده في عميل Clash للاستخدام

5. **استخدام رابط الاشتراك (موصى به)**
   - انسخ رابط الاشتراك الناتج
   - أضف الاشتراك في عميل Clash
   - تتم مزامنة الإعداد تلقائيًا، دون الحاجة للتحديث اليدوي

### إعدادات متقدمة

يتضمن إعداد Clash المُنتج الميزات التالية:

- **سياسة مجموعات البروكسي**
  - 🚀 اختيار العقدة - اختيار البروكسي يدويًا
  - ♻️ اختيار تلقائي - اختبار التأخير والاختيار التلقائي
  - 🎯 اتصال عالمي مباشر - اتصال مباشر

- **إعداد DNS**
  - تمكين تحليل DNS
  - يدعم وضع fake-ip
  - تقسيم DNS بين المحلي والدولي

- **قواعد التوجيه**
  - الاتصال المباشر للعناوين المحلية
  - الاتصال المباشر لعناوين IP المحلية
  - توجيه باقي الحركة عبر البروكسي

## 🔧 استكشاف أخطاء النشر وإصلاحها

### المشكلات الشائعة

#### 1. لم يتم العثور على نقطة دخول Wrangler
**رسالة الخطأ**: `Missing entry-point to Worker script`

**الحل**: 
- تأكد من وجود ملف `wrangler.jsonc` في الدليل الجذري للمشروع
- تحقق أن الحقل `main` في `wrangler.jsonc` يشير إلى `worker.js`

#### 2. فشل النشر عبر GitHub Actions
**الحل**:
- أضف الأسرار (Secrets) التالية في إعدادات مستودع GitHub:
  - `CLOUDFLARE_API_TOKEN`: رمز Cloudflare API
  - `CLOUDFLARE_ACCOUNT_ID`: معرّف حساب Cloudflare

#### 3. فشل بناء Pages
**الحل**:
- اجعل أمر البناء فارغًا أو `echo "No build required"`
- تأكد من أن دليل إخراج البناء مضبوط على `/`

### شرح ملفات إعداد النشر

- **`wrangler.jsonc`**: إعداد أداة Wrangler CLI لنشر Worker
- **`_headers`**: إعداد رؤوس HTTP لـ Cloudflare Pages
- **`.github/workflows/deploy.yml`**: إعداد النشر التلقائي عبر GitHub Actions

## 🔧 إعدادات مخصصة

### تعديل مجموعة البروكسي

يمكنك تعديل دالة `convertToClash` في ملف `worker.js` لتخصيص مجموعات البروكسي:

```javascript
'proxy-groups': [
  {
    name: '🚀 اختيار العقدة',
    type: 'select',
    proxies: ['♻️ اختيار تلقائي', '🎯 اتصال عالمي مباشر', ...proxyNames]
  },
  // أضف المزيد من مجموعات البروكسي...
]
```

### تخصيص قواعد التوجيه

قم بتعديل مصفوفة `rules` لإضافة قواعد توجيه مخصصة:

```javascript
rules: [
  'DOMAIN-SUFFIX,youtube.com,🚀 اختيار العقدة',
  'DOMAIN-SUFFIX,local,DIRECT',
  // أضف المزيد من القواعد...
]
```

## 📊 ميزات الأداء

- **شبكة CDN عالمية** - نقاط اتصال Cloudflare منتشرة حول العالم
- **استجابة سريعة** - متوسط زمن الاستجابة < 100 مللي ثانية
- **توافرية عالية** - توافرية الخدمة 99.9%
- **حصة مجانية** - 100,000 طلب يوميًا مجانًا

## 🔒 ملاحظات الأمان

- **خصوصية البيانات** - بيانات الاشتراك تُستخدم فقط أثناء التحويل ولا يتم تخزينها
- **تشفير HTTPS** - جميع الاتصالات مشفرة عبر HTTPS
- **شفافية المصدر المفتوح** - الشيفرة المصدرية كاملة ومفتوحة للمراجعة الذاتية

## 🤝 دليل المساهمة

نرحب بإرسال Issues و Pull Requests!

1. قم بعمل Fork لهذا المستودع
2. أنشئ فرعًا للميزة (`git checkout -b feature/AmazingFeature`)
3. أضف التعديلات (`git commit -m 'Add some AmazingFeature'`)
4. ادفع الفرع (`git push origin feature/AmazingFeature`)
5. أنشئ Pull Request

## 📝 سجل التحديثات

### v1.1.0
- ✅ إضافة دعم بروتوكول VLESS (بما في ذلك نقل Reality الآمن)
- ✅ تحسين توافق البروتوكولات

### v1.0.0
- ✅ وظيفة تحويل الاشتراك الأساسية
- ✅ واجهة مستخدم جميلة
- ✅ دعم Cloudflare Workers
- ✅ دعم بروتوكولات متعددة (VMess، Shadowsocks، Trojan)
- ✅ تصميم متجاوب
- ✅ وظيفة النسخ بنقرة واحدة

## 📞 الدعم والتغذية الراجعة

إذا واجهت مشاكل أثناء الاستخدام أو لديك اقتراحات، يرجى:

1. مراجعة وثيقة README هذه
2. إرسال [Issue](../../issues)
3. بدء [Discussion](../../discussions)

## 📄 الرخصة

هذا المشروع مرخص بموجب رخصة MIT - راجع ملف [LICENSE](LICENSE) للمزيد

## 🙏 الشكر والتقدير

- [Cloudflare Workers](https://workers.cloudflare.com/) - منصة الحوسبة الطرفية
- [Clash](https://github.com/Dreamacro/clash) - عميل البروكسي المميز
- شكرًا لجميع المساهمين والمستخدمين على الدعم

---
⭐ إذا كان هذا المشروع قد أفادك، يرجى منحه نجمة!

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-08

---