تسریع CDN و حفاظت امنیتی این پروژه توسط Tencent EdgeOne حمایت می‌شود.

[![image](https://github.com/user-attachments/assets/059fed87-d415-41b0-a575-2423bf2d77e2)](https://edgeone.ai/?from=github)

نویسنده این پروژه colin1114 است.

# 🚀 تبدیل‌گر اشتراک Clash

یک ابزار آنلاین زیبا و قدرتمند برای تبدیل انواع لینک‌های اشتراک پروکسی به فرمت پیکربندی Clash. پشتیبانی از استقرار خودکار از طریق Cloudflare Workers & Pages، ارائه سرویس تبدیل اشتراک سریع و قابل اعتماد.

## ✨ ویژگی‌ها

- 🎨 **رابط کاربری مدرن و زیبا** - با پس‌زمینه گرادیانی و طراحی کارت‌محور
- 🔄 **پشتیبانی از چندین پروتکل** - پشتیبانی از پروتکل‌های اصلی مانند V2Ray، VLESS، Shadowsocks، Trojan و غیره
- ☁️ **استقرار ابری** - تسریع جهانی CDN با استفاده از Cloudflare Workers
- 📱 **طراحی واکنش‌گرا** - سازگاری کامل با دسکتاپ و موبایل
- ⚡ **تبدیل سریع** - تبدیل آنی لینک اشتراک به پیکربندی Clash
- 📋 **کپی هوشمند** - پشتیبانی از کپی با یک کلیک پیکربندی YAML تولید شده، سازگار با انواع مرورگرها
- 📡 **تولید لینک اشتراک** - تولید خودکار لینک اشتراکی که مستقیماً قابل وارد کردن در Clash است
- 🌐 **دسترسی آنلاین به YAML** - ارائه روش‌های مختلف دسترسی به فایل YAML:
  - 📡 لینک اشتراک: پشتیبانی از بروزرسانی خودکار کلاینت Clash
  - 🔗 مشاهده آنلاین: مشاهده مستقیم محتوا در مرورگر
  - 💾 دانلود فایل: دانلود فایل .yaml به صورت محلی
  - ⚡ دسترسی سریع: لینک دانلود ساده‌شده
- 🔧 **پشتیبانی UTF-8** - پشتیبانی کامل از نام و پیکربندی نودهای چینی
- 🆓 **کاملاً رایگان** - بر پایه سرویس رایگان Cloudflare، بدون هیچ محدودیتی در استفاده

## 📁 ساختار پروژه

```
clash/
├── index.html              # صفحه فرانت‌اند
├── worker.js               # کد بک‌اند Cloudflare Worker
├── wrangler.jsonc          # فایل پیکربندی Wrangler
├── _headers                # پیکربندی HTTP header برای Cloudflare Pages
├── .github/
│   └── workflows/
│       └── deploy.yml      # پیکربندی استقرار GitHub Actions
├── README.md              # مستندات توضیحات پروژه
└── package.json           # فایل پیکربندی پروژه
```

## 🚀 شروع سریع

### روش اول: اجرای محلی

1. **کلون پروژه**
   ```bash
   git clone <repository-url>
   cd clash
   ```

2. **راه‌اندازی سرور محلی**
   ```bash
   # با استفاده از Python
   python -m http.server 8000
   
   # یا با استفاده از Node.js
   npx serve .
   ```

3. **دسترسی به برنامه**
   - مرورگر را باز کنید و به `http://localhost:8000` بروید
   - در محیط محلی، پیکربندی نمونه نمایش داده می‌شود

### روش دوم: استقرار Cloudflare Workers

#### مرحله 1: ساخت Worker

1. به [Cloudflare Workers](https://workers.cloudflare.com/) مراجعه کنید
2. یک حساب کاربری Cloudflare بسازید/وارد شوید
3. روی "Create a Worker" کلیک کنید
4. کد موجود در `worker.js` را به طور کامل در ویرایشگر کپی کنید
5. روی "Save and Deploy" کلیک کنید

#### مرحله 2: استقرار با Wrangler CLI

```bash
# نصب Wrangler CLI
npm install -g wrangler

# ورود به حساب Cloudflare
wrangler login

# استقرار Worker
npm run deploy:worker
```

#### مرحله 3: پیکربندی دامنه (اختیاری)

1. افزودن دامنه دلخواه در تنظیمات Worker
2. یا استفاده از دامنه پیش‌فرض ارائه شده توسط Cloudflare

### روش سوم: استقرار Cloudflare Pages

#### گزینه A: اتصال به GitHub (توصیه شده)

1. **آماده‌سازی مخزن**
   - کد را به مخزن GitHub ارسال کنید
   - اطمینان حاصل کنید که همه فایل‌های مورد نیاز وجود دارند
2. **ایجاد پروژه Pages**
   - به [Cloudflare Pages](https://pages.cloudflare.com/) مراجعه کنید
   - مخزن GitHub خود را متصل کنید
   - مخزن پروژه را انتخاب کنید

3. **تنظیمات ساخت**
   - فرمان ساخت: خالی بگذارید یا `echo "No build required"`
   - پوشه خروجی ساخت: `/` (پوشه ریشه)
   - متغیرهای محیطی: نیازی به تنظیم نیست

#### گزینه B: آپلود مستقیم

```bash
# استفاده از Wrangler Pages برای استقرار
npm run deploy:pages
```

## 🛠️ معماری فنی

### تکنولوژی‌های سمت فرانت‌اند
- **HTML5** - زبان نشانه‌گذاری مدرن
- **CSS3** - طراحی واکنش‌گرا و افکت‌های انیمیشن
- **Vanilla JavaScript** - تعاملات فرانت‌اند سبک

### تکنولوژی‌های سمت بک‌اند
- **Cloudflare Workers** - پلتفرم محاسباتی لبه
- **Web APIs** - Fetch API استاندارد و مدیریت پاسخ

### فرمت‌های پروتکل پشتیبانی‌شده
- **VMess** - پروتکل استاندارد V2Ray
- **VLESS** - پروتکل سبک V2Ray (پشتیبانی از Reality)
- **Shadowsocks** - پروتکل پراکسی کلاسیک
- **Trojan** - پروتکل پراکسی نوین

### نقاط پایانی API
- `GET /` - صفحه اصلی
- `POST /convert` - API تبدیل اشتراک
- `GET /clash/{config-id}` - دریافت فایل پیکربندی YAML (لینک اشتراک)
- `GET /yaml/{config-id}` - دانلود فایل پیکربندی YAML
- `OPTIONS /*` - درخواست پیش‌بررسی CORS

## 📖 راهنمای استفاده

### استفاده پایه

1. **وارد کردن لینک اشتراک**
   - لینک اشتراک پراکسی خود را در کادر ورودی قرار دهید
   - پشتیبانی از لینک اشتراک با رمزگذاری Base64

2. **تنظیم نام پیکربندی**
   - به صورت اختیاری می‌توانید نام سفارشی برای فایل پیکربندی تعیین کنید
   - پیش‌فرض: "My Clash Config"

3. **تبدیل پیکربندی**
   - روی دکمه "تبدیل اشتراک" کلیک کنید
   - منتظر بمانید تا تبدیل کامل شود

4. **استفاده از پیکربندی**
   - فایل پیکربندی YAML تولید شده را کپی کنید
   - آن را در کلاینت Clash وارد نمایید

5. **استفاده از لینک اشتراک (توصیه‌شده)**
   - لینک اشتراک تولید شده را کپی کنید
   - آن را در کلاینت Clash اضافه نمایید
   - پیکربندی به صورت خودکار همگام می‌شود و نیازی به بروزرسانی دستی نیست

### پیکربندی پیشرفته

پیکربندی Clash تولید شده شامل ویژگی‌های زیر است:

- **سیاست‌های گروه پراکسی**
  - 🚀 انتخاب نود - انتخاب پراکسی به صورت دستی
  - ♻️ انتخاب خودکار - انتخاب خودکار بر اساس تست تاخیر
  - 🎯 اتصال مستقیم جهانی - ارتباط مستقیم

- **پیکربندی DNS**
  - فعال‌سازی解析 DNS
  - پشتیبانی از حالت fake-ip
  - تفکیک DNS داخلی و خارجی

- **قوانین مسیریابی**
  - آدرس‌های محلی به صورت مستقیم متصل می‌شوند
  - آی‌پی‌های داخلی به صورت مستقیم متصل می‌شوند
  - سایر ترافیک‌ها از طریق پراکسی عبور می‌کنند

## 🔧 عیب‌یابی استقرار

### مشکلات رایج

#### 1. Wrangler نقطه ورود را پیدا نمی‌کند
**پیام خطا**: `Missing entry-point to Worker script`

**راه حل**: 
- اطمینان حاصل کنید فایل `wrangler.jsonc` در پوشه ریشه پروژه وجود دارد
- بررسی کنید که فیلد `main` در `wrangler.jsonc` به `worker.js` اشاره کند

#### 2. شکست استقرار GitHub Actions
**راه حل**:
- موارد زیر را به عنوان Secrets در تنظیمات مخزن GitHub اضافه کنید:
  - `CLOUDFLARE_API_TOKEN`: توکن API کلودفلر
  - `CLOUDFLARE_ACCOUNT_ID`: شناسه حساب کلودفلر

#### 3. خطای ساخت Pages
**راه‌حل**:
- فرمان ساخت را خالی بگذارید یا از `echo "No build required"` استفاده کنید
- مطمئن شوید که مسیر خروجی ساخت روی `/` تنظیم شده باشد

### توضیحات فایل‌های پیکربندی استقرار

- **`wrangler.jsonc`**: پیکربندی Wrangler CLI برای استقرار Worker
- **`_headers`**: پیکربندی هدرهای HTTP برای Cloudflare Pages
- **`.github/workflows/deploy.yml`**: پیکربندی استقرار خودکار با GitHub Actions

## 🔧 پیکربندی سفارشی

### ویرایش گروه‌های پراکسی

می‌توانید تابع `convertToClash` را در `worker.js` ویرایش کنید تا گروه‌های پراکسی را سفارشی‌سازی کنید:

```javascript
'proxy-groups': [
  {
    name: '🚀 انتخاب نود',
    type: 'select',
    proxies: ['♻️ انتخاب خودکار', '🎯 اتصال مستقیم جهانی', ...proxyNames]
  },
  // افزودن گروه‌های پراکسی بیشتر...
]
```

### قوانین مسیریابی سفارشی

آرایه `rules` را ویرایش کنید تا قوانین مسیریابی سفارشی اضافه کنید:

```javascript
rules: [
  'DOMAIN-SUFFIX,youtube.com,🚀 انتخاب نود',
  'DOMAIN-SUFFIX,local,DIRECT',
  // افزودن قوانین بیشتر...
]
```

## 📊 ویژگی‌های عملکردی

- **CDN جهانی** - پوشش نقاط لبه کلودفلر در سراسر جهان
- **پاسخ سریع** - میانگین زمان پاسخ < ۱۰۰ میلی‌ثانیه
- **دسترس‌پذیری بالا** - ۹۹.۹٪ دسترس‌پذیری سرویس
- **سهمیه رایگان** - ۱۰۰,۰۰۰ درخواست در روز

## 🔒 توضیحات امنیتی

- **حریم خصوصی داده‌ها** - داده‌های اشتراک فقط در فرآیند تبدیل استفاده شده و ذخیره نمی‌شوند
- **رمزنگاری HTTPS** - تمام ارتباطات از طریق HTTPS رمزنگاری می‌شوند
- **متن‌باز و شفاف** - کد منبع کامل منتشر شده و قابل بررسی است

## 🤝 راهنمای مشارکت

ارسال Issue و Pull Request خوش‌آمد است!

1. مخزن را Fork کنید
2. یک شاخه ویژگی بسازید (`git checkout -b feature/AmazingFeature`)
3. تغییرات را ثبت کنید (`git commit -m 'Add some AmazingFeature'`)
4. به شاخه ارسال کنید (`git push origin feature/AmazingFeature`)
5. یک Pull Request باز کنید

## 📝 تاریخچه به‌روزرسانی

### v1.1.0
- ✅ پشتیبانی از پروتکل VLESS (شامل انتقال امن Reality)
- ✅ بهبود سازگاری پروتکل‌ها

### v1.0.0
- ✅ تبدیل پایه اشتراک
- ✅ رابط کاربری زیبا
- ✅ پشتیبانی از Cloudflare Workers
- ✅ پشتیبانی چند پروتکلی (VMess، Shadowsocks، Trojan)
- ✅ طراحی واکنش‌گرا
- ✅ قابلیت کپی با یک کلیک

## 📞 پشتیبانی و بازخورد

در صورت بروز مشکل یا داشتن پیشنهاد:

1. این README را مطالعه کنید
2. یک [Issue](../../issues) ثبت کنید
3. یک [Discussion](../../discussions) آغاز کنید

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است - جزئیات در فایل [LICENSE](LICENSE)

## 🙏 تقدیر و تشکر

- [Cloudflare Workers](https://workers.cloudflare.com/) - پلتفرم محاسبات لبه‌ای
- [Clash](https://github.com/Dreamacro/clash) - کلاینت پراکسی عالی
- همه مشارکت‌کنندگان و کاربران برای حمایتشان

---
⭐ اگر این پروژه برای شما مفید بوده است، لطفاً به آن یک ستاره بدهید!

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-08

---