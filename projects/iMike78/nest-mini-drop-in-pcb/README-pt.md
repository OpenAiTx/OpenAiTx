
<div align="right">
  <details>
    <summary >üåê Idioma</summary>
    <div>
      <div align="center">
        <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=en">English</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=zh-TW">ÁπÅÈ´î‰∏≠Êñá</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=ja">Êó•Êú¨Ë™û</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=ko">ÌïúÍµ≠Ïñ¥</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=th">‡πÑ‡∏ó‡∏¢</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=fr">Fran√ßais</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=de">Deutsch</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=es">Espa√±ol</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=it">Italiano</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=ru">–†—É—Å—Å–∫–∏–π</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=pt">Portugu√™s</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=nl">Nederlands</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=pl">Polski</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=fa">ŸÅÿßÿ±ÿ≥€å</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=tr">T√ºrk√ße</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=vi">Ti·∫øng Vi·ªát</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=id">Bahasa Indonesia</a>
        | <a href="https://openaitx.github.io/view.html?user=iMike78&project=nest-mini-drop-in-pcb&lang=as">‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ</
      </div>
    </div>
  </details>

</div>

# MiciMike substitui√ß√£o drop-in da PCB para Google Nest Mini

[MiciMike Nest Mini](https://github.com/iMike78/nest-mini-drop-in-pcb) √© uma substitui√ß√£o drop-in da placa PCB para o ["Google Nest Mini" (a segunda gera√ß√£o do alto-falante inteligente da Google com conector de carregamento tipo barril)](https://en.wikipedia.org/wiki/Google_Nest_(smart_speakers)), mas baseada em microcontroladores ESP32 e XMOS para execu√ß√£o de firmware de c√≥digo aberto.

<img src="https://raw.githubusercontent.com/iMike78/nest-mini-drop-in-pcb/main/pics/MiciMike_Nest__PCB_Prototype_1.png" width="1000">

Dica! Se voc√™ est√° procurando uma substitui√ß√£o drop-in semelhante da PCB para o "Google Home Mini" (primeira gera√ß√£o do alto-falante inteligente da Google com porta de carregamento Micro-USB), confira o projeto irm√£o em https://github.com/iMike78/home-mini-v1-drop-in-pcb

Ambos s√£o projetos totalmente de hardware open-source, inspirando-se em alguns conceitos do [Onju Voice](https://github.com/justLV/onju-voice), mas buscando seguir o [padr√£o de assistentes de voz abertos da Open Home Foundation com o Home Assistant Voice Preview Edition como refer√™ncia](https://www.home-assistant.io/blog/2024/12/19/voice-preview-edition-the-era-of-open-voice/) para desenhos e especifica√ß√µes de PCB.

# Escopo do projeto

O objetivo deste projeto e reposit√≥rio (semelhante ao [Onju Voice](https://github.com/justLV/onju-voice), mas sob uma licen√ßa totalmente open-source de hardware) √© projetar uma PCB (Placa de Circuito Impresso) de substitui√ß√£o direta com esquem√°ticos de hardware que qualquer pessoa pode fabricar/montar ou encomendar de um fabricante de PCB como uma substitui√ß√£o personalizada para o Google Nest Mini (2¬™ gera√ß√£o).

O foco principal s√£o pessoas que desejam converter/reutilizar seus antigos alto-falantes inteligentes Google Nest Mini em hardware open-source para [Controle de Voz do Home Assistant](https://www.home-assistant.io/voice_control/) e/ou sa√≠da de alto-falante para [Music Assistant](https://www.music-assistant.io), (o hardware, no entanto, pode provavelmente ser usado com outros aplicativos tamb√©m com outros firmwares, pois √© baseado na popular plataforma Espressif ESP32).

<img src="https://raw.githubusercontent.com/iMike78/nest-mini-drop-in-pcb/main/pics/MiciMike_Nest__PCB_Prototype_2.png" width="1000">

O projeto de hardware ir√° (similar ao [Home Assistant Voice Preview Edition](https://www.home-assistant.io/blog/2024/12/19/voice-preview-edition-the-era-of-open-voice/)) integrar um ESP32-S3 SoC para WiFi, BLE e [detec√ß√£o de palavra-chave embarcada](https://www.home-assistant.io/voice_control/about_wake_word/) (usando firmware sem c√≥digo [ESPHome](https://esphome.io/)) + um chip XMOS xCORE XU316 para processamento avan√ßado de √°udio (com firmware personalizado para limpeza de microfone, melhorando capacidades de reconhecimento de voz ao utilizar algoritmos locais para Supress√£o de Ru√≠do, Cancelamento de Eco Ac√∫stico, Cancelamento de Interfer√™ncia e Controle Autom√°tico de Ganho).

Em termos de funcionalidade, foi feito para ser principalmente compat√≠vel em hardware com o [Home Assistant Voice Preview Edition (tamb√©m conhecido como Home Assistant Voice PE](https://www.home-assistant.io/blog/2024/12/19/voice-preview-edition-the-era-of-open-voice/) design de refer√™ncia (que foi lan√ßado como hardware open-source pela Open Home Foundation em colabora√ß√£o com a Nabu Casa). A principal diferen√ßa ser√° devido √†s restri√ß√µes definidas pelo gabinete e componentes do Google Nest Mini, (ou seja, o projeto nest-mini-drop-in-pcb ter√° limita√ß√µes pelos mesmos tipos de entradas de capacidade f√≠sica do hardware original do Google).

Assim, o escopo deste projeto/reposit√≥rio n√£o √© desenvolver novos recursos/fun√ß√µes para o firmware ESPHome; caso deseje isso, deve buscar o desenvolvimento de firmware do Home Assistant Voice Preview Edition e tamb√©m o c√≥digo principal do ESPHome:

- https://github.com/esphome/home-assistant-voice-pe
  - https://github.com/esphome/esphome
      - https://github.com/esphome/feature-requests

## Pedido de colabora√ß√£o

Se voc√™ possui experi√™ncia com layout de PCB, (especialmente com roteamento, preenchimento de terra ou layouts digitais+anal√≥gicos sens√≠veis a ru√≠do), **sua ajuda √© muito apreciada**! Sinta-se livre para abrir uma nova issue, enviar sugest√µes/solicita√ß√µes, adicionar coment√°rios/feedback em issues existentes ou fazer fork deste reposit√≥rio.

Para mais informa√ß√µes sobre o conceito/ideia, veja e contribua na discuss√£o relacionada tamb√©m neste t√≥pico do f√≥rum da comunidade Home Assistant:

- https://community.home-assistant.io/t/any-news-on-alternative-to-onju-voice-pcb-repacement-design-for-google-nest-home-mini-speakers-with-added-xmos-chip-to-match-official-home-assistant-voice-preview-edition-reference-hardware/860001/

### Status atual

- ‚úÖ Esquem√°tico conclu√≠do
- ‚úÖ Posicionamento de componentes feito
- ‚úÖ Roteamento feito
- ‚úÖ Preenchimento de terra, estrat√©gia de blindagem e considera√ß√µes de EMI feitos
- ‚ö†Ô∏è 1¬∫ lote de teste falhou em dois erros - corrigido
- üïì aguardando o 2¬∫ lote de teste

<img src="https://raw.githubusercontent.com/iMike78/nest-mini-drop-in-pcb/main/pics/3D.png" width="1000">

## Ferramentas utilizadas

- üõ†Ô∏è KiCad 9
- üß∞ SnapEDA / LCSC para obten√ß√£o de footprints

## Especifica√ß√µes conhecidas do hardware

- PCB de 4 camadas
- Chip nu ESP32-S3R8 (ESP32-S3 para Wi-Fi, BLE e detec√ß√£o de palavra-chave embarcada)
- XMOS XU316-1024-QF60B-C24 (processamento de √°udio DSP xCORE XMOS XU316)
- Flash SPI dupla (pois ESP32 e XMOS possuem seus pr√≥prios flashes SPI)
- Barramentos I¬≤S duplos (para permitir interfaces I2S ao mesmo tempo, ou seja, sa√≠da e entrada de √°udio simult√¢neas)
- MAX98357 para sa√≠da de alto-falante (Amplificador de √Åudio Mono Classe-D I2S)
- 2x microfones MEMS (duplo MMICT390200012 com espa√ßamento entre microfones de 68 mm)
- 6x LEDs RGB SK6812
- Entrada personalizada USB-C e 14V (Aten√ß√£o! USB-C e conector barril n√£o podem ser conectados ao mesmo tempo)

---

> ‚ö†Ô∏è Grava√ß√£o via USB-C requer o desligamento da entrada principal de energia de 14V. Veja a observa√ß√£o na serigrafia da PCB para mais detalhes.

## Refer√™ncias

### Recursos da Home Assistant Voice Preview Edition incluindo arquivos de design de PCB
- https://www.home-assistant.io/blog/2024/12/19/voice-preview-edition-the-era-of-open-voice/
  - https://voice-pe.home-assistant.io/resources/
    - https://support.nabucasa.com/hc/en-us/articles/26195279589277-Home-Assistant-Voice-Preview-Edition-PCB-design-files
      - https://raw.githubusercontent.com/NabuCasa/support/refs/heads/main/static/docs/voice/home_assistant_voice_pe_schematic_v1.0_241009.pdf
     
#### Firmware ESPHome para Home Assistant Voice PE (que tamb√©m utiliza a mesma combina√ß√£o ESP32-S3 + XMOS XU316):

- https://github.com/esphome/home-assistant-voice-pe
  - https://esphome.github.io/home-assistant-voice-pe/
- https://voice-pe.home-assistant.io/

### Chip IC MCU XMOS xCORE DSP (XU316-1024-QF60B-C32)

- https://www.xmos.com/download/XU316-1024-QF60B-xcore.ai-Datasheet(3).pdf
- https://www.xmos.com/software-tools/
  - https://www.xmos.com/develop/xcore-voice
  - https://www.xmos.com/usb-multichannel-audio/
  - https://www.xmos.com/xcore-ai
 
#### Firmware XMOS do projeto ESPHome para o hardware Home Assistant Voice Preview Edition:

- https://github.com/esphome/voice-kit-xmos-firmware
  - https://github.com/esphome/xmos_fwk_rtos
  - https://github.com/esphome/xmos_fwk_io

## Licen√ßa

Este projeto est√° licenciado sob a [Licen√ßa CERN Open Hardware Vers√£o 2 - Fortemente Rec√≠proca (CERN-OHL-S v2)]
Qualquer vers√£o modificada deste hardware tamb√©m deve ser distribu√≠da sob a mesma licen√ßa.

‚òï Se voc√™ quiser apoiar este projeto, sinta-se √† vontade para [me pagar um caf√© no Ko-fi](https://ko-fi.com/imike78)!



---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2026-01-03

---