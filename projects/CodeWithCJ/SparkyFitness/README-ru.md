# SparkyFitness - Самостоятельно размещаемая альтернатива MyFitnessPal

SparkyFitness — это комплексное приложение для отслеживания и управления фитнесом, разработанное для помощи пользователям в мониторинге питания, упражнений и параметров тела. Оно предоставляет инструменты для ежедневного отслеживания прогресса, постановки целей и информативных отчетов для поддержки здорового образа жизни.

## ✨ Возможности

### 🍎 Отслеживание питания

* **Ведение журнала ежедневных приемов пищи**
* **Создание и управление пользовательскими продуктами и категориями**
* **Просмотр сводок и анализ тенденций с помощью интерактивных графиков**

### 💪 Ведение журнала упражнений

* **Запись тренировок**
* **Поиск и просмотр обширной базы данных упражнений**
* **Отслеживание прогресса в фитнесе с течением времени**

### 💧 Отслеживание потребления воды

* **Контроль ежедневных целей по гидратации**
* **Простое и быстрое добавление выпитой воды**

### 📏 Параметры тела

* **Запись параметров тела** (например, вес, талия, руки)
* **Добавление пользовательских типов измерений**
* **Визуализация прогресса с помощью графиков**

### 🎯 Постановка целей

* **Установка и управление целями по фитнесу и питанию**
* **Отслеживание прогресса с течением времени**

### 🗓️ Ежедневные отметки

* **Мониторинг ежедневной активности**
* **Поддержание регулярности с помощью отслеживания привычек**

### 🤖 AI-коуч по питанию (SparkyAI)

* **Ведение журнала питания, упражнений, параметров тела и шагов через чат**
* **Загрузка фото еды для автоматического добавления в журнал питания**
* **Включает историю чата и персональные рекомендации**

### 🔒 Аутентификация пользователей и профили

* **Безопасная система входа**
* **Переключение между пользовательскими профилями**
* **Поддержка семейного доступа и управления**

### 📊 Подробные отчеты

* **Генерация сводок по питанию и параметрам тела**
* **Отслеживание долгосрочных тенденций по неделям и месяцам**

### 🎨 Настраиваемые темы

* **Переключение между светлым и темным режимом**
* **Минималистичный интерфейс без отвлекающих элементов**

### Нужна помощь?
* **Присоединяйтесь к Discord**
  https://discord.gg/vcnMT5cPEA
* **Оставьте сообщение в обсуждении**


![image](https://github.com/user-attachments/assets/ccc7f34e-a663-405f-a4d4-a9888c3197bc)


## 🚀 Начало работы

Чтобы запустить приложение SparkyFitness на своем компьютере, выполните следующие шаги:

### Необходимые условия

*   **Проект Supabase**: Вам потребуется настроенный проект Supabase.
    *   **Создайте новый проект в Supabase**: Перейдите на [Supabase](https://app.supabase.com/) и создайте новый проект. (Вы также можете попробовать настроить локальный проект Supabase, если предпочитаете.)
    *   Получите URL вашего проекта Supabase и Anon Key в настройках проекта (раздел API).
    *   **Важное примечание по аутентификации Supabase:** Обновите настройки URL конфигурации в разделе аутентификации Supabase в соответствии с вашим доменом. Это важно для корректной работы домена и получения email-приглашений для регистрации. Supabase предлагает расширенные функции безопасности и варианты SSO от сторонних провайдеров; настройте их в соответствии с потребностями вашего проекта.
    *   Автоматизированное развертывание БД в Supabase не работает по IPV4, если у вас бесплатная версия Supabase. Поэтому необходимо настроить сеть на использование соединения по IPV6. В противном случае миграция БД завершится ошибкой, и потребуется вручную выполнять развертывание.       


    

### Установка

1.  **Настройте переменные окружения:**
    Создайте файл `.env` в приватной папке. Если вы используете Portainer, создайте его прямо там. 
    Добавьте свои учетные данные Supabase:
    ```
    VITE_SUPABASE_URL="YOUR_SUPABASE_PROJECT_URL"
    VITE_SUPABASE_ANON_KEY="YOUR_SUPABASE_ANON_KEY"
    SUPABASE_PROJECT_REF="YOUR_SUPABASE_PROJECT_REF"    
    ```

2.  **Запуск через Docker Compose:**
    Загрузите образы Docker и запустите сервисы:
    ```sh
```markdown
    docker compose pull
    docker compose up -d
    ```

3.  **Доступ к приложению:**
    После запуска всех сервисов откройте SparkyFitness в вашем веб-браузере по адресу:
    ```
    http://localhost:3000
    ```

4.  **AI-чатбот — необязательная конфигурация:**
    Чтобы включить полную функциональность AI-чатбота, включая безопасное хранение API-ключа и доступ к базе данных, выполните следующие шаги:

    *   **Настройте `AI_API_ENCRYPTION_KEY`:** Сгенерируйте секрет в "Supabase -> Edge Functions" -> "Environment Variables". Этот ключ используется для шифрования ваших AI-ключей при их хранении в Supabase.

    *   **Сгенерируйте `SUPABASE_ACCESS_TOKEN`:**
        1.  Откройте консоль Docker.
        2.  Выполните команду `supabase login` и выполните аутентификацию по предоставленной ссылке.
        3.  Получите токен доступа, выполнив команду `cat ~/.supabase/access-token`.
        4.  Обновите ваш `docker-compose.yml` или конфигурацию Portainer этим токеном для повторного развертывания.
        5.  После повторного развертывания войдите в SparkyFitness и настройте AI-сервис с вашим выбранным провайдером.
     

### Ручное развертывание БД и функций в Supabase
**Метод 1:  
**Если у вас не включено соединение по IPV6, миграция БД завершится неудачно, так как бесплатная версия Supabase не поддерживает прямое подключение по IPV4.

   1. Скачайте последнюю версию и распакуйте на свой ПК.
   2. Перейдите в папку проекта. Docker должен быть запущен.
   3. Выполните нижеуказанные команды. (развёртывание функций нужно только для настройки AI. Если чат-бот не нужен, этот шаг можно пропустить)
``
      supabase login  
      supabase link  
      supabase db push  
      supabase functions deploy chat   
``
Повторно выполните Docker compose. Front end-приложение запустится.

**Метод 2:  
   1. Скачайте последнюю версию и распакуйте на свой ПК.  
   2. Перейдите в папку проекта.  
   3. Перейдите в supabase/migrations. Скопируйте SQL-запросы и выполните их по очереди в Supabase-->Project-->SQL Editor в порядке ASC.  
   4. [Необязательно] То же самое для supabase/functions/chat, если вам нужен AI-чатбот. Скопируйте index.js и выполните его в Supabase-->Project-->Edge Function-->Deploy new function.  
```

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-04

---