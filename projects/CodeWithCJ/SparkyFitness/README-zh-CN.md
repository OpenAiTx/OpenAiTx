# SparkyFitness - MyFitnessPal çš„è‡ªæ‰˜ç®¡æ›¿ä»£æ–¹æ¡ˆ

SparkyFitness æ˜¯ä¸€æ¬¾å…¨é¢çš„å¥èº«è¿½è¸ªä¸ç®¡ç†åº”ç”¨ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·ç›‘æ§è¥å…»ã€é”»ç‚¼å’Œèº«ä½“æ•°æ®ã€‚å®ƒæä¾›æ¯æ—¥è¿›åº¦è¿½è¸ªã€ç›®æ ‡è®¾å®šå’Œæ´å¯ŸæŠ¥å‘Šç­‰å·¥å…·ï¼ŒåŠ©åŠ›å¥åº·ç”Ÿæ´»æ–¹å¼ã€‚


## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ è¥å…»è¿½è¸ª

* **è®°å½•æ¯æ—¥é¤é£Ÿ**
* **åˆ›å»ºå’Œç®¡ç†è‡ªå®šä¹‰é£Ÿç‰©ä¸ç±»åˆ«**
* **é€šè¿‡äº¤äº’å¼å›¾è¡¨æŸ¥çœ‹æ±‡æ€»å¹¶åˆ†æè¶‹åŠ¿**

### ğŸ’ª è¿åŠ¨è®°å½•

* **è®°å½•é”»ç‚¼å†…å®¹**
* **æµè§ˆå’Œæœç´¢å…¨é¢çš„è¿åŠ¨æ•°æ®åº“**
* **è¿½è¸ªå¥èº«è¿›å±•**

### ğŸ’§ é¥®æ°´ç›‘æ§

* **è¿½è¸ªæ¯æ—¥é¥®æ°´ç›®æ ‡**
* **å¿«é€Ÿç®€å•çš„é¥®æ°´è®°å½•**

### ğŸ“ èº«ä½“æ•°æ®æµ‹é‡

* **è®°å½•èº«ä½“æŒ‡æ ‡**ï¼ˆå¦‚ä½“é‡ã€è…°å›´ã€æ‰‹è‡‚ç­‰ï¼‰
* **æ·»åŠ è‡ªå®šä¹‰æµ‹é‡ç±»å‹**
* **é€šè¿‡å›¾è¡¨å¯è§†åŒ–è¿›å±•**

### ğŸ¯ ç›®æ ‡è®¾å®š

* **è®¾å®šå’Œç®¡ç†å¥èº«åŠè¥å…»ç›®æ ‡**
* **éšæ—¶é—´è¿½è¸ªè¿›å±•**

### ğŸ—“ï¸ æ¯æ—¥ç­¾åˆ°

* **ç›‘æµ‹æ¯æ—¥æ´»åŠ¨**
* **ä¿æŒä¹ æƒ¯è¿½è¸ªçš„ä¸€è‡´æ€§**

### ğŸ¤– AI è¥å…»æ•™ç»ƒï¼ˆSparkyAIï¼‰

* **é€šè¿‡èŠå¤©è®°å½•é£Ÿç‰©ã€è¿åŠ¨ã€èº«ä½“æ•°æ®å’Œæ­¥æ•°**
* **ä¸Šä¼ é£Ÿç‰©å›¾ç‰‡è‡ªåŠ¨è®°å½•é¤é£Ÿ**
* **åŒ…å«èŠå¤©è®°å½•å’Œä¸ªæ€§åŒ–æŒ‡å¯¼**

### ğŸ”’ ç”¨æˆ·è®¤è¯ä¸ä¸ªäººèµ„æ–™

* **å®‰å…¨çš„ç™»å½•ç³»ç»Ÿ**
* **åˆ‡æ¢ç”¨æˆ·æ¡£æ¡ˆ**
* **æ”¯æŒå®¶åº­è®¿é—®ä¸ç®¡ç†**

### ğŸ“Š ç»¼åˆæŠ¥å‘Š

* **ç”Ÿæˆè¥å…»å’Œèº«ä½“æ•°æ®çš„æ±‡æ€»**
* **æŒ‰å‘¨æˆ–æœˆè¿½è¸ªé•¿æœŸè¶‹åŠ¿**

### ğŸ¨ å¯è‡ªå®šä¹‰ä¸»é¢˜

* **åˆ‡æ¢æµ…è‰²/æ·±è‰²æ¨¡å¼**
* **é‡‡ç”¨æç®€ã€æ— å¹²æ‰°ç•Œé¢è®¾è®¡**

### éœ€è¦å¸®åŠ©ï¼Ÿ
* **åŠ å…¥ Discord**
  https://discord.gg/vcnMT5cPEA
* **åœ¨è®¨è®ºåŒºå‘å¸–**


![image](https://github.com/user-attachments/assets/ccc7f34e-a663-405f-a4d4-a9888c3197bc)


## ğŸš€ å¿«é€Ÿå¼€å§‹

è¦åœ¨æœ¬åœ°è¿è¡Œ SparkyFitness åº”ç”¨ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### å‰ç½®æ¡ä»¶

*   **Supabase é¡¹ç›®**ï¼šä½ éœ€è¦è®¾ç½®ä¸€ä¸ª Supabase é¡¹ç›®ã€‚
    *   **åœ¨ Supabase ä¸Šåˆ›å»ºæ–°é¡¹ç›®**ï¼šè®¿é—® [Supabase](https://app.supabase.com/) å¹¶åˆ›å»ºæ–°é¡¹ç›®ã€‚ï¼ˆå¦‚éœ€ï¼Œä¹Ÿå¯ä»¥å°è¯•æ­å»ºæœ¬åœ° Supabase é¡¹ç›®ã€‚ï¼‰
    *   ä»é¡¹ç›®è®¾ç½®ï¼ˆAPI éƒ¨åˆ†ï¼‰è·å–ä½ çš„ Supabase é¡¹ç›® URL å’Œ Anon Keyã€‚
    *   **Supabase è®¤è¯çš„é‡è¦è¯´æ˜ï¼š** è¯·åœ¨ Supabase è®¤è¯è®¾ç½®ä¸­æ›´æ–°ä½ çš„ URL é…ç½®ä»¥åŒ¹é…ä½ çš„åŸŸåã€‚è¿™å¯¹äºä½ çš„åŸŸåæ­£å¸¸å·¥ä½œå’Œæ¥æ”¶æ³¨å†Œé‚®ä»¶é‚€è¯·è‡³å…³é‡è¦ã€‚Supabase æä¾›ä¸°å¯Œçš„å®‰å…¨åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹ SSO é€‰é¡¹ï¼Œè¯·æ ¹æ®é¡¹ç›®éœ€æ±‚é…ç½®ã€‚
    *   å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Supabase å…è´¹ç‰ˆï¼Œè‡ªåŠ¨ DB éƒ¨ç½²åˆ° Supabase ä¸æ”¯æŒ IPV4ã€‚å› æ­¤ä½ éœ€è¦å°†ç½‘ç»œé…ç½®ä¸ºä½¿ç”¨ IPV6 è¿æ¥ï¼Œå¦åˆ™æ•°æ®åº“è¿ç§»å°†å¤±è´¥ï¼Œéœ€è¦æ‰‹åŠ¨éƒ¨ç½²ã€‚       


    

### å®‰è£…

1.  **é…ç½®ç¯å¢ƒå˜é‡ï¼š**
    åœ¨ private æ–‡ä»¶å¤¹ä¸‹åˆ›å»º `.env` æ–‡ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨ Portainerï¼Œå¯ç›´æ¥åœ¨å…¶ä¸­åˆ›å»ºã€‚
    æ·»åŠ ä½ çš„ Supabase å‡­æ®ï¼š
    ```
    VITE_SUPABASE_URL="YOUR_SUPABASE_PROJECT_URL"
    VITE_SUPABASE_ANON_KEY="YOUR_SUPABASE_ANON_KEY"
    SUPABASE_PROJECT_REF="YOUR_SUPABASE_PROJECT_REF"    
    ```

2.  **ä½¿ç”¨ Docker Compose è¿è¡Œï¼š**
    æ‹‰å– Docker é•œåƒå¹¶å¯åŠ¨æœåŠ¡ï¼š
    ```sh
```
docker compose pull
docker compose up -d
```

3.  **è®¿é—®åº”ç”¨ç¨‹åºï¼š**  
    ä¸€æ—¦æœåŠ¡å¯åŠ¨å¹¶è¿è¡Œï¼Œåœ¨æ‚¨çš„ç½‘é¡µæµè§ˆå™¨ä¸­è®¿é—® SparkyFitnessï¼Œåœ°å€ä¸ºï¼š  
    ```
    http://localhost:3000
    ```

4.  **AI èŠå¤©æœºå™¨äºº - å¯é€‰é…ç½®ï¼š**  
    å¦‚éœ€å¯ç”¨ AI èŠå¤©æœºå™¨äººçš„å…¨éƒ¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬å®‰å…¨çš„ API å¯†é’¥å­˜å‚¨å’Œæ•°æ®åº“è®¿é—®ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

    *   **é…ç½® `AI_API_ENCRYPTION_KEY`ï¼š** åœ¨ â€œSupabase -> Edge Functionsâ€ -> â€œEnvironment Variablesâ€ ä¸­ç”Ÿæˆä¸€ä¸ªå¯†é’¥ã€‚æ­¤å¯†é’¥ç”¨äºåœ¨ Supabase å†…éƒ¨å­˜å‚¨æ‚¨çš„ AI å¯†é’¥æ—¶è¿›è¡ŒåŠ å¯†ã€‚

    *   **ç”Ÿæˆ `SUPABASE_ACCESS_TOKEN`ï¼š**
        1.  è¿›å…¥æ‚¨çš„ Docker æ§åˆ¶å°ã€‚
        2.  è¿è¡Œ `supabase login` å¹¶ä½¿ç”¨æä¾›çš„ URL è¿›è¡Œèº«ä»½éªŒè¯ã€‚
        3.  é€šè¿‡è¿è¡Œ `cat ~/.supabase/access-token` è·å–è®¿é—®ä»¤ç‰Œã€‚
        4.  åœ¨ `docker-compose.yml` æˆ– Portainer é…ç½®ä¸­æ›´æ–°æ­¤ä»¤ç‰Œå¹¶é‡æ–°éƒ¨ç½²ã€‚
        5.  é‡æ–°éƒ¨ç½²åï¼Œç™»å½• SparkyFitness å¹¶åœ¨ AI æœåŠ¡é…ç½®ä¸­é€‰æ‹©æ‚¨çš„é¦–é€‰æä¾›å•†ã€‚
     

### æ‰‹åŠ¨éƒ¨ç½²æ•°æ®åº“å’Œå‡½æ•°åˆ° Supabase

**æ–¹æ³•ä¸€ï¼š**  
**å¦‚æœæ‚¨æ²¡æœ‰å¯ç”¨ IPV6 ç½‘ç»œè¿æ¥ï¼Œæ•°æ®åº“è¿ç§»å°†ä¼šå¤±è´¥ï¼Œå› ä¸º Supabase å…è´¹ç‰ˆä¸æ”¯æŒ IPV4 ç›´è¿ã€‚**

   1. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬å¹¶è§£å‹åˆ°æ‚¨çš„ç”µè„‘ã€‚
   2. è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ã€‚éœ€è¦ç¡®ä¿ Docker å·²å¯åŠ¨å¹¶è¿è¡Œã€‚
   3. è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚ï¼ˆfunctions deploy ä»…åœ¨éœ€è¦ AI é…ç½®æ—¶æ‰§è¡Œã€‚å¦‚æœä¸éœ€è¦ ChatBOTï¼Œå¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ï¼‰
``
      supabase login  
      supabase link  
      supabase db push  
      supabase functions deploy chat   
``
é‡æ–°è¿è¡Œ Docker composeã€‚å‰ç«¯åº”ç”¨å°†å¼€å§‹è¿è¡Œã€‚

**æ–¹æ³•äºŒï¼š**  
   1. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬å¹¶è§£å‹åˆ°æ‚¨çš„ç”µè„‘ã€‚  
   2. è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ã€‚  
   3. æ‰“å¼€ supabase/migrationsã€‚å¤åˆ¶ SQL è¯­å¥ï¼Œå¹¶åœ¨ Supabase-->Project-->SQL Editor ä¸­æŒ‰å‡åºé€æ¡æ‰§è¡Œã€‚  
   4. ã€å¯é€‰ã€‘å¦‚éœ€ AI ChatBOTï¼ŒåŒæ ·æ“ä½œ supabase/functions/chatã€‚å¤åˆ¶ index.js å¹¶åœ¨ Supabase-->Project-->Edge Function-->Deploy new function ä¸­è¿è¡Œã€‚  


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-04

---