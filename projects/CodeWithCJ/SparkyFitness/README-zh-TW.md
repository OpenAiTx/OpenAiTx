# SparkyFitness - MyFitnessPal çš„è‡ªæž¶æ›¿ä»£æ–¹æ¡ˆ

SparkyFitness æ˜¯ä¸€æ¬¾å…¨é¢çš„å¥èº«è¿½è¹¤èˆ‡ç®¡ç†æ‡‰ç”¨ç¨‹å¼ï¼Œè¨­è¨ˆç”¨æ–¼å”åŠ©ä½¿ç”¨è€…ç›£æŽ§å…¶ç‡Ÿé¤Šæ”å–ã€é‹å‹•åŠèº«é«”æ•¸æ“šã€‚å®ƒæä¾›æ¯æ—¥é€²åº¦è¿½è¹¤ã€ç›®æ¨™è¨­å®šåŠæ·±åº¦å ±å‘Šç­‰å·¥å…·ï¼Œä»¥æ”¯æŒå¥åº·çš„ç”Ÿæ´»æ–¹å¼ã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ðŸŽ ç‡Ÿé¤Šè¿½è¹¤

* **è¨˜éŒ„ä½ çš„æ¯æ—¥é¤é»ž**
* **å»ºç«‹åŠç®¡ç†è‡ªè¨‚é£Ÿç‰©èˆ‡åˆ†é¡ž**
* **é€éŽäº’å‹•åœ–è¡¨æª¢è¦–æ‘˜è¦ä¸¦åˆ†æžè¶¨å‹¢**

### ðŸ’ª é‹å‹•ç´€éŒ„

* **è¨˜éŒ„ä½ çš„é‹å‹•å…§å®¹**
* **ç€è¦½èˆ‡æœå°‹å®Œæ•´çš„é‹å‹•è³‡æ–™åº«**
* **è¿½è¹¤å¥èº«é€²å±•éš¨æ™‚é–“è®ŠåŒ–**

### ðŸ’§ é£²æ°´é‡ç›£æŽ§

* **è¿½è¹¤æ¯æ—¥é£²æ°´ç›®æ¨™**
* **ç°¡å–®å¿«é€Ÿçš„é£²æ°´ç´€éŒ„**

### ðŸ“ èº«é«”æ•¸æ“š

* **è¨˜éŒ„èº«é«”æŒ‡æ¨™**ï¼ˆä¾‹å¦‚é«”é‡ã€è…°åœã€æ‰‹è‡‚ç­‰ï¼‰
* **æ–°å¢žè‡ªè¨‚é‡æ¸¬é¡žåž‹**
* **é€éŽåœ–è¡¨è¦–è¦ºåŒ–é€²åº¦**

### ðŸŽ¯ ç›®æ¨™è¨­å®š

* **è¨­å®šèˆ‡ç®¡ç†å¥èº«åŠç‡Ÿé¤Šç›®æ¨™**
* **éš¨æ™‚é–“è¿½è¹¤é€²åº¦**

### ðŸ—“ï¸ æ¯æ—¥ç°½åˆ°

* **ç›£æŽ§æ¯æ—¥æ´»å‹•**
* **é€éŽç¿’æ…£è¿½è¹¤ä¿æŒä¸€è‡´æ€§**

### ðŸ¤– AI ç‡Ÿé¤Šæ•™ç·´ï¼ˆSparkyAIï¼‰

* **é€éŽèŠå¤©ç´€éŒ„é£Ÿç‰©ã€é‹å‹•ã€èº«é«”æ•¸æ“šåŠæ­¥æ•¸**
* **ä¸Šå‚³é£Ÿç‰©ç…§ç‰‡è‡ªå‹•è¨˜éŒ„é¤é»ž**
* **åŒ…å«èŠå¤©æ­·å²åŠå€‹äººåŒ–æŒ‡å°Ž**

### ðŸ”’ ä½¿ç”¨è€…èªè­‰èˆ‡å€‹äººæª”æ¡ˆ

* **å®‰å…¨çš„ç™»å…¥ç³»çµ±**
* **åœ¨ä¸åŒä½¿ç”¨è€…æª”æ¡ˆé–“åˆ‡æ›**
* **æ”¯æ´å®¶åº­å­˜å–èˆ‡ç®¡ç†**

### ðŸ“Š å…¨é¢å ±å‘Š

* **ç”¢ç”Ÿç‡Ÿé¤Šèˆ‡èº«é«”æŒ‡æ¨™çš„æ‘˜è¦å ±å‘Š**
* **è¿½è¹¤æ¯é€±æˆ–æ¯æœˆçš„é•·æœŸè¶¨å‹¢**

### ðŸŽ¨ ä¸»é¡Œè‡ªè¨‚

* **åˆ‡æ›æ˜Žäº®èˆ‡æ·±è‰²æ¨¡å¼**
* **è¨­è¨ˆç°¡æ½”ã€ç„¡å¹²æ“¾ä»‹é¢**

### éœ€è¦å¹«åŠ©ï¼Ÿ
* **åŠ å…¥ Discord**
  https://discord.gg/vcnMT5cPEA
* **åœ¨è¨Žè«–å€ç™¼æ–‡**

![image](https://github.com/user-attachments/assets/ccc7f34e-a663-405f-a4d4-a9888c3197bc)

## ðŸš€ å¿«é€Ÿé–‹å§‹

è‹¥è¦åœ¨æœ¬åœ°æ©Ÿå™¨ä¸ŠåŸ·è¡Œ SparkyFitness æ‡‰ç”¨ç¨‹å¼ï¼Œè«‹æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿæ“ä½œï¼š

### å…ˆæ±ºæ¢ä»¶

*   **Supabase å°ˆæ¡ˆ**ï¼šä½ éœ€è¦è¨­ç«‹ä¸€å€‹ Supabase å°ˆæ¡ˆã€‚
    *   **åœ¨ Supabase å»ºç«‹æ–°å°ˆæ¡ˆ**ï¼šå‰å¾€ [Supabase](https://app.supabase.com/) ä¸¦å»ºç«‹æ–°å°ˆæ¡ˆã€‚ï¼ˆå¦‚æžœéœ€è¦ä¹Ÿå¯å˜—è©¦è¨­ç½®æœ¬åœ° Supabase å°ˆæ¡ˆã€‚ï¼‰
    *   å¾žå°ˆæ¡ˆè¨­å®šï¼ˆAPI å€æ®µï¼‰å–å¾—ä½ çš„ Supabase å°ˆæ¡ˆ URL åŠ Anon Keyã€‚
    *   **é—œæ–¼ Supabase èªè­‰çš„é‡è¦èªªæ˜Žï¼š**è«‹åœ¨ Supabase èªè­‰è¨­å®šä¸­æ›´æ–°ä½ çš„ URL é…ç½®ï¼Œä»¥ç¬¦åˆä½ çš„ç¶²åŸŸã€‚é€™å°ä½ çš„ç¶²åŸŸæ­£å¸¸é‹ä½œåŠæ”¶åˆ°è¨»å†Šé‚€è«‹éƒµä»¶è‡³é—œé‡è¦ã€‚Supabase æä¾›è±å¯Œçš„å®‰å…¨åŠŸèƒ½åŠç¬¬ä¸‰æ–¹ SSO é¸é …ï¼Œè«‹æ ¹æ“šå°ˆæ¡ˆéœ€æ±‚é€²è¡Œé…ç½®ã€‚
    *   å¦‚æžœä½ ä½¿ç”¨ Supabase å…è²»ç‰ˆï¼ŒSupabase çš„è‡ªå‹•è³‡æ–™åº«éƒ¨ç½²ä¸æ”¯æ´ IPV4ã€‚ä½ éœ€è¦å°‡ç¶²è·¯é…ç½®ç‚ºä½¿ç”¨ IPV6 é€£ç·šï¼Œå¦å‰‡è³‡æ–™åº«é·ç§»æœƒå¤±æ•—ï¼Œä¸”éœ€æ‰‹å‹•éƒ¨ç½²ã€‚

### å®‰è£æ­¥é©Ÿ

1.  **è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š**
    åœ¨ private è³‡æ–™å¤¾ä¸‹å»ºç«‹ `.env` æª”æ¡ˆã€‚å¦‚æžœä½ ä½¿ç”¨ Portainerï¼Œå¯ä»¥ç›´æŽ¥åœ¨é‚£è£¡å»ºç«‹ã€‚
    æ–°å¢žä½ çš„ Supabase æ†‘è­‰ï¼š
    ```
    VITE_SUPABASE_URL="YOUR_SUPABASE_PROJECT_URL"
    VITE_SUPABASE_ANON_KEY="YOUR_SUPABASE_ANON_KEY"
    SUPABASE_PROJECT_REF="YOUR_SUPABASE_PROJECT_REF"    
    ```

2.  **ä½¿ç”¨ Docker Compose åŸ·è¡Œï¼š**
    ä¸‹è¼‰ Docker æ˜ åƒæª”ä¸¦å•Ÿå‹•æœå‹™ï¼š
    ```sh
    docker compose pull
    docker compose up -d
    ```

3.  **å­˜å–æ‡‰ç”¨ç¨‹å¼ï¼š**
    ç•¶æœå‹™å•Ÿå‹•ä¸¦é‹è¡Œå¾Œï¼Œè«‹åœ¨æ‚¨çš„ç¶²é ç€è¦½å™¨ä¸­é€²å…¥ SparkyFitnessï¼š
    ```
    http://localhost:3000
    ```

4.  **AI èŠå¤©æ©Ÿå™¨äººï¼å¯é¸è¨­å®šï¼š**
    è‹¥è¦å•Ÿç”¨ AI èŠå¤©æ©Ÿå™¨äººçš„å®Œæ•´åŠŸèƒ½ï¼ŒåŒ…æ‹¬å®‰å…¨çš„ API é‡‘é‘°å„²å­˜èˆ‡è³‡æ–™åº«å­˜å–ï¼Œè«‹ä¾ç…§ä»¥ä¸‹æ­¥é©Ÿæ“ä½œï¼š

    *   **è¨­å®š `AI_API_ENCRYPTION_KEY`ï¼š** åœ¨ã€ŒSupabase -> Edge Functionsã€->ã€ŒEnvironment Variablesã€ä¸­ç”¢ç”Ÿä¸€çµ„å¯†é‘°ã€‚æ­¤å¯†é‘°ç”¨æ–¼åŠ å¯†æ‚¨å„²å­˜åœ¨ Supabase å…§çš„ AI é‡‘é‘°ã€‚

    *   **ç”¢ç”Ÿ `SUPABASE_ACCESS_TOKEN`ï¼š**
        1.  é€²å…¥æ‚¨çš„ Docker æŽ§åˆ¶å°ã€‚
        2.  åŸ·è¡Œ `supabase login` ä¸¦ä½¿ç”¨æä¾›çš„ç¶²å€é€²è¡Œèªè­‰ã€‚
        3.  åŸ·è¡Œ `cat ~/.supabase/access-token` ä»¥å–å¾—å­˜å–æ¬Šæ–ã€‚
        4.  å°‡æ­¤æ¬Šæ–æ›´æ–°åˆ°æ‚¨çš„ `docker-compose.yml` æˆ– Portainer è¨­å®šä¸­ï¼Œç„¶å¾Œé‡æ–°éƒ¨ç½²ã€‚
        5.  é‡æ–°éƒ¨ç½²å¾Œï¼Œç™»å…¥ SparkyFitness ä¸¦ä»¥æ‚¨åå¥½çš„ä¾›æ‡‰å•†è¨­å®š AI æœå‹™ã€‚
     

### æ‰‹å‹•éƒ¨ç½²è³‡æ–™åº«èˆ‡å‡½æ•¸è‡³ Supabase
**æ–¹æ³•ä¸€ï¼š**  
**å¦‚æžœæ‚¨æ²’æœ‰å•Ÿç”¨ IPV6 ç¶²è·¯é€£ç·šï¼Œè³‡æ–™åº«é·ç§»å°‡æœƒå¤±æ•—ï¼Œå› ç‚º Supabase å…è²»ç‰ˆä¸æ”¯æ´ç›´æŽ¥çš„ IPV4 é€£ç·šã€‚**

   1. ä¸‹è¼‰æœ€æ–°é‡‹å‡ºæª”ä¸¦è§£å£“ç¸®è‡³æ‚¨çš„é›»è…¦ã€‚
   2. é€²å…¥å°ˆæ¡ˆè³‡æ–™å¤¾ã€‚Docker å¿…é ˆå·²å•Ÿå‹•ä¸¦é‹è¡Œã€‚
   3. åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼ˆfunctions deploy åƒ…åœ¨éœ€è¦ AI è¨­å®šæ™‚ä½¿ç”¨ï¼Œå¦‚æžœä¸éœ€è¦ ChatBOTï¼Œå¯ä»¥ç•¥éŽï¼‰ï¼š
``
      supabase login  
      supabase link  
      supabase db push  
      supabase functions deploy chat   
``
é‡æ–°åŸ·è¡Œ Docker composeã€‚å‰ç«¯æ‡‰ç”¨ç¨‹å¼å°‡é–‹å§‹é‹ä½œã€‚

**æ–¹æ³•äºŒï¼š**  
   1. ä¸‹è¼‰æœ€æ–°é‡‹å‡ºæª”ä¸¦è§£å£“ç¸®è‡³æ‚¨çš„é›»è…¦ã€‚  
   2. é€²å…¥å°ˆæ¡ˆè³‡æ–™å¤¾ã€‚  
   3. å‰å¾€ supabase/migrationsã€‚è¤‡è£½ SQL æŒ‡ä»¤ï¼Œä¸¦ä¾ç…§ ASC é †åºé€ä¸€åœ¨ Supabase-->Project-->SQL Editor ä¸­åŸ·è¡Œã€‚  
   4. ã€å¯é¸ã€‘è‹¥éœ€è¦ AI ChatBOTï¼ŒåŒæ¨£æ“ä½œ supabase/functions/chatã€‚è¤‡è£½ index.js ä¸¦åœ¨ Supabase-->Project-->Edge Function-->Deploy new function ä¸­åŸ·è¡Œã€‚

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-04

---