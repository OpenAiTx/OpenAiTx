[![svelte-preprocess-react](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./static/svelte-preprocess-react.svg)](https://www.npmjs.com/package/svelte-preprocess-react)

# Svelte Preprocess React

Svelteアプリ内でReactコンポーネントをシームレスに使用

対応：

- ネスティング（スロット＆子要素）
- コンテキスト
- SSR
- フック（[useStore](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./docs/useStore.md)＆[hooks](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./docs/hooks.md)）

本プロジェクトは[Svelte London - 2022年11月ミートアップ](https://www.youtube.com/live/DXQl1G54DJY?feature=share&t=2569)で紹介されました

> 「受け入れ、拡張し、消し去る」

このプリプロセッサは、サードパーティのReactコンポーネントを使用する場合や既存のReactコードベースを移行する際のソリューションとして意図されています。

## Svelteコンポーネント内でReactを使用する

Svelteテンプレート内でコンポーネント名の前に`react.`プレフィックスを付けます。

`<Button>`の代わりに`<react.Button>`と書きます。

Reactのエコシステムのライブラリを使用、例えばreact-youtube：

```svelte
<script>
  import YouTube from "react-youtube";

  const react = sveltify({ YouTube }); // Optional step, but adds type-safety
</script>

<react.YouTube videoId="AdNJ3fydeao" />
```
上記のスニペットは以下のように生成されます：


```svelte
<!-- Generated by svelte-preprocess-react -->
<script>
  import ReactDOM from "react-dom/client";
  import { createPortal } from "react-dom";
  import { renderToString } from "react-dom/server";
  import { sveltify } from "svelte-preprocess-react";
  import YouTube from "react-youtube";

  const react = sveltify(
    { YouTube },
    { createPortal, ReactDOM, renderToString },
  );
</script>

<react.YouTube videoId="AdNJ3fydeao" />
```

## セットアップ / インストール

```sh
npm install --save-dev svelte-preprocess-react react react-dom
```

svelte.config.jsに`preprocessReact`を追加してください:

```js
// svelte.config.js
import preprocessReact from "svelte-preprocess-react/preprocessReact";

export default {
  preprocess: preprocessReact(),
};
```

他のプロセッサー（[@sveltejs/vite-plugin-svelte](https://github.com/sveltejs/vite-plugin-svelte/blob/main/docs/preprocess.md) や [svelte-preprocess](https://github.com/sveltejs/svelte-preprocess) など）を使用する場合は、preprocessReact プリプロセッサーを最後のプロセッサーとして追加してください:

```js
// svelte.config.js
import { vitePreprocess } from "@sveltejs/vite-plugin-svelte";
import preprocessReact from "svelte-preprocess-react/preprocessReact";

export default {
  preprocess: [vitePreprocess(), preprocessReact()],
};
```

## Reactコンポーネント内でのSvelteの使用

ReactコンポーネントをSvelteに変換したら、そのReactコンポーネントを削除したくなりますが、他のReactコンポーネントがそのコンポーネントに依存している場合は、新しいSvelteコンポーネントをReactコンポーネントとして使用するために`reactify`を使うことができます。

```jsx
import { reactify } from "svelte-preprocess-react";
import Button from "../components/Button.svelte";

const svelte = reactify({ Button });

function MyComponent() {
  return (
    <svelte.Button onClick={() => console.log("clicked")}>
      Click me
    </svelte.Button>
  );
}
```

## 複数のフレームワークを使用するのは良くない

複数のフロントエンドフレームワークを使用すると、ユーザーと開発者の体験両方にオーバーヘッドが発生します。

- ダウンロードサイズの増加
- 遅延（各フレームワークの境界がオーバーヘッドを追加）
- コンテキストスイッチング、SvelteとReactの両方の複雑さを頭に入れておくことが開発の遅れを招く

サードパーティのReactコンポーネントを使用する際は、Svelteの代替品を探すか、自分で公開しましょう。

マイグレーションツールとして使用する場合（Reactから、またはReactへ移行するために使用可能）、
目標は新しいReactコンポーネントの作成をやめ、既存のReactコンポーネントをSvelteコンポーネントに変換することです。
全てのコンポーネントが変換されたら、このプリプロセッサはアンインストールすべきです。

# 詳細情報

- [reactify()](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./docs/reactify.md) SvelteコンポーネントをReactコンポーネントに変換する
- [hooks()](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./docs/hooks.md) Svelteコンポーネント内でReactフックを使用する
- [useStore](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./docs/useStore.md) Reactコンポーネント内でSvelteストアを使用する
- [注意点](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./docs/caveats.md) 制限事項と回避策
- [react-router](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./docs/react-router.md) react-routerからSvelteKitへの移行
- [アーキテクチャ](https://raw.githubusercontent.com/bfanger/svelte-preprocess-react/main/./docs/architecture.md) svelte-preprocess-reactのAPI設計原則とシステムアーキテクチャ


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-09-28

---