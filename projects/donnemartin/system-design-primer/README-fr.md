*[English](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README.md) ∙ [日本語](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README-ja.md) ∙ [简体中文](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README-zh-Hans.md) ∙ [繁體中文](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README-zh-TW.md) | [العَرَبِيَّة‎](https://github.com/donnemartin/system-design-primer/issues/170) ∙ [বাংলা](https://github.com/donnemartin/system-design-primer/issues/220) ∙ [Português do Brasil](https://github.com/donnemartin/system-design-primer/issues/40) ∙ [Deutsch](https://github.com/donnemartin/system-design-primer/issues/186) ∙ [ελληνικά](https://github.com/donnemartin/system-design-primer/issues/130) ∙ [עברית](https://github.com/donnemartin/system-design-primer/issues/272) ∙ [Italiano](https://github.com/donnemartin/system-design-primer/issues/104) ∙ [한국어](https://github.com/donnemartin/system-design-primer/issues/102) ∙ [فارسی](https://github.com/donnemartin/system-design-primer/issues/110) ∙ [Polski](https://github.com/donnemartin/system-design-primer/issues/68) ∙ [русский язык](https://github.com/donnemartin/system-design-primer/issues/87) ∙ [Español](https://github.com/donnemartin/system-design-primer/issues/136) ∙ [ภาษาไทย](https://github.com/donnemartin/system-design-primer/issues/187) ∙ [Türkçe](https://github.com/donnemartin/system-design-primer/issues/39) ∙ [tiếng Việt](https://github.com/donnemartin/system-design-primer/issues/127) ∙ [Français](https://github.com/donnemartin/system-design-primer/issues/250) | [Add Translation](https://github.com/donnemartin/system-design-primer/issues/28)*

**Aidez à [traduire](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/TRANSLATIONS.md) ce guide !**

# Le Guide de Conception de Systèmes

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/jj3A5N8.png">
  <br/>
</p>

## Motivation

> Apprenez à concevoir des systèmes à grande échelle.
>
> Préparez-vous à l'entretien de conception de systèmes.

### Apprenez à concevoir des systèmes à grande échelle

Apprendre à concevoir des systèmes évolutifs vous aidera à devenir un meilleur ingénieur.

La conception de systèmes est un sujet vaste. Il existe une **énorme quantité de ressources dispersées sur le web** concernant les principes de conception de systèmes.

Ce dépôt est une **collection organisée** de ressources pour vous aider à apprendre à construire des systèmes à grande échelle.

### Apprenez de la communauté open source

C'est un projet open source continuellement mis à jour.

Les [contributions](#contributing) sont les bienvenues !

### Préparez-vous à l'entretien de conception de systèmes

En plus des entretiens de programmation, la conception de systèmes est une **composante obligatoire** du **processus d'entretien technique** dans de nombreuses entreprises technologiques.

**Exercez-vous sur des questions courantes d’entretien de conception de systèmes** et **comparez** vos résultats avec des **solutions exemples** : discussions, code et diagrammes.

Sujets supplémentaires pour la préparation à l’entretien :

* [Guide d’étude](#study-guide)
* [Comment aborder une question d’entretien de conception de systèmes](#how-to-approach-a-system-design-interview-question)
* [Questions d'entretien sur la conception système, **avec solutions**](#system-design-interview-questions-with-solutions)
* [Questions d'entretien sur la conception orientée objet, **avec solutions**](#object-oriented-design-interview-questions-with-solutions)
* [Questions supplémentaires d'entretien sur la conception système](#additional-system-design-interview-questions)

## Flashcards Anki

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/zdCAkB3.png">
  <br/>
</p>

Les [paquets de flashcards Anki](https://apps.ankiweb.net/) fournis utilisent la répétition espacée pour vous aider à retenir les concepts clés de la conception système.

* [Paquet conception système](https://github.com/donnemartin/system-design-primer/tree/master/resources/flash_cards/System%20Design.apkg)
* [Paquet exercices conception système](https://github.com/donnemartin/system-design-primer/tree/master/resources/flash_cards/System%20Design%20Exercises.apkg)
* [Paquet exercices conception orientée objet](https://github.com/donnemartin/system-design-primer/tree/master/resources/flash_cards/OO%20Design.apkg)

Idéal pour une utilisation en déplacement.

### Ressource de codage : Défis de codage interactifs

Vous cherchez des ressources pour vous préparer à l'[**entretien de codage**](https://github.com/donnemartin/interactive-coding-challenges) ?

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/b4YtAEN.png">
  <br/>
</p>

Découvrez le dépôt frère [**Interactive Coding Challenges**](https://github.com/donnemartin/interactive-coding-challenges), qui contient un paquet Anki supplémentaire :

* [Paquet codage](https://github.com/donnemartin/interactive-coding-challenges/tree/master/anki_cards/Coding.apkg)

## Contribution

> Apprenez de la communauté.

N'hésitez pas à soumettre des pull requests pour aider à :

* Corriger des erreurs
* Améliorer des sections
* Ajouter de nouvelles sections  
* [Traduire](https://github.com/donnemartin/system-design-primer/issues/28)  

Le contenu nécessitant un certain affinage est placé [en cours de développement](#under-development).  

Consultez les [Lignes directrices de contribution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/CONTRIBUTING.md).  

## Index des sujets de conception de systèmes  

> Résumés de divers sujets de conception de systèmes, incluant avantages et inconvénients.  **Tout est un compromis**.  
>  
> Chaque section contient des liens vers des ressources plus approfondies.  

<p align="center">  
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/jrUBAF7.png">  
  <br/>  
</p>  

* [Sujets de conception de systèmes : commencez ici](#system-design-topics-start-here)  
    * [Étape 1 : revoir la vidéo sur la scalabilité](#step-1-review-the-scalability-video-lecture)  
    * [Étape 2 : revoir l’article sur la scalabilité](#step-2-review-the-scalability-article)  
    * [Étapes suivantes](#next-steps)  
* [Performance vs scalabilité](#performance-vs-scalability)  
* [Latence vs débit](#latency-vs-throughput)  
* [Disponibilité vs cohérence](#availability-vs-consistency)  
    * [Théorème CAP](#cap-theorem)  
        * [CP – cohérence et tolérance aux partitions](#cp---consistency-and-partition-tolerance)  
        * [AP – disponibilité et tolérance aux partitions](#ap---availability-and-partition-tolerance)  
* [Modèles de cohérence](#consistency-patterns)  
    * [Cohérence faible](#weak-consistency)  
    * [Cohérence éventuelle](#eventual-consistency)  
    * [Cohérence forte](#strong-consistency)  
* [Modèles de disponibilité](#availability-patterns)  
    * [Basculement (fail-over)](#fail-over)  
    * [Réplication](#replication)  
    * [Disponibilité en chiffres](#availability-in-numbers)  
* [Système de noms de domaine](#domain-name-system)  
* [Réseau de distribution de contenu](#content-delivery-network)  
    * [CDN push](#push-cdns)  
    * [CDN pull](#pull-cdns)
* [Équilibreur de charge](#load-balancer)
    * [Actif-passif](#active-passive)
    * [Actif-actif](#active-active)
    * [Équilibrage de charge de couche 4](#layer-4-load-balancing)
    * [Équilibrage de charge de couche 7](#layer-7-load-balancing)
    * [Mise à l’échelle horizontale](#horizontal-scaling)
* [Proxy inverse (serveur web)](#reverse-proxy-web-server)
    * [Équilibreur de charge vs proxy inverse](#load-balancer-vs-reverse-proxy)
* [Couche application](#application-layer)
    * [Microservices](#microservices)
    * [Découverte de service](#service-discovery)
* [Base de données](#database)
    * [Système de gestion de base de données relationnelle (SGBDR)](#relational-database-management-system-rdbms)
        * [Réplication maître-esclave](#master-slave-replication)
        * [Réplication maître-maître](#master-master-replication)
        * [Fédération](#federation)
        * [Sharding](#sharding)
        * [Dénormalisation](#denormalization)
        * [Optimisation SQL](#sql-tuning)
    * [NoSQL](#nosql)
        * [Magasin clé-valeur](#key-value-store)
        * [Magasin de documents](#document-store)
        * [Magasin à colonnes larges](#wide-column-store)
        * [Base de données graphe](#graph-database)
    * [SQL ou NoSQL](#sql-or-nosql)
* [Cache](#cache)
    * [Cache client](#client-caching)
    * [Cache CDN](#cdn-caching)
    * [Cache serveur web](#web-server-caching)
    * [Cache base de données](#database-caching)
    * [Cache application](#application-caching)
    * [Cache au niveau des requêtes de base de données](#caching-at-the-database-query-level)
    * [Cache au niveau des objets](#caching-at-the-object-level)
    * [Quand mettre à jour le cache](#when-to-update-the-cache)
        * [Cache-aside](#cache-aside)
        * [Écriture directe](#write-through)
        * [Écriture différée (write-back)](#write-behind-write-back)
        * [Rafraîchissement anticipé](#refresh-ahead)
* [Asynchronisme](#asynchronism)
    * [Files de messages](#message-queues)
    * [Files d'attente de tâches](#task-queues)
    * [Rétropression](#back-pressure)
* [Communication](#communication)
    * [Protocole de contrôle de transmission (TCP)](#transmission-control-protocol-tcp)
    * [Protocole de datagramme utilisateur (UDP)](#user-datagram-protocol-udp)
    * [Appel de procédure distante (RPC)](#remote-procedure-call-rpc)
    * [Transfert d'état représentatif (REST)](#representational-state-transfer-rest)
* [Sécurité](#security)
* [Annexe](#appendix)
    * [Table des puissances de deux](#powers-of-two-table)
    * [Nombres de latence que tout programmeur devrait connaître](#latency-numbers-every-programmer-should-know)
    * [Questions supplémentaires d'entretien de conception système](#additional-system-design-interview-questions)
    * [Architectures du monde réel](#real-world-architectures)
    * [Architectures d'entreprise](#company-architectures)
    * [Blogs d'ingénierie d'entreprise](#company-engineering-blogs)
* [En cours de développement](#under-development)
* [Crédits](#credits)
* [Informations de contact](#contact-info)
* [Licence](#license)

## Guide d'étude

> Sujets suggérés à réviser en fonction de votre calendrier d'entretien (court, moyen, long).

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/OfVllex.png)

**Q : Pour les entretiens, dois-je tout savoir ici ?**

**R : Non, vous n'avez pas besoin de tout savoir ici pour préparer l'entretien**.

Ce qui vous est demandé lors d'un entretien dépend de variables telles que :

* Votre niveau d'expérience
* Votre formation technique
* Les postes pour lesquels vous postulez
* Les entreprises avec lesquelles vous passez des entretiens
* La chance

Les candidats plus expérimentés sont généralement censés en savoir plus sur la conception de systèmes. Les architectes ou chefs d'équipe pourraient être attendus pour en savoir plus que les contributeurs individuels. Les grandes entreprises technologiques ont probablement un ou plusieurs tours d'entretien de conception.

Commencez large et approfondissez quelques domaines. Il est utile de connaître un peu divers sujets clés de la conception de systèmes. Ajustez ce guide en fonction de votre calendrier, de votre expérience, des postes pour lesquels vous passez des entretiens, et des entreprises avec lesquelles vous passez des entretiens.

* **Calendrier court** - Visez la **largeur** avec les sujets de conception de systèmes. Entraînez-vous en résolvant **quelques** questions d'entretien.
* **Calendrier moyen** - Visez la **largeur** et une **certaine profondeur** avec les sujets de conception de systèmes. Entraînez-vous en résolvant **beaucoup** de questions d'entretien.
* **Calendrier long** - Visez la **largeur** et une **plus grande profondeur** avec les sujets de conception de systèmes. Entraînez-vous en résolvant **la plupart** des questions d'entretien.

| | Court | Moyen | Long |
|---|---|---|---|
| Parcourez les [Sujets de conception de systèmes](#index-of-system-design-topics) pour obtenir une compréhension large du fonctionnement des systèmes | :+1: | :+1: | :+1: |
| Parcourez quelques articles dans les [Blogs d’ingénierie des entreprises](#company-engineering-blogs) des entreprises avec lesquelles vous passez des entretiens | :+1: | :+1: | :+1: |
| Parcourez quelques [Architectures du monde réel](#real-world-architectures) | :+1: | :+1: | :+1: |
| Révisez [Comment aborder une question d’entretien de conception de système](#how-to-approach-a-system-design-interview-question) | :+1: | :+1: | :+1: |
| Travaillez les [Questions d’entretien de conception de système avec solutions](#system-design-interview-questions-with-solutions) | Quelques-unes | Beaucoup | La plupart |
| Travaillez les [Questions d’entretien de conception orientée objet avec solutions](#object-oriented-design-interview-questions-with-solutions) | Quelques-unes | Beaucoup | La plupart |
| Révisez les [Questions d’entretien supplémentaires sur la conception de systèmes](#additional-system-design-interview-questions) | Quelques-unes | Beaucoup | La plupart |

## Comment aborder une question d’entretien de conception de système

> Comment aborder une question d’entretien de conception de système.

L’entretien de conception de système est une **conversation ouverte**. Vous êtes censé la diriger.

Vous pouvez utiliser les étapes suivantes pour guider la discussion. Pour aider à solidifier ce processus, travaillez la section [Questions d’entretien de conception de système avec solutions](#system-design-interview-questions-with-solutions) en suivant les étapes ci-dessous.

### Étape 1 : Définir les cas d’utilisation, contraintes et hypothèses

Recueillez les exigences et délimitez le problème. Posez des questions pour clarifier les cas d’utilisation et les contraintes. Discutez des hypothèses.

* Qui va l’utiliser ?
* Comment vont-ils l’utiliser ?
* Combien y a-t-il d’utilisateurs ?
* Que fait le système ?
* Quelles sont les entrées et sorties du système ?
* Quelle quantité de données attendons-nous de gérer ?
* Combien de requêtes par seconde attendons-nous ?
* Quel est le ratio attendu lecture/écriture ?

### Étape 2 : Créer un design de haut niveau

Esquissez un design de haut niveau avec tous les composants importants.

* Esquissez les principaux composants et connexions
* Justifiez vos idées

### Étape 3 : Concevoir les composants principaux

Plongez dans les détails de chaque composant principal. Par exemple, si on vous demande de [concevoir un service de raccourcissement d’URL](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md), discutez :

* Générer et stocker un hash de l’URL complète
    * [MD5](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md) et [Base62](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md)
    * Collisions de hash
    * SQL ou NoSQL
    * Schéma de base de données
* Traduire une URL hachée en URL complète
    * Recherche en base de données
* API et conception orientée objet

### Étape 4 : Mettre à l’échelle la conception

Identifiez et traitez les goulets d’étranglement, compte tenu des contraintes. Par exemple, avez-vous besoin des éléments suivants pour résoudre les problèmes de scalabilité ?

* Équilibreur de charge
* Scalabilité horizontale
* Mise en cache
* Partitionnement de base de données (sharding)

Discutez des solutions potentielles et des compromis. Tout est compromis. Traitez les goulets d’étranglement en utilisant les [principes de conception de systèmes scalables](#index-of-system-design-topics).

### Calculs approximatifs

Il se peut qu’on vous demande de faire quelques estimations à la main. Reportez-vous à l’[Annexe](#appendix) pour les ressources suivantes :

* [Utiliser des calculs approximatifs](http://highscalability.com/blog/2011/1/26/google-pro-tip-use-back-of-the-envelope-calculations-to-choo.html)
* [Table des puissances de deux](#powers-of-two-table)
* [Temps de latence que tout programmeur devrait connaître](#latency-numbers-every-programmer-should-know)

### Source(s) et lectures complémentaires

Consultez les liens suivants pour mieux comprendre à quoi vous attendre :

* [Comment réussir un entretien de conception de systèmes](https://www.palantir.com/2011/10/how-to-rock-a-systems-design-interview/)
* [L'entretien de conception de système](http://www.hiredintech.com/system-design)
* [Introduction aux entretiens d'architecture et de conception de systèmes](https://www.youtube.com/watch?v=ZgdS0EUmn70)
* [Modèle de conception de système](https://leetcode.com/discuss/career/229177/My-System-Design-Template)

## Questions d'entretien de conception de système avec solutions

> Questions courantes d'entretien de conception de système avec discussions, code et diagrammes d'exemple.
>
> Solutions liées au contenu dans le dossier `solutions/`.

| Question | |
|---|---|
| Concevoir Pastebin.com (ou Bit.ly) | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md) |
| Concevoir la timeline et la recherche Twitter (ou le fil d'actualité et la recherche Facebook) | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/twitter/README.md) |
| Concevoir un robot d'exploration web | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/web_crawler/README.md) |
| Concevoir Mint.com | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/mint/README.md) |
| Concevoir les structures de données pour un réseau social | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/social_graph/README.md) |
| Concevoir un magasin clé-valeur pour un moteur de recherche | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/query_cache/README.md) |
| Concevoir la fonctionnalité de classement des ventes par catégorie d'Amazon | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/sales_rank/README.md) |
| Concevoir un système évolutif pour des millions d'utilisateurs sur AWS | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/scaling_aws/README.md) |
| Ajouter une question de conception de système | [Contribuer](#contributing) |

### Concevoir Pastebin.com (ou Bit.ly)

[Voir l'exercice et la solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md)

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/4edXG0T.png)

### Concevoir la timeline et la recherche Twitter (ou le fil d'actualité et la recherche Facebook)

[Voir l'exercice et la solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/twitter/README.md)

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/jrUBAF7.png)

### Concevoir un robot d'exploration web

[Voir l'exercice et la solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/web_crawler/README.md)

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/bWxPtQA.png)

### Design Mint.com

[View exercise and solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/mint/README.md)

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/V5q57vU.png)

### Design the data structures for a social network

[View exercise and solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/social_graph/README.md)

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/cdCv5g7.png)

### Design a key-value store for a search engine

[View exercise and solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/query_cache/README.md)

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/4j99mhe.png)

### Design Amazon's sales ranking by category feature

[View exercise and solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/sales_rank/README.md)

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/MzExP06.png)

### Design a system that scales to millions of users on AWS

[View exercise and solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/scaling_aws/README.md)

![Imgur](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/jj3A5N8.png)

## Object-oriented design interview questions with solutions

> Common object-oriented design interview questions with sample discussions, code, and diagrams.
>
> Solutions linked to content in the `solutions/` folder.

>**Note: This section is under development**

| Question | |
|---|---|
| Concevoir une table de hachage | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/hash_table/hash_map.ipynb)  |
| Concevoir un cache LRU (least recently used) | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/lru_cache/lru_cache.ipynb)  |
| Concevoir un centre d'appels | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/call_center/call_center.ipynb)  |
| Concevoir un jeu de cartes | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/deck_of_cards/deck_of_cards.ipynb)  |
| Concevoir un parking | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/parking_lot/parking_lot.ipynb)  |
| Concevoir un serveur de chat | [Solution](https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/online_chat/online_chat.ipynb)  |
| Concevoir un tableau circulaire | [Contribuer](#contributing)  |
| Ajouter une question de conception orientée objet | [Contribuer](#contributing) |

## Sujets de conception de système : commencez ici

Nouveau en conception de système ?

D'abord, vous aurez besoin d'une compréhension de base des principes courants, apprendre ce qu'ils sont, comment ils sont utilisés, et leurs avantages et inconvénients.

### Étape 1 : Revoir la conférence vidéo sur la scalabilité

[Conférence sur la scalabilité à Harvard](https://www.youtube.com/watch?v=-W9F__D3oY4)

* Sujets abordés :
    * Scalabilité verticale
    * Scalabilité horizontale
    * Mise en cache
    * Équilibrage de charge
    * Réplication de base de données
    * Partitionnement de base de données

### Étape 2 : Revoir l'article sur la scalabilité

[Scalabilité](https://web.archive.org/web/20221030091841/http://www.lecloud.net/tagged/scalability/chrono)

* Sujets abordés :
    * [Clones](https://web.archive.org/web/20220530193911/https://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones)
    * [Bases de données](https://web.archive.org/web/20220602114024/https://www.lecloud.net/post/7994751381/scalability-for-dummies-part-2-database)
    * [Caches](https://web.archive.org/web/20230126233752/https://www.lecloud.net/post/9246290032/scalability-for-dummies-part-3-cache)
    * [Asynchronisme](https://web.archive.org/web/20220926171507/https://www.lecloud.net/post/9699762917/scalability-for-dummies-part-4-asynchronism)

### Étapes suivantes

Ensuite, nous examinerons les compromis de haut niveau :

* **Performance** vs **scalabilité**
* **Latence** vs **débit**
* **Disponibilité** vs **cohérence**

Gardez à l’esprit que **tout est un compromis**.

Puis, nous plongerons dans des sujets plus spécifiques tels que DNS, CDN et équilibreurs de charge.

## Performance vs scalabilité

Un service est **scalable** s’il entraîne une augmentation de la **performance** de manière proportionnelle aux ressources ajoutées. Généralement, augmenter la performance signifie traiter plus d’unités de travail, mais cela peut aussi être pour gérer des unités de travail plus importantes, comme lorsque les jeux de données grandissent.<sup><a href=http://www.allthingsdistributed.com/2006/03/a_word_on_scalability.html>1</a></sup>

Une autre façon de voir la performance vs scalabilité :

* Si vous avez un problème de **performance**, votre système est lent pour un seul utilisateur.
* Si vous avez un problème de **scalabilité**, votre système est rapide pour un seul utilisateur mais lent sous forte charge.

### Source(s) et lectures complémentaires

* [A word on scalability](http://www.allthingsdistributed.com/2006/03/a_word_on_scalability.html)
* [Scalability, availability, stability, patterns](http://www.slideshare.net/jboner/scalability-availability-stability-patterns/)

## Latence vs débit

La **latence** est le temps nécessaire pour effectuer une action ou produire un résultat.

Le **débit** est le nombre de ces actions ou résultats par unité de temps.

Généralement, vous devez viser un **débit maximal** avec une **latence acceptable**.

### Source(s) et lectures complémentaires

* [Understanding latency vs throughput](https://community.cadence.com/cadence_blogs_8/b/fv/posts/understanding-latency-vs-throughput)

## Disponibilité vs cohérence

### Théorème CAP

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/bgLMI2u.png">
  <br/>
  <i><a href=http://robertgreiner.com/2014/08/cap-theorem-revisited>Source : Théorème CAP revisité</a></i>
</p>

Dans un système informatique distribué, vous ne pouvez garantir que deux des trois garanties suivantes :

* **Cohérence** - Chaque lecture reçoit la dernière écriture ou une erreur
* **Disponibilité** - Chaque requête reçoit une réponse, sans garantie qu'elle contienne la version la plus récente de l'information
* **Tolérance au partitionnement** - Le système continue de fonctionner malgré un partitionnement arbitraire dû à des défaillances réseau

*Les réseaux ne sont pas fiables, vous devrez donc supporter la tolérance au partitionnement. Vous devrez faire un compromis logiciel entre cohérence et disponibilité.*

#### CP - cohérence et tolérance au partitionnement

Attendre une réponse du nœud partitionné peut entraîner une erreur de délai d’attente. CP est un bon choix si vos besoins métiers nécessitent des lectures et écritures atomiques.

#### AP - disponibilité et tolérance au partitionnement

Les réponses retournent la version des données la plus facilement disponible sur n’importe quel nœud, qui peut ne pas être la plus récente. Les écritures peuvent prendre un certain temps à se propager lorsque le partitionnement est résolu.

AP est un bon choix si le métier doit permettre la [cohérence éventuelle](#eventual-consistency) ou quand le système doit continuer à fonctionner malgré des erreurs externes.

### Source(s) et lectures complémentaires

* [Théorème CAP revisité](http://robertgreiner.com/2014/08/cap-theorem-revisited/)
* [Introduction en anglais simple au théorème CAP](http://ksat.me/a-plain-english-introduction-to-cap-theorem)
* [FAQ CAP](https://github.com/henryr/cap-faq)
* [Le théorème CAP](https://www.youtube.com/watch?v=k-Yaq8AHlFA)

## Modèles de cohérence

Avec plusieurs copies des mêmes données, nous sommes confrontés à des options pour les synchroniser afin que les clients aient une vue cohérente des données. Rappelons la définition de la cohérence dans le [théorème CAP](#cap-theorem) - Chaque lecture reçoit la dernière écriture ou une erreur.

### Cohérence faible

Après une écriture, les lectures peuvent ou non la voir. Une approche de meilleure tentative est adoptée.

Cette approche se retrouve dans des systèmes comme memcached. La cohérence faible fonctionne bien dans les cas d’utilisation en temps réel tels que VoIP, visioconférence et jeux multijoueurs en temps réel. Par exemple, si vous êtes en appel téléphonique et perdez la réception pendant quelques secondes, lorsque vous récupérez la connexion, vous n’entendez pas ce qui a été dit pendant la perte de connexion.

### Cohérence éventuelle

Après une écriture, les lectures la verront finalement (typiquement en quelques millisecondes). Les données sont répliquées de manière asynchrone.

Cette approche est observée dans des systèmes tels que DNS et le courrier électronique. La cohérence éventuelle fonctionne bien dans les systèmes hautement disponibles.

### Cohérence forte

Après une écriture, les lectures la verront. Les données sont répliquées de manière synchrone.

Cette approche est observée dans les systèmes de fichiers et les SGBDR. La cohérence forte fonctionne bien dans les systèmes nécessitant des transactions.

### Source(s) et lectures complémentaires

* [Transactions entre centres de données](http://snarfed.org/transactions_across_datacenters_io.html)

## Modèles de disponibilité

Il existe deux modèles complémentaires pour supporter une haute disponibilité : **basculement** et **réplication**.

### Basculement

#### Actif-passif

Avec le basculement actif-passif, des signaux de vie sont envoyés entre le serveur actif et le serveur passif en attente. Si le signal de vie est interrompu, le serveur passif prend l'adresse IP de l'actif et reprend le service.

La durée d'indisponibilité est déterminée par le fait que le serveur passif fonctionne déjà en veille « chaude » ou s'il doit démarrer depuis une veille « froide ». Seul le serveur actif gère le trafic.

Le basculement actif-passif peut aussi être appelé basculement maître-esclave.

#### Actif-actif

En actif-actif, les deux serveurs gèrent le trafic, répartissant la charge entre eux.

Si les serveurs sont exposés au public, le DNS doit connaître les adresses IP publiques des deux serveurs. Si les serveurs sont internes, la logique applicative doit connaître les deux serveurs.

Le basculement actif-actif peut aussi être appelé basculement maître-maître.

### Inconvénient(s) : basculement
* La bascule ajoute plus de matériel et une complexité supplémentaire.
* Il y a un risque de perte de données si le système actif tombe en panne avant que les nouvelles données écrites puissent être répliquées sur le système passif.

### Réplication

#### Maître-esclave et maître-maître

Ce sujet est abordé plus en détail dans la section [Base de données](#database) :

* [Réplication maître-esclave](#master-slave-replication)
* [Réplication maître-maître](#master-master-replication)

### Disponibilité en chiffres

La disponibilité est souvent quantifiée par le temps de fonctionnement (ou d’arrêt) en pourcentage du temps pendant lequel le service est disponible. La disponibilité est généralement mesurée en nombre de 9 -- un service avec une disponibilité de 99,99 % est décrit comme ayant quatre 9.

#### Disponibilité à 99,9 % - trois 9

| Durée               | Temps d’arrêt acceptable |
|---------------------|-------------------------|
| Temps d’arrêt par an | 8h 45min 57s            |
| Temps d’arrêt par mois| 43m 49,7s               |
| Temps d’arrêt par semaine | 10m 4,8s            |
| Temps d’arrêt par jour| 1m 26,4s                |

#### Disponibilité à 99,99 % - quatre 9

| Durée               | Temps d’arrêt acceptable |
|---------------------|-------------------------|
| Temps d’arrêt par an | 52min 35,7s             |
| Temps d’arrêt par mois| 4m 23s                  |
| Temps d’arrêt par semaine | 1m 5s                |
| Temps d’arrêt par jour| 8,6s                    |

#### Disponibilité en parallèle vs en séquence

Si un service est composé de plusieurs composants susceptibles de tomber en panne, la disponibilité globale du service dépend de si les composants sont en séquence ou en parallèle.

###### En séquence


La disponibilité globale diminue lorsque deux composants avec une disponibilité < 100 % sont en série :

```
Availability (Total) = Availability (Foo) * Availability (Bar)
```

Si `Foo` et `Bar` avaient chacun une disponibilité de 99,9 %, leur disponibilité totale en séquence serait de 99,8 %.

###### En parallèle

La disponibilité globale augmente lorsque deux composants avec une disponibilité < 100 % sont en parallèle :

```
Availability (Total) = 1 - (1 - Availability (Foo)) * (1 - Availability (Bar))
```

Si à la fois `Foo` et `Bar` avaient chacun une disponibilité de 99,9 %, leur disponibilité totale en parallèle serait de 99,9999 %.

## Système de noms de domaine

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/IOyLj4i.jpg">
  <br/>
  <i><a href=http://www.slideshare.net/srikrupa5/dns-security-presentation-issa>Source : Présentation sur la sécurité DNS</a></i>
</p>

Un système de noms de domaine (DNS) traduit un nom de domaine tel que www.example.com en une adresse IP.

Le DNS est hiérarchique, avec quelques serveurs faisant autorité au niveau supérieur. Votre routeur ou FAI fournit des informations sur les serveurs DNS à contacter lors d'une recherche. Les serveurs DNS de niveau inférieur mettent en cache les correspondances, qui peuvent devenir obsolètes à cause des délais de propagation DNS. Les résultats DNS peuvent également être mis en cache par votre navigateur ou votre système d'exploitation pendant une certaine période, déterminée par le [temps de vie (TTL)](https://fr.wikipedia.org/wiki/Time_to_live).

* **Enregistrement NS (serveur de noms)** - Spécifie les serveurs DNS pour votre domaine/sous-domaine.
* **Enregistrement MX (échange de courrier)** - Spécifie les serveurs de messagerie pour accepter les messages.
* **Enregistrement A (adresse)** - Lie un nom à une adresse IP.
* **CNAME (canonique)** - Lie un nom à un autre nom ou `CNAME` (exemple.com vers www.example.com) ou à un enregistrement `A`.

Des services tels que [CloudFlare](https://www.cloudflare.com/dns/) et [Route 53](https://aws.amazon.com/route53/) fournissent des services DNS gérés. Certains services DNS peuvent router le trafic par différentes méthodes :

* [Round robin pondéré](https://www.jscape.com/blog/load-balancing-algorithms)
    * Empêcher le trafic d'aller vers des serveurs en maintenance
    * Équilibrer entre différentes tailles de clusters
    * Tests A/B
* [Basé sur la latence](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy-latency.html)
* [Basé sur la géolocalisation](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy-geo.html)

### Inconvénient(s) : DNS

* Accéder à un serveur DNS introduit un léger délai, bien que réduit par la mise en cache décrite ci-dessus.
* La gestion des serveurs DNS peut être complexe et est généralement assurée par [les gouvernements, les FAI et les grandes entreprises](http://superuser.com/questions/472695/who-controls-the-dns-servers/472729).
* Les services DNS ont récemment été la cible de [attaques DDoS](http://dyn.com/blog/dyn-analysis-summary-of-friday-october-21-attack/), empêchant les utilisateurs d'accéder à des sites comme Twitter sans connaître les adresses IP de Twitter.

### Source(s) et lectures complémentaires

* [Architecture DNS](https://technet.microsoft.com/en-us/library/dd197427(v=ws.10).aspx)
* [Wikipédia](https://fr.wikipedia.org/wiki/Système_de_noms_de_domaine)
* [Articles DNS](https://support.dnsimple.com/categories/dns/)

## Réseau de diffusion de contenu

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/h9TAuGI.jpg">
  <br/>
  <i><a href=https://www.creative-artworks.eu/why-use-a-content-delivery-network-cdn/>Source : Pourquoi utiliser un CDN</a></i>
</p>

Un réseau de diffusion de contenu (CDN) est un réseau mondialement distribué de serveurs proxy, servant le contenu depuis des emplacements plus proches de l'utilisateur. Généralement, des fichiers statiques tels que HTML/CSS/JS, photos, et vidéos sont servis depuis le CDN, bien que certains CDN comme CloudFront d'Amazon supportent du contenu dynamique. La résolution DNS du site indique aux clients quel serveur contacter.

Servir du contenu depuis des CDN peut significativement améliorer les performances de deux façons :

* Les utilisateurs reçoivent le contenu depuis des centres de données proches d’eux
* Vos serveurs n’ont pas à traiter les requêtes que le CDN satisfait

### CDN push

Les CDN push reçoivent du nouveau contenu chaque fois qu’un changement se produit sur votre serveur. Vous assumez entièrement la responsabilité de fournir le contenu, en le téléchargeant directement vers le CDN et en réécrivant les URLs pour pointer vers le CDN. Vous pouvez configurer la durée d’expiration du contenu et quand il est mis à jour. Le contenu est téléchargé uniquement lorsqu’il est nouveau ou modifié, minimisant le trafic, mais maximisant le stockage.

Les sites avec peu de trafic ou des sites dont le contenu est rarement mis à jour fonctionnent bien avec les CDN push. Le contenu est placé sur le CDN une fois, au lieu d’être récupéré à intervalles réguliers.

### CDN pull

Les CDN pull récupèrent le nouveau contenu depuis votre serveur lorsque le premier utilisateur demande ce contenu. Vous laissez le contenu sur votre serveur et réécrivez les URLs pour pointer vers le CDN. Cela entraîne une requête plus lente jusqu’à ce que le contenu soit mis en cache sur le CDN.

Un [temps de vie (TTL)](https://fr.wikipedia.org/wiki/Time_to_live) détermine la durée pendant laquelle le contenu est mis en cache. Les CDN pull minimisent l’espace de stockage sur le CDN, mais peuvent générer un trafic redondant si les fichiers expirent et sont récupérés avant d’avoir réellement changé.

Les sites à fort trafic fonctionnent bien avec les CDN pull, car le trafic est réparti plus uniformément avec seulement le contenu récemment demandé restant sur le CDN.

### Inconvénient(s) : CDN

* Les coûts de CDN peuvent être significatifs selon le trafic, bien que cela doive être mis en balance avec les coûts supplémentaires que vous encourriez sans utiliser de CDN.
* Le contenu peut être obsolète s’il est mis à jour avant l’expiration du TTL.
* Les CDN nécessitent de modifier les URLs du contenu statique pour pointer vers le CDN.

### Source(s) et lectures complémentaires

* [Diffusion de contenu distribuée mondialement](https://figshare.com/articles/Globally_distributed_content_delivery/6605972)
* [Les différences entre CDN push et pull](http://www.travelblogadvice.com/technical/the-differences-between-push-and-pull-cdns/)
* [Wikipedia](https://en.wikipedia.org/wiki/Content_delivery_network)

## Équilibreur de charge

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/h81n9iK.png">
  <br/>
  <i><a href=http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html>Source : Modèles de conception de systèmes évolutifs</a></i>
</p>

Les équilibreurs de charge distribuent les requêtes entrantes des clients vers des ressources informatiques telles que les serveurs d'application et les bases de données. Dans chaque cas, l'équilibreur de charge renvoie la réponse de la ressource informatique au client approprié. Les équilibreurs de charge sont efficaces pour :

* Empêcher que les requêtes ne soient envoyées à des serveurs défaillants
* Éviter la surcharge des ressources
* Aider à éliminer un point de défaillance unique

Les équilibreurs de charge peuvent être mis en œuvre avec du matériel (coûteux) ou avec des logiciels tels que HAProxy.

Les avantages supplémentaires incluent :

* **Terminaison SSL** - Décrypter les requêtes entrantes et chiffrer les réponses du serveur afin que les serveurs backend n'aient pas à effectuer ces opérations potentiellement coûteuses
    * Supprime la nécessité d'installer des [certificats X.509](https://fr.wikipedia.org/wiki/X.509) sur chaque serveur
* **Persistance de session** - Émettre des cookies et acheminer les requêtes d'un client spécifique vers la même instance si les applications web ne gèrent pas les sessions

Pour se protéger contre les défaillances, il est courant de configurer plusieurs équilibreurs de charge, soit en mode [actif-passif](#active-passive) soit en mode [actif-actif](#active-active).

Les équilibreurs de charge peuvent acheminer le trafic en fonction de divers critères, notamment :

* Aléatoire
* Le moins chargé
* Session/cookies
* [Round robin ou round robin pondéré](https://www.g33kinfo.com/info/round-robin-vs-weighted-round-robin-lb)
* [Couche 4](#layer-4-load-balancing)
* [Couche 7](#layer-7-load-balancing)

### Équilibrage de charge de couche 4

Les équilibreurs de charge de couche 4 examinent les informations à la [couche transport](#communication) pour décider comment distribuer les requêtes. Généralement, cela implique les adresses IP source et destination, ainsi que les ports dans l'en-tête, mais pas le contenu du paquet. Les équilibreurs de charge de couche 4 transmettent les paquets réseau vers et depuis le serveur en amont, en effectuant une [traduction d'adresse réseau (NAT)](https://www.nginx.com/resources/glossary/layer-4-load-balancing/).

### Équilibrage de charge de couche 7

Les équilibreurs de charge de couche 7 examinent la [couche application](#communication) pour décider comment répartir les requêtes.  Cela peut impliquer le contenu des en-têtes, des messages et des cookies.  Les équilibreurs de charge de couche 7 terminent le trafic réseau, lisent le message, prennent une décision de répartition de charge, puis ouvrent une connexion vers le serveur sélectionné.  Par exemple, un équilibreur de charge de couche 7 peut diriger le trafic vidéo vers des serveurs hébergeant des vidéos tout en dirigeant le trafic plus sensible de facturation utilisateur vers des serveurs renforcés en sécurité.

Au prix d'une flexibilité moindre, l'équilibrage de charge de couche 4 nécessite moins de temps et de ressources informatiques que la couche 7, bien que l'impact sur les performances puisse être minimal sur du matériel standard moderne.

### Mise à l'échelle horizontale

Les équilibreurs de charge peuvent également aider à la mise à l'échelle horizontale, améliorant les performances et la disponibilité.  Monter en charge en utilisant des machines standard est plus rentable et offre une meilleure disponibilité que d'augmenter la capacité d'un seul serveur sur du matériel plus coûteux, appelé **mise à l'échelle verticale**.  Il est aussi plus facile de recruter des talents pour travailler sur du matériel standard que pour des systèmes d'entreprise spécialisés.

#### Inconvénient(s) : mise à l'échelle horizontale

* La mise à l'échelle horizontale introduit de la complexité et implique le clonage des serveurs
    * Les serveurs doivent être sans état : ils ne doivent pas contenir de données utilisateur comme des sessions ou des photos de profil
    * Les sessions peuvent être stockées dans un magasin de données centralisé tel qu'une [base de données](#database) (SQL, NoSQL) ou un [cache](#cache) persistant (Redis, Memcached)
* Les serveurs en aval, comme les caches et bases de données, doivent gérer plus de connexions simultanées à mesure que les serveurs en amont se multiplient

### Inconvénient(s) : équilibreur de charge

* L'équilibreur de charge peut devenir un goulot d'étranglement en termes de performances s'il ne dispose pas de ressources suffisantes ou s'il n'est pas configuré correctement.
* Introduire un équilibreur de charge pour éliminer un point de défaillance unique entraîne une complexité accrue.
* Un seul équilibreur de charge est un point de défaillance unique, configurer plusieurs équilibreurs augmente encore la complexité.

### Source(s) et lectures complémentaires

* [Architecture NGINX](https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/)
* [Guide d'architecture HAProxy](http://www.haproxy.org/download/1.2/doc/architecture.txt)
* [Scalabilité](https://web.archive.org/web/20220530193911/https://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones)
* [Wikipedia](https://en.wikipedia.org/wiki/Load_balancing_(computing))
* [Équilibrage de charge couche 4](https://www.nginx.com/resources/glossary/layer-4-load-balancing/)
* [Équilibrage de charge couche 7](https://www.nginx.com/resources/glossary/layer-7-load-balancing/)
* [Configuration du listener ELB](http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-listener-config.html)

## Proxy inverse (serveur web)

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/n41Azff.png">
  <br/>
  <i><a href=https://upload.wikimedia.org/wikipedia/commons/6/67/Reverse_proxy_h2g2bob.svg>Source : Wikipedia</a></i>
  <br/>
</p>

Un reverse proxy est un serveur web qui centralise les services internes et fournit des interfaces unifiées au public. Les requêtes des clients sont transmises à un serveur capable de les satisfaire avant que le reverse proxy ne renvoie la réponse du serveur au client.

Avantages supplémentaires :

* **Sécurité accrue** - Masquer les informations sur les serveurs backend, bloquer des IP, limiter le nombre de connexions par client
* **Scalabilité et flexibilité accrues** - Les clients ne voient que l'IP du reverse proxy, ce qui permet de faire évoluer les serveurs ou de changer leur configuration
* **Terminaison SSL** - Déchiffrer les requêtes entrantes et chiffrer les réponses du serveur afin que les serveurs backend n’aient pas à effectuer ces opérations potentiellement coûteuses
    * Élimine le besoin d’installer des [certificats X.509](https://fr.wikipedia.org/wiki/X.509) sur chaque serveur
* **Compression** - Compresser les réponses du serveur
* **Mise en cache** - Retourner la réponse pour les requêtes en cache
* **Contenu statique** - Servir directement du contenu statique
    * HTML/CSS/JS
    * Photos
    * Vidéos
    * Etc.

### Équilibreur de charge vs reverse proxy

* Déployer un équilibreur de charge est utile lorsque vous avez plusieurs serveurs. Souvent, les équilibreurs de charge dirigent le trafic vers un ensemble de serveurs remplissant la même fonction.
* Les reverse proxies peuvent être utiles même avec un seul serveur web ou serveur d’application, offrant les avantages décrits dans la section précédente.
* Des solutions telles que NGINX et HAProxy peuvent supporter à la fois le reverse proxy de couche 7 et l’équilibrage de charge.

### Inconvénient(s) : reverse proxy

* L’introduction d’un reverse proxy entraîne une complexité accrue.
* Un reverse proxy unique constitue un point de défaillance unique, la configuration de plusieurs reverse proxies (c’est-à-dire un [basculement](https://fr.wikipedia.org/wiki/Basculement_(informatique))) augmente encore la complexité.

### Sources et lectures complémentaires

* [Reverse proxy vs load balancer](https://www.nginx.com/resources/glossary/reverse-proxy-vs-load-balancer/)
* [Architecture NGINX](https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/)
* [Guide d’architecture HAProxy](http://www.haproxy.org/download/1.2/doc/architecture.txt)
* [Wikipedia](https://fr.wikipedia.org/wiki/Reverse_proxy)

## Couche application

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/yB5SYwm.png">
  <br/>
  <i><a href=http://lethain.com/introduction-to-architecting-systems-for-scale/#platform_layer>Source : Introduction à l’architecture des systèmes à grande échelle</a></i>
</p>

Séparer la couche web de la couche application (également appelée couche plateforme) permet de faire évoluer et de configurer les deux couches indépendamment.  Ajouter une nouvelle API se traduit par l’ajout de serveurs d’application sans forcément ajouter de serveurs web supplémentaires.  Le **principe de responsabilité unique** prône des services petits et autonomes qui collaborent.  De petites équipes avec de petits services peuvent planifier de manière plus agressive une croissance rapide.

Les workers dans la couche application aident aussi à permettre [l’asynchronisme](#asynchronism).

### Microservices

En lien avec cette discussion, les [microservices](https://fr.wikipedia.org/wiki/Microservice) peuvent être décrits comme une suite de services petits, modulaires et déployables indépendamment.  Chaque service exécute un processus unique et communique via un mécanisme léger bien défini pour servir un objectif métier. <sup><a href=https://smartbear.com/learn/api-design/what-are-microservices>1</a></sup>

Pinterest, par exemple, pourrait avoir les microservices suivants : profil utilisateur, abonné, flux, recherche, téléchargement de photo, etc.

### Découverte de service

Des systèmes tels que [Consul](https://www.consul.io/docs/index.html), [Etcd](https://coreos.com/etcd/docs/latest) et [Zookeeper](http://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper) peuvent aider les services à se trouver en gardant la trace des noms, adresses et ports enregistrés.  Les [vérifications de santé](https://www.consul.io/intro/getting-started/checks.html) aident à vérifier l’intégrité des services et sont souvent réalisées via un point d’accès [HTTP](#hypertext-transfer-protocol-http).  Consul et Etcd disposent tous deux d’un [magasin clé-valeur](#key-value-store) intégré, utile pour stocker des valeurs de configuration et d’autres données partagées.

### Inconvénient(s) : couche application

* Ajouter une couche application avec des services faiblement couplés nécessite une approche différente d’un point de vue architecture, opérations et processus (par rapport à un système monolithique).
* Les microservices peuvent ajouter de la complexité en termes de déploiements et d’opérations.

### Source(s) et lectures complémentaires

* [Introduction à l’architecture des systèmes à grande échelle](http://lethain.com/introduction-to-architecting-systems-for-scale)
* [Réussir l’entretien de conception système](http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview)
* [Architecture orientée services](https://fr.wikipedia.org/wiki/Architecture_orient%C3%A9e_services)
* [Introduction à Zookeeper](http://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper)
* [Ce que vous devez savoir sur la construction de microservices](https://cloudncode.wordpress.com/2016/07/22/msa-getting-started/)

## Base de données

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/Xkm5CXz.png">
  <br/>
  <i><a href=https://www.youtube.com/watch?v=kKjm4ehYiMs>Source : Monter en charge jusqu’à vos premiers 10 millions d’utilisateurs</a></i>
</p>

### Système de gestion de base de données relationnelle (SGBDR)

Une base de données relationnelle comme SQL est une collection d'éléments de données organisés en tables.

**ACID** est un ensemble de propriétés des [transactions](https://en.wikipedia.org/wiki/Database_transaction) dans une base de données relationnelle.

* **Atomicité** - Chaque transaction est tout ou rien
* **Cohérence** - Toute transaction amène la base de données d'un état valide à un autre
* **Isolation** - L'exécution concurrente des transactions produit les mêmes résultats que leur exécution en série
* **Durabilité** - Une fois qu'une transaction est validée, elle le reste

Il existe de nombreuses techniques pour faire évoluer une base de données relationnelle : **réplication maître-esclave**, **réplication maître-maître**, **fédération**, **sharding**, **dénormalisation** et **optimisation SQL**.

#### Réplication maître-esclave

Le maître gère les lectures et écritures, répliquant les écritures vers un ou plusieurs esclaves, qui ne servent que les lectures. Les esclaves peuvent aussi répliquer vers d'autres esclaves en forme d'arbre. Si le maître est hors ligne, le système peut continuer à fonctionner en mode lecture seule jusqu'à ce qu'un esclave soit promu maître ou qu'un nouveau maître soit provisionné.

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/C9ioGtn.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Source : Scalability, availability, stability, patterns</a></i>
</p>

##### Inconvénient(s) : réplication maître-esclave

* Une logique supplémentaire est nécessaire pour promouvoir un esclave en maître.
* Voir [Inconvénient(s) : réplication](#disadvantages-replication) pour les points liés à **la fois** maître-esclave et maître-maître.

#### Réplication maître-maître

Les deux maîtres gèrent lectures et écritures et se coordonnent sur les écritures. Si l'un des maîtres tombe en panne, le système peut continuer à fonctionner avec lectures et écritures.

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/krAHLGg.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Source : Scalability, availability, stability, patterns</a></i>
</p>

##### Inconvénient(s) : réplication maître-maître

* Vous aurez besoin d'un répartiteur de charge ou devrez modifier la logique de votre application pour déterminer où écrire.
* La plupart des systèmes maître-maître sont soit faiblement cohérents (violation d’ACID) soit ont une latence d’écriture augmentée due à la synchronisation.
* La résolution des conflits intervient davantage à mesure que le nombre de nœuds d’écriture augmente et que la latence s’accroît.
* Voir [Inconvénient(s) : réplication](#disadvantages-replication) pour les points relatifs à **la fois** maître-esclave et maître-maître.

##### Inconvénient(s) : réplication

* Il existe un risque de perte de données si le maître tombe en panne avant que les nouvelles données écrites aient pu être répliquées sur d’autres nœuds.
* Les écritures sont rejouées sur les réplicas en lecture. S’il y a beaucoup d’écritures, les réplicas en lecture peuvent être encombrés par le rejouement des écritures et ne peuvent pas effectuer autant de lectures.
* Plus il y a de réplicas en lecture, plus il faut répliquer, ce qui entraîne un décalage plus important dans la réplication.
* Sur certains systèmes, l’écriture sur le maître peut générer plusieurs threads pour écrire en parallèle, alors que les réplicas en lecture ne supportent l’écriture que séquentielle avec un seul thread.
* La réplication ajoute du matériel et une complexité supplémentaire.

##### Source(s) et lecture complémentaire : réplication

* [Scalabilité, disponibilité, stabilité, modèles](http://www.slideshare.net/jboner/scalability-availability-stability-patterns/)
* [Réplication multi-maître](https://fr.wikipedia.org/wiki/R%C3%A9plication_multi-ma%C3%AEtre)

#### Fédération

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/U3qV33e.png">
  <br/>
  <i><a href=https://www.youtube.com/watch?v=kKjm4ehYiMs>Source : Monter en charge jusqu’à vos premiers 10 millions d’utilisateurs</a></i>
</p>

La fédération (ou partition fonctionnelle) divise les bases de données par fonction. Par exemple, au lieu d’une base de données monolithique unique, vous pourriez avoir trois bases de données : **forums**, **utilisateurs** et **produits**, ce qui réduit le trafic de lecture et d’écriture sur chaque base et donc le décalage de réplication. Des bases de données plus petites permettent de stocker davantage de données en mémoire, ce qui se traduit par plus de hits en cache grâce à une meilleure localité de cache. Sans maître central unique sérialisant les écritures, vous pouvez écrire en parallèle, augmentant ainsi le débit.

##### Inconvénient(s) : fédération

* La fédération n’est pas efficace si votre schéma nécessite de très grandes fonctions ou tables.
* Vous devrez mettre à jour la logique de votre application pour déterminer quelle base de données lire et écrire.
* Joindre des données provenant de deux bases est plus complexe avec un [lien serveur](http://stackoverflow.com/questions/5145637/querying-data-by-joining-two-tables-in-two-database-on-different-servers).
* La fédération ajoute du matériel et une complexité supplémentaire.

##### Source(s) et lecture complémentaire : fédération

* [Monter en charge jusqu’à vos premiers 10 millions d’utilisateurs](https://www.youtube.com/watch?v=kKjm4ehYiMs)

#### Sharding

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/wU8x5Id.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Source : Scalabilité, disponibilité, stabilité, modèles</a></i>
</p>

Le sharding distribue les données à travers différentes bases de données de sorte que chaque base ne gère qu’un sous-ensemble des données. En prenant une base de données d’utilisateurs comme exemple, à mesure que le nombre d’utilisateurs augmente, plus de shards sont ajoutés au cluster.

Semblable aux avantages de la [fédération](#federation), le sharding entraîne moins de trafic en lecture et écriture, moins de réplication, et plus de cache hits. La taille des index est également réduite, ce qui améliore généralement les performances avec des requêtes plus rapides. Si un shard tombe en panne, les autres shards restent opérationnels, bien que vous souhaitiez ajouter une forme de réplication pour éviter la perte de données. Comme pour la fédération, il n’y a pas de maître central unique qui sérialise les écritures, vous permettant d’écrire en parallèle avec un débit accru.

Les façons courantes de sharder une table d’utilisateurs sont soit par l’initiale du nom de famille de l’utilisateur, soit par la localisation géographique de l’utilisateur.

##### Inconvénient(s) : sharding

* Vous devrez mettre à jour la logique de votre application pour fonctionner avec des shards, ce qui pourrait entraîner des requêtes SQL complexes.
* La distribution des données peut devenir déséquilibrée dans un shard. Par exemple, un groupe d’utilisateurs intensifs sur un shard pourrait entraîner une charge accrue sur ce shard par rapport aux autres.
    * Le rééquilibrage ajoute une complexité supplémentaire. Une fonction de sharding basée sur le [hachage cohérent](http://www.paperplanes.de/2011/12/9/the-magic-of-consistent-hashing.html) peut réduire la quantité de données transférées.
* Joindre des données provenant de plusieurs shards est plus complexe.
* Le sharding ajoute plus de matériel et de complexité supplémentaire.

##### Source(s) et lectures complémentaires : sharding

* [L’avènement du shard](http://highscalability.com/blog/2009/8/6/an-unorthodox-approach-to-database-design-the-coming-of-the.html)
* [Architecture de base de données shardée](https://fr.wikipedia.org/wiki/Shard_(database_architecture))
* [Hachage cohérent](http://www.paperplanes.de/2011/12/9/the-magic-of-consistent-hashing.html)

#### Dénormalisation

La dénormalisation tente d’améliorer les performances en lecture au détriment de certaines performances en écriture. Des copies redondantes des données sont écrites dans plusieurs tables pour éviter des jointures coûteuses. Certains SGBDR comme [PostgreSQL](https://fr.wikipedia.org/wiki/PostgreSQL) et Oracle supportent les [vues matérialisées](https://fr.wikipedia.org/wiki/Vue_mat%C3%A9rialis%C3%A9e) qui gèrent le travail de stockage des informations redondantes et maintiennent la cohérence des copies redondantes.

Une fois que les données sont distribuées avec des techniques telles que la [fédération](#federation) et le [sharding](#sharding), gérer des jointures entre centres de données augmente encore la complexité. La dénormalisation pourrait contourner le besoin de telles jointures complexes.

Dans la plupart des systèmes, les lectures peuvent dépasser largement les écritures, dans un rapport de 100:1 voire 1000:1. Une lecture résultant en une jointure complexe de base de données peut être très coûteuse, passant un temps significatif en opérations disque.

##### Inconvénient(s) : dénormalisation

* Les données sont dupliquées.
* Les contraintes peuvent aider les copies redondantes d’informations à rester synchronisées, ce qui augmente la complexité de la conception de la base de données.
* Une base de données dénormalisée sous une lourde charge d’écriture pourrait avoir des performances inférieures à son homologue normalisée.

###### Source(s) et lectures complémentaires : dénormalisation

* [Dénormalisation](https://fr.wikipedia.org/wiki/D%C3%A9normalisation)

#### Optimisation SQL

L'optimisation SQL est un sujet vaste et de nombreux [livres](https://www.amazon.com/s/ref=nb_sb_noss_2?url=search-alias%3Daps&field-keywords=sql+tuning) ont été écrits à titre de référence.

Il est important de **mesurer les performances** et de **profiler** pour simuler et déceler les goulets d'étranglement.

* **Mesurer les performances** - Simuler des situations de forte charge avec des outils tels que [ab](http://httpd.apache.org/docs/2.2/programs/ab.html).
* **Profiler** - Activer des outils tels que le [journal des requêtes lentes](http://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html) pour aider à suivre les problèmes de performance.

La mesure et le profilage peuvent vous orienter vers les optimisations suivantes.

##### Resserrez le schéma

* MySQL écrit sur disque en blocs contigus pour un accès rapide.
* Utilisez `CHAR` au lieu de `VARCHAR` pour les champs de longueur fixe.
    * `CHAR` permet effectivement un accès rapide et aléatoire, tandis qu'avec `VARCHAR`, il faut trouver la fin d'une chaîne avant de passer à la suivante.
* Utilisez `TEXT` pour de grands blocs de texte comme les articles de blog. `TEXT` permet aussi des recherches booléennes. Utiliser un champ `TEXT` implique de stocker un pointeur sur disque qui sert à localiser le bloc de texte.
* Utilisez `INT` pour les nombres plus grands jusqu'à 2^32 ou 4 milliards.
* Utilisez `DECIMAL` pour les devises afin d'éviter les erreurs de représentation en virgule flottante.
* Évitez de stocker de gros `BLOB`, stockez plutôt l'emplacement où récupérer l'objet.
* `VARCHAR(255)` est le nombre maximal de caractères pouvant être comptés dans un nombre sur 8 bits, maximisant souvent l'utilisation d'un octet dans certains SGBDR.
* Appliquez la contrainte `NOT NULL` quand c'est possible pour [améliorer les performances de recherche](http://stackoverflow.com/questions/1017239/how-do-null-values-affect-performance-in-a-database-search).

##### Utilisez de bons index

* Les colonnes que vous interrogez (`SELECT`, `GROUP BY`, `ORDER BY`, `JOIN`) peuvent être plus rapides avec des index.
* Les index sont généralement représentés sous forme d'[arbres B auto-équilibrés](https://fr.wikipedia.org/wiki/Arbre_B) qui maintiennent les données triées et permettent recherches, accès séquentiels, insertions et suppressions en temps logarithmique.
* Placer un index peut permettre de garder les données en mémoire, ce qui demande plus d’espace.
* Les écritures peuvent aussi être plus lentes car l’index doit être mis à jour.
* Lors du chargement de grandes quantités de données, il peut être plus rapide de désactiver les index, charger les données, puis reconstruire les index.

##### Évitez les jointures coûteuses

* [Dénormalisez](#denormalization) lorsque la performance l’exige.

##### Partitionnez les tables

* Séparer une table en mettant les points chauds dans une table distincte pour aider à la maintenir en mémoire.

##### Optimiser le cache de requêtes

* Dans certains cas, le [cache de requêtes](https://dev.mysql.com/doc/refman/5.7/en/query-cache.html) peut entraîner des [problèmes de performance](https://www.percona.com/blog/2016/10/12/mysql-5-7-performance-tuning-immediately-after-installation/).

##### Source(s) et lectures complémentaires : optimisation SQL

* [Conseils pour optimiser les requêtes MySQL](http://aiddroid.com/10-tips-optimizing-mysql-queries-dont-suck/)
* [Y a-t-il une bonne raison pour voir VARCHAR(255) utilisé si souvent ?](http://stackoverflow.com/questions/1217466/is-there-a-good-reason-i-see-varchar255-used-so-often-as-opposed-to-another-l)
* [Comment les valeurs nulles affectent-elles les performances ?](http://stackoverflow.com/questions/1017239/how-do-null-values-affect-performance-in-a-database-search)
* [Journal des requêtes lentes](http://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html)

### NoSQL

NoSQL est un ensemble d’éléments de données représentés dans un **magasin clé-valeur**, **magasin de documents**, **magasin à colonnes larges**, ou une **base de données graphe**. Les données sont dénormalisées, et les jointures sont généralement effectuées dans le code de l’application. La plupart des magasins NoSQL ne disposent pas de véritables transactions ACID et privilégient la [cohérence éventuelle](#eventual-consistency).

**BASE** est souvent utilisé pour décrire les propriétés des bases de données NoSQL. En comparaison avec le [théorème CAP](#cap-theorem), BASE choisit la disponibilité plutôt que la cohérence.

* **Basicamente disponible** - le système garantit la disponibilité.
* **État mou** - l’état du système peut changer dans le temps, même sans entrée.
* **Cohérence éventuelle** - le système deviendra cohérent sur une période de temps, à condition que le système ne reçoive pas d’entrée pendant cette période.

En plus de choisir entre [SQL ou NoSQL](#sql-or-nosql), il est utile de comprendre quel type de base de données NoSQL correspond le mieux à votre ou vos cas d’usage. Nous examinerons les **magasins clé-valeur**, **magasins de documents**, **magasins à colonnes larges** et **bases de données graphe** dans la section suivante.

#### Magasin clé-valeur

> Abstraction : table de hachage

Un magasin clé-valeur permet généralement des lectures et écritures en O(1) et est souvent basé sur la mémoire ou le SSD. Les magasins de données peuvent maintenir les clés en [ordre lexicographique](https://fr.wikipedia.org/wiki/Ordre_lexicographique), permettant une récupération efficace des plages de clés. Les magasins clé-valeur peuvent permettre le stockage de métadonnées avec une valeur.

Les magasins clé-valeur offrent des performances élevées et sont souvent utilisés pour des modèles de données simples ou pour des données en évolution rapide, comme une couche de cache en mémoire. Comme ils n’offrent qu’un ensemble limité d’opérations, la complexité est transférée à la couche applicative si des opérations supplémentaires sont nécessaires.

Un magasin clé-valeur est la base de systèmes plus complexes tels qu’un magasin de documents, et dans certains cas, une base de données graphe.

##### Source(s) et lectures complémentaires : magasin clé-valeur

* [Base de données clé-valeur](https://fr.wikipedia.org/wiki/Base_de_donn%C3%A9es_cl%C3%A9-valeur)
* [Inconvénients des magasins clé-valeur](http://stackoverflow.com/questions/4056093/what-are-the-disadvantages-of-using-a-key-value-table-over-nullable-columns-or)
* [Architecture Redis](http://qnimate.com/overview-of-redis-architecture/)
* [Architecture de Memcached](https://adayinthelifeof.nl/2011/02/06/memcache-internals/)

#### Magasin de documents

> Abstraction : magasin clé-valeur avec des documents stockés en tant que valeurs

Un magasin de documents est centré autour des documents (XML, JSON, binaire, etc.), où un document contient toutes les informations pour un objet donné. Les magasins de documents fournissent des API ou un langage de requête pour interroger en fonction de la structure interne du document lui-même. *Notez que de nombreux magasins clé-valeur incluent des fonctionnalités pour travailler avec les métadonnées d'une valeur, brouillant ainsi les frontières entre ces deux types de stockage.*

Selon l'implémentation sous-jacente, les documents sont organisés par collections, tags, métadonnées ou répertoires. Bien que les documents puissent être organisés ou regroupés, ils peuvent contenir des champs complètement différents les uns des autres.

Certains magasins de documents comme [MongoDB](https://www.mongodb.com/mongodb-architecture) et [CouchDB](https://blog.couchdb.org/2016/08/01/couchdb-2-0-architecture/) fournissent également un langage de type SQL pour effectuer des requêtes complexes. [DynamoDB](http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/decandia07dynamo.pdf) supporte à la fois les paires clé-valeur et les documents.

Les magasins de documents offrent une grande flexibilité et sont souvent utilisés pour travailler avec des données qui changent occasionnellement.

##### Source(s) et lectures complémentaires : magasin de documents

* [Base de données orientée document](https://fr.wikipedia.org/wiki/Base_de_donn%C3%A9es_orient%C3%A9e_document)
* [Architecture MongoDB](https://www.mongodb.com/mongodb-architecture)
* [Architecture CouchDB](https://blog.couchdb.org/2016/08/01/couchdb-2-0-architecture/)
* [Architecture Elasticsearch](https://www.elastic.co/blog/found-elasticsearch-from-the-bottom-up)

#### Magasin à colonnes larges

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/n16iOGk.png">
  <br/>
  <i><a href=http://blog.grio.com/2015/11/sql-nosql-a-brief-history.html>Source : SQL & NoSQL, une brève histoire</a></i>
</p>

> Abstraction : carte imbriquée `ColumnFamily<RowKey, Columns<ColKey, Value, Timestamp>>`

L'unité de base des données dans un magasin à colonnes larges est une colonne (paire nom/valeur). Une colonne peut être regroupée en familles de colonnes (analogue à une table SQL). Les super familles de colonnes regroupent davantage les familles de colonnes. Vous pouvez accéder à chaque colonne indépendamment via une clé de ligne, et les colonnes avec la même clé forment une ligne. Chaque valeur contient un horodatage pour la gestion des versions et la résolution des conflits.

Google a introduit [Bigtable](http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf) comme premier magasin à colonnes larges, qui a influencé l'open source [HBase](https://www.edureka.co/blog/hbase-architecture/) souvent utilisé dans l'écosystème Hadoop, ainsi que [Cassandra](http://docs.datastax.com/en/cassandra/3.0/cassandra/architecture/archIntro.html) de Facebook. Des magasins tels que BigTable, HBase et Cassandra maintiennent les clés en ordre lexicographique, permettant une récupération efficace de plages de clés sélectives.

Les magasins à colonnes larges offrent une haute disponibilité et une grande scalabilité. Ils sont souvent utilisés pour des ensembles de données très volumineux.

##### Source(s) et lectures complémentaires : magasin à colonnes larges

* [SQL & NoSQL, une brève histoire](http://blog.grio.com/2015/11/sql-nosql-a-brief-history.html)
* [Architecture Bigtable](http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf)
* [Architecture HBase](https://www.edureka.co/blog/hbase-architecture/)
* [Architecture Cassandra](http://docs.datastax.com/en/cassandra/3.0/cassandra/architecture/archIntro.html)

#### Base de données graphe

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/fNcl65g.png">
  <br/>
  <i><a href=https://en.wikipedia.org/wiki/File:GraphDatabase_PropertyGraph.png>Source : Base de données graphe</a></i>
</p>

> Abstraction : graphe

Dans une base de données graphe, chaque nœud est un enregistrement et chaque arc est une relation entre deux nœuds. Les bases de données graphe sont optimisées pour représenter des relations complexes avec de nombreuses clés étrangères ou des relations plusieurs-à-plusieurs.

Les bases de données graphe offrent de hautes performances pour des modèles de données avec des relations complexes, comme un réseau social. Elles sont relativement récentes et ne sont pas encore largement utilisées ; il peut être plus difficile de trouver des outils de développement et des ressources. De nombreux graphes ne peuvent être accessibles qu’avec des [API REST](#representational-state-transfer-rest).

##### Source(s) et lectures complémentaires : graphe

* [Base de données graphe](https://en.wikipedia.org/wiki/Graph_database)
* [Neo4j](https://neo4j.com/)
* [FlockDB](https://blog.twitter.com/2010/introducing-flockdb)

#### Source(s) et lectures complémentaires : NoSQL

* [Explication de la terminologie BASE](http://stackoverflow.com/questions/3342497/explanation-of-base-terminology)
* [Bases de données NoSQL : enquête et guide de décision](https://medium.com/baqend-blog/nosql-databases-a-survey-and-decision-guidance-ea7823a822d#.wskogqenq)
* [Scalabilité](https://web.archive.org/web/20220602114024/https://www.lecloud.net/post/7994751381/scalability-for-dummies-part-2-database)
* [Introduction au NoSQL](https://www.youtube.com/watch?v=qI_g07C_Q5I)
* [Patrons NoSQL](http://horicky.blogspot.com/2009/11/nosql-patterns.html)

### SQL ou NoSQL

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/wXGqG5f.png">
  <br/>
  <i><a href=https://www.infoq.com/articles/Transition-RDBMS-NoSQL/>Source : Transition des SGBDR vers NoSQL</a></i>
</p>

Raisons pour **SQL** :

* Données structurées
* Schéma strict
* Données relationnelles
* Besoin de jointures complexes
* Transactions
* Modèles clairs pour la montée en charge
* Plus établi : développeurs, communauté, code, outils, etc.
* Les recherches par index sont très rapides

Raisons pour **NoSQL** :

* Données semi-structurées
* Schéma dynamique ou flexible
* Données non relationnelles
* Pas besoin de jointures complexes
* Stocker plusieurs To (ou Po) de données
* Charge de travail très intensive en données
* Très haut débit pour les IOPS

Exemples de données adaptées à NoSQL :

* Ingestion rapide de données de clickstream et de logs
* Données de classement ou de score
* Données temporaires, comme un panier d’achat
* Tables fréquemment consultées (« chaudes »)
* Tables de métadonnées/de recherches

##### Source(s) et lectures complémentaires : SQL ou NoSQL

* [Monter jusqu’à vos premiers 10 millions d’utilisateurs](https://www.youtube.com/watch?v=kKjm4ehYiMs)
* [Différences entre SQL et NoSQL](https://www.sitepoint.com/sql-vs-nosql-differences/)

## Cache

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/Q6z24La.png">
  <br/>
  <i><a href=http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html>Source : Modèles de conception de systèmes évolutifs</a></i>
</p>

La mise en cache améliore les temps de chargement des pages et peut réduire la charge sur vos serveurs et bases de données. Dans ce modèle, le répartiteur cherchera d'abord si la requête a déjà été effectuée et essaiera de trouver le résultat précédent à retourner, afin d'économiser l'exécution réelle.

Les bases de données bénéficient souvent d'une répartition uniforme des lectures et écritures sur leurs partitions. Les éléments populaires peuvent fausser cette répartition, causant des goulots d'étranglement. Placer un cache devant une base de données peut aider à absorber les charges inégales et les pics de trafic.

### Mise en cache côté client

Les caches peuvent être situés côté client (système d'exploitation ou navigateur), [côté serveur](#reverse-proxy-web-server), ou dans une couche de cache distincte.

### Mise en cache CDN

Les [CDN](#content-delivery-network) sont considérés comme un type de cache.

### Mise en cache côté serveur web

Les [reverse proxies](#reverse-proxy-web-server) et caches tels que [Varnish](https://www.varnish-cache.org/) peuvent servir directement du contenu statique et dynamique. Les serveurs web peuvent également mettre en cache les requêtes, retournant des réponses sans avoir à contacter les serveurs d’application.

### Mise en cache côté base de données

Votre base de données inclut généralement un certain niveau de mise en cache en configuration par défaut, optimisé pour un cas d'utilisation générique. Ajuster ces paramètres pour des schémas d’utilisation spécifiques peut améliorer encore les performances.

### Mise en cache côté application

Les caches en mémoire tels que Memcached et Redis sont des magasins clé-valeur entre votre application et votre stockage de données. Puisque les données sont conservées en RAM, c’est beaucoup plus rapide que les bases de données typiques où les données sont stockées sur disque. La RAM est plus limitée que le disque, donc les algorithmes de [validation de cache](https://fr.wikipedia.org/wiki/Algorithme_de_cache) tels que [le moins récemment utilisé (LRU)](https://fr.wikipedia.org/wiki/Politique_de_remplacement_de_cache#Moins_r%C3%A9cemment_utilis%C3%A9_(LRU)) peuvent aider à invalider les entrées « froides » et garder les données « chaudes » en RAM.

Redis dispose des fonctionnalités supplémentaires suivantes :

* Option de persistance
* Structures de données intégrées telles que ensembles triés et listes

Il existe plusieurs niveaux que vous pouvez mettre en cache, qui se répartissent en deux catégories générales : **requêtes de base de données** et **objets** :

* Niveau ligne
* Niveau requête
* Objets entièrement formés et sérialisables
* HTML entièrement rendu

En général, vous devriez essayer d’éviter la mise en cache basée sur des fichiers, car cela complique le clonage et l’auto-scaling.

### Mise en cache au niveau des requêtes de base de données

Chaque fois que vous interrogez la base de données, hachez la requête en tant que clé et stockez le résultat dans le cache. Cette approche souffre de problèmes d'expiration :

* Difficile de supprimer un résultat mis en cache avec des requêtes complexes
* Si une donnée change, comme une cellule de table, vous devez supprimer toutes les requêtes mises en cache qui pourraient inclure la cellule modifiée

### Mise en cache au niveau de l'objet

Considérez vos données comme un objet, similaire à ce que vous faites avec votre code applicatif. Faites en sorte que votre application assemble le jeu de données depuis la base de données dans une instance de classe ou une structure(s) de données :

* Supprimez l'objet du cache si ses données sous-jacentes ont changé
* Permet un traitement asynchrone : les workers assemblent les objets en consommant le dernier objet mis en cache

Suggestions de ce qu'il faut mettre en cache :

* Sessions utilisateur
* Pages web entièrement rendues
* Flux d'activité
* Données du graphe utilisateur

### Quand mettre à jour le cache

Comme vous ne pouvez stocker qu'une quantité limitée de données dans le cache, vous devez déterminer quelle stratégie de mise à jour du cache convient le mieux à votre cas d'utilisation.

#### Cache-aside

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/ONjORqk.png">
  <br/>
  <i><a href=http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast>Source : From cache to in-memory data grid</a></i>
</p>

L'application est responsable de la lecture et de l'écriture dans le stockage. Le cache n'interagit pas directement avec le stockage. L'application fait ce qui suit :

* Recherche l'entrée dans le cache, ce qui aboutit à un cache miss
* Charge l'entrée depuis la base de données
* Ajoute l'entrée au cache
* Retourne l'entrée

```python
def get_user(self, user_id):
    user = cache.get("user.{0}", user_id)
    if user is None:
        user = db.query("SELECT * FROM users WHERE user_id = {0}", user_id)
        if user is not None:
            key = "user.{0}".format(user_id)
            cache.set(key, json.dumps(user))
    return user
```

[Memcached](https://memcached.org/) est généralement utilisé de cette manière.

Les lectures ultérieures des données ajoutées au cache sont rapides. Cache-aside est également appelé chargement paresseux. Seules les données demandées sont mises en cache, ce qui évite de remplir le cache avec des données non demandées.

##### Inconvénient(s) : cache-aside

* Chaque absence de cache entraîne trois allers-retours, ce qui peut provoquer un délai notable.
* Les données peuvent devenir obsolètes si elles sont mises à jour dans la base de données. Ce problème est atténué en définissant un temps de vie (TTL) qui force une mise à jour de l'entrée de cache, ou en utilisant l'écriture directe.
* Lorsqu'un nœud échoue, il est remplacé par un nouveau nœud vide, augmentant la latence.

#### Écriture directe

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/0vBc0hN.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Source : Scalabilité, disponibilité, stabilité, modèles</a></i>
</p>

L'application utilise le cache comme magasin principal de données, lisant et écrivant les données dedans, tandis que le cache est responsable de la lecture et de l'écriture dans la base de données :

* L'application ajoute/actualise une entrée dans le cache
* Le cache écrit de manière synchrone l'entrée dans le magasin de données
* Retour

Code de l'application :

```python
set_user(12345, {"foo":"bar"})
```

Code cache :

```python
def set_user(user_id, values):
    user = db.query("UPDATE Users WHERE id = {0}", user_id, values)
    cache.set(user_id, user)
```

L'écriture directe (write-through) est une opération globale lente en raison de l'opération d'écriture, mais les lectures suivantes des données fraîchement écrites sont rapides.  Les utilisateurs tolèrent généralement mieux la latence lors de la mise à jour des données que lors de la lecture des données.  Les données dans le cache ne sont pas obsolètes.

##### Inconvénient(s) : write-through

* Lorsqu'un nouveau nœud est créé en raison d'une défaillance ou d'une montée en charge, le nouveau nœud ne mettra pas en cache les entrées tant que l'entrée n'aura pas été mise à jour dans la base de données.  Cache-aside en conjonction avec write-through peut atténuer ce problème.
* La plupart des données écrites pourraient ne jamais être lues, ce qui peut être minimisé avec un TTL.

#### Écriture différée (write-behind)

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/rgSrvjG.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Source : Scalabilité, disponibilité, stabilité, modèles</a></i>
</p>

Dans l'écriture différée, l'application fait ce qui suit :

* Ajouter/mettre à jour une entrée dans le cache
* Écrire de manière asynchrone l'entrée dans le magasin de données, améliorant les performances d'écriture

##### Inconvénient(s) : write-behind

* Il pourrait y avoir une perte de données si le cache tombe en panne avant que son contenu n'atteigne le magasin de données.
* Il est plus complexe de mettre en œuvre l'écriture différée que de mettre en œuvre cache-aside ou write-through.

#### Rafraîchissement anticipé (refresh-ahead)

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/kxtjqgE.png">
  <br/>
  <i><a href=http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast>Source : Du cache à la grille de données en mémoire</a></i>
</p>

Vous pouvez configurer le cache pour rafraîchir automatiquement toute entrée de cache récemment accédée avant son expiration.

Le rafraîchissement anticipé peut entraîner une réduction de la latence par rapport au read-through si le cache peut prédire avec précision quels éléments seront probablement nécessaires à l'avenir.

##### Inconvénient(s) : refresh-ahead

* Ne pas prédire avec précision les éléments susceptibles d’être nécessaires à l’avenir peut entraîner des performances réduites par rapport à une absence de rafraîchissement anticipé.

### Inconvénient(s) : cache

* Nécessité de maintenir la cohérence entre les caches et la source de vérité comme la base de données via [l’invalidation de cache](https://fr.wikipedia.org/wiki/Algorithme_de_cache).
* L’invalidation de cache est un problème difficile, il y a une complexité supplémentaire liée au moment de la mise à jour du cache.
* Nécessité d’apporter des modifications à l’application, comme l’ajout de Redis ou memcached.

### Source(s) et lectures complémentaires

* [Du cache à la grille de données en mémoire](http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast)
* [Modèles de conception de systèmes évolutifs](http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html)
* [Introduction à l’architecture des systèmes pour l’échelle](http://lethain.com/introduction-to-architecting-systems-for-scale/)
* [Évolutivité, disponibilité, stabilité, modèles](http://www.slideshare.net/jboner/scalability-availability-stability-patterns/)
* [Évolutivité](https://web.archive.org/web/20230126233752/https://www.lecloud.net/post/9246290032/scalability-for-dummies-part-3-cache)
* [Stratégies AWS ElastiCache](http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/Strategies.html)
* [Wikipedia](https://fr.wikipedia.org/wiki/Cache_(informatique))

## Asynchronisme

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/54GYsSx.png">
  <br/>
  <i><a href=http://lethain.com/introduction-to-architecting-systems-for-scale/#platform_layer>Source : Introduction à l’architecture des systèmes pour l’échelle</a></i>
</p>

Les workflows asynchrones aident à réduire les temps de requête pour les opérations coûteuses qui seraient autrement effectuées en ligne. Ils peuvent également aider en réalisant à l’avance des travaux chronophages, tels que l’agrégation périodique des données.

### Files de messages

Les files de messages reçoivent, retiennent et livrent les messages. Si une opération est trop lente à effectuer en ligne, vous pouvez utiliser une file de messages avec le workflow suivant :

* Une application publie un travail dans la file, puis informe l’utilisateur de l’état du travail
* Un worker récupère le travail de la file, le traite, puis signale que le travail est terminé

L’utilisateur n’est pas bloqué et le travail est traité en arrière-plan. Pendant ce temps, le client peut éventuellement effectuer une petite quantité de traitement pour donner l’impression que la tâche est terminée. Par exemple, lors de la publication d’un tweet, le tweet peut être instantanément affiché dans votre timeline, mais il peut s’écouler un certain temps avant que votre tweet soit effectivement livré à tous vos abonnés.

**[Redis](https://redis.io/)** est utile en tant que simple broker de messages mais des messages peuvent être perdus.

**[RabbitMQ](https://www.rabbitmq.com/)** est populaire mais nécessite de s’adapter au protocole 'AMQP' et de gérer vos propres nœuds.

**[Amazon SQS](https://aws.amazon.com/sqs/)** est hébergé mais peut présenter une latence élevée et la possibilité que des messages soient livrés deux fois.

### Files de tâches

Les files de tâches reçoivent des tâches et leurs données associées, les exécutent, puis livrent leurs résultats. Elles peuvent prendre en charge la planification et peuvent être utilisées pour exécuter des travaux intensifs en calcul en arrière-plan.

**[Celery](https://docs.celeryproject.org/en/stable/)** prend en charge la planification et supporte principalement Python.

### Rétropression (Back pressure)

Si les files d’attente commencent à croître de manière significative, la taille de la file peut dépasser la mémoire, entraînant des défauts de cache, des lectures sur disque et des performances encore plus lentes.  La [rétropression](http://mechanical-sympathy.blogspot.com/2012/05/apply-back-pressure-when-overloaded.html) peut aider en limitant la taille de la file, maintenant ainsi un débit élevé et de bons temps de réponse pour les tâches déjà en attente.  Une fois la file remplie, les clients reçoivent un statut serveur occupé ou HTTP 503 pour réessayer plus tard.  Les clients peuvent réessayer la requête ultérieurement, peut-être avec un [exponential backoff](https://fr.wikipedia.org/wiki/Backoff_exponentiel).

### Inconvénient(s) : asynchronisme

* Les cas d’utilisation tels que les calculs peu coûteux et les flux de travail en temps réel pourraient être mieux adaptés aux opérations synchrones, car l’introduction de files d’attente peut ajouter des délais et de la complexité.

### Source(s) et lectures complémentaires

* [It's all a numbers game](https://www.youtube.com/watch?v=1KRYH75wgy4)
* [Applying back pressure when overloaded](http://mechanical-sympathy.blogspot.com/2012/05/apply-back-pressure-when-overloaded.html)
* [Little's law](https://fr.wikipedia.org/wiki/Loi_de_Little)
* [Quelle est la différence entre une file de messages et une file de tâches ?](https://www.quora.com/What-is-the-difference-between-a-message-queue-and-a-task-queue-Why-would-a-task-queue-require-a-message-broker-like-RabbitMQ-Redis-Celery-or-IronMQ-to-function)

## Communication

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/5KeocQs.jpg">
  <br/>
  <i><a href=http://www.escotal.com/osilayer.html>Source : modèle OSI en 7 couches</a></i>
</p>

### Protocole de transfert hypertexte (HTTP)

HTTP est une méthode pour encoder et transporter des données entre un client et un serveur. C’est un protocole requête/réponse : les clients émettent des requêtes et les serveurs renvoient des réponses avec le contenu pertinent et des informations sur le statut de la requête. HTTP est autonome, permettant aux requêtes et réponses de transiter par de nombreux routeurs et serveurs intermédiaires qui effectuent équilibrage de charge, mise en cache, chiffrement et compression.

Une requête HTTP basique se compose d’un verbe (méthode) et d’une ressource (point de terminaison). Voici les verbes HTTP courants :

| Verbe | Description | Idempotent* | Sûr | Mise en cache |

| GET | Lit une ressource | Oui | Oui | Oui |
| POST | Crée une ressource ou déclenche un processus qui traite les données | Non | Non | Oui si la réponse contient des informations de fraîcheur |
| PUT | Crée ou remplace une ressource | Oui | Non | Non |
| PATCH | Met à jour partiellement une ressource | Non | Non | Oui si la réponse contient des informations de fraîcheur |
| DELETE | Supprime une ressource | Oui | Non | Non |

*Peut être appelé plusieurs fois sans résultats différents.

HTTP est un protocole de couche application reposant sur des protocoles de niveau inférieur tels que **TCP** et **UDP**.

#### Source(s) et lectures complémentaires : HTTP

* [Qu'est-ce que HTTP ?](https://www.nginx.com/resources/glossary/http/)
* [Différence entre HTTP et TCP](https://www.quora.com/What-is-the-difference-between-HTTP-protocol-and-TCP-protocol)
* [Différence entre PUT et PATCH](https://laracasts.com/discuss/channels/general-discussion/whats-the-differences-between-put-and-patch?page=1)

### Protocole de contrôle de transmission (TCP)

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/JdAsdvG.jpg">
  <br/>
  <i><a href=http://www.wildbunny.co.uk/blog/2012/10/09/how-to-make-a-multi-player-game-part-1/>Source : Comment créer un jeu multijoueur</a></i>
</p>

TCP est un protocole orienté connexion sur un [réseau IP](https://fr.wikipedia.org/wiki/Internet_Protocol). La connexion est établie et terminée via une [poignée de main (handshake)](https://fr.wikipedia.org/wiki/Handshaking). Tous les paquets envoyés sont garantis d’atteindre la destination dans l’ordre initial et sans corruption grâce à :

* Des numéros de séquence et des [champs de somme de contrôle](https://fr.wikipedia.org/wiki/Transmission_Control_Protocol#Checksum_computation) pour chaque paquet
* Des paquets de [reconnaissance (acknowledgement)](https://fr.wikipedia.org/wiki/Acknowledgement_(data_networks)) et la retransmission automatique

Si l’émetteur ne reçoit pas une réponse correcte, il renverra les paquets. En cas de multiples délais d’attente, la connexion est interrompue. TCP implémente également le [contrôle de flux](https://fr.wikipedia.org/wiki/Contr%C3%B4le_de_flux_(informatique)) et le [contrôle de congestion](https://fr.wikipedia.org/wiki/Congestion_r%C3%A9seau#Contr%C3%B4le_de_congestion). Ces garanties causent des délais et entraînent généralement une transmission moins efficace que UDP.

Pour garantir un débit élevé, les serveurs web peuvent garder un grand nombre de connexions TCP ouvertes, ce qui entraîne une utilisation élevée de la mémoire. Il peut être coûteux d’avoir un grand nombre de connexions ouvertes entre les threads du serveur web et par exemple, un serveur [memcached](https://memcached.org/). Le [pooling de connexions](https://fr.wikipedia.org/wiki/Pool_de_connexions) peut aider en plus du passage à UDP lorsque cela est applicable.

TCP est utile pour les applications nécessitant une haute fiabilité mais moins critiques en temps. Quelques exemples incluent les serveurs web, les bases de données, SMTP, FTP et SSH.

Utilisez TCP plutôt que UDP lorsque :

* Vous avez besoin que toutes les données arrivent intactes
* Vous souhaitez automatiquement faire une meilleure estimation de l’utilisation du débit réseau

### Protocole datagramme utilisateur (UDP)

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/yzDrJtA.jpg">
  <br/>
  <i><a href=http://www.wildbunny.co.uk/blog/2012/10/09/how-to-make-a-multi-player-game-part-1/>Source : Comment créer un jeu multijoueur</a></i>
</p>

UDP est sans connexion. Les datagrammes (analogues aux paquets) sont garantis uniquement au niveau du datagramme. Les datagrammes peuvent arriver à destination dans le désordre ou pas du tout. UDP ne supporte pas le contrôle de congestion. Sans les garanties que TCP offre, UDP est généralement plus efficace.

UDP peut diffuser, envoyant des datagrammes à tous les appareils sur le sous-réseau. Ceci est utile avec [DHCP](https://fr.wikipedia.org/wiki/Protocole_de_configuration_dynamique_des_hôtes) car le client n'a pas encore reçu d'adresse IP, empêchant ainsi TCP de diffuser sans adresse IP.

UDP est moins fiable mais fonctionne bien dans des cas d'utilisation en temps réel tels que VoIP, chat vidéo, streaming et jeux multijoueurs en temps réel.

Utilisez UDP plutôt que TCP quand :

* Vous avez besoin de la latence la plus faible
* Les données tardives sont pires que la perte de données
* Vous souhaitez implémenter votre propre correction d'erreur

#### Sources et lectures complémentaires : TCP et UDP

* [Mise en réseau pour la programmation de jeux](http://gafferongames.com/networking-for-game-programmers/udp-vs-tcp/)
* [Principales différences entre les protocoles TCP et UDP](http://www.cyberciti.biz/faq/key-differences-between-tcp-and-udp-protocols/)
* [Différence entre TCP et UDP](http://stackoverflow.com/questions/5970383/difference-between-tcp-and-udp)
* [Protocole de contrôle de transmission](https://fr.wikipedia.org/wiki/Transmission_Control_Protocol)
* [Protocole datagramme utilisateur](https://fr.wikipedia.org/wiki/User_Datagram_Protocol)
* [Mise à l'échelle de memcache chez Facebook](http://www.cs.bu.edu/~jappavoo/jappavoo.github.com/451/papers/memcache-fb.pdf)

### Appel de procédure distante (RPC)

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/iF4Mkb5.png">
  <br/>
  <i><a href=http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview>Source : Réussir l'entretien de conception système</a></i>
</p>

Dans un RPC, un client déclenche l'exécution d'une procédure dans un espace d'adressage différent, généralement un serveur distant. La procédure est codée comme s'il s'agissait d'un appel de procédure local, masquant les détails de la communication avec le serveur au programme client. Les appels distants sont généralement plus lents et moins fiables que les appels locaux, il est donc utile de distinguer les appels RPC des appels locaux. Les frameworks RPC populaires incluent [Protobuf](https://developers.google.com/protocol-buffers/), [Thrift](https://thrift.apache.org/), et [Avro](https://avro.apache.org/docs/current/).

RPC est un protocole requête-réponse :
* **Programme client** - Appelle la procédure stub client. Les paramètres sont poussés sur la pile comme un appel de procédure local.  
* **Procédure stub client** - Sérialise (emballe) l’identifiant de la procédure et les arguments dans un message de requête.  
* **Module de communication client** - Le système d’exploitation envoie le message du client vers le serveur.  
* **Module de communication serveur** - Le système d’exploitation transmet les paquets entrants à la procédure stub serveur.  
* **Procédure stub serveur** - Désérialise les résultats, appelle la procédure serveur correspondant à l’identifiant de la procédure et transmet les arguments donnés.  
* La réponse du serveur répète les étapes ci-dessus dans l’ordre inverse.  

Exemples d’appels RPC :


```
GET /someoperation?data=anId

POST /anotheroperation
{
  "data":"anId";
  "anotherdata": "another value"
}
```

RPC se concentre sur l'exposition des comportements. Les RPC sont souvent utilisés pour des raisons de performance dans les communications internes, car vous pouvez créer manuellement des appels natifs pour mieux adapter vos cas d'utilisation.

Choisissez une bibliothèque native (également appelée SDK) lorsque :

* Vous connaissez votre plateforme cible.
* Vous souhaitez contrôler la manière dont votre "logique" est accessible.
* Vous souhaitez contrôler la gestion des erreurs en dehors de votre bibliothèque.
* La performance et l'expérience utilisateur finale sont vos principales préoccupations.

Les API HTTP suivant **REST** ont tendance à être utilisées plus fréquemment pour les API publiques.

#### Inconvénient(s) : RPC

* Les clients RPC deviennent étroitement liés à l'implémentation du service.
* Une nouvelle API doit être définie pour chaque nouvelle opération ou cas d'utilisation.
* Il peut être difficile de déboguer les RPC.
* Vous pourriez ne pas être en mesure de tirer parti des technologies existantes directement. Par exemple, cela peut nécessiter un effort supplémentaire pour garantir que [les appels RPC sont correctement mis en cache](https://web.archive.org/web/20170608193645/http://etherealbits.com/2012/12/debunking-the-myths-of-rpc-rest/) sur des serveurs de cache tels que [Squid](http://www.squid-cache.org/).

### Représentation de transfert d'état (REST)

REST est un style architectural imposant un modèle client/serveur où le client agit sur un ensemble de ressources gérées par le serveur. Le serveur fournit une représentation des ressources et des actions qui peuvent soit manipuler, soit obtenir une nouvelle représentation des ressources. Toute communication doit être sans état et mise en cache.

Il y a quatre qualités d'une interface RESTful :

* **Identifier les ressources (URI en HTTP)** - utiliser la même URI quel que soit l'opération.
* **Changer avec les représentations (Verbes en HTTP)** - utiliser des verbes, des en-têtes et un corps.
* **Message d'erreur auto-descriptif (réponse de statut en HTTP)** - utiliser les codes d'état, ne pas réinventer la roue.
* **[HATEOAS](http://restcookbook.com/Basics/hateoas/) (interface HTML pour HTTP)** - votre service web doit être entièrement accessible dans un navigateur.

Exemples d'appels REST :

```
GET /someresources/anId

PUT /someresources/anId
{"anotherdata": "another value"}
```
REST se concentre sur l'exposition des données. Il minimise le couplage entre client/serveur et est souvent utilisé pour les API HTTP publiques. REST utilise une méthode plus générique et uniforme d'exposition des ressources via des URI, [représentation via les en-têtes](https://github.com/for-GET/know-your-http-well/blob/master/headers.md), et des actions via des verbes tels que GET, POST, PUT, DELETE et PATCH. Étant sans état, REST est idéal pour la montée en charge horizontale et le partitionnement.

#### Inconvénient(s) : REST

* REST étant axé sur l'exposition des données, il pourrait ne pas convenir si les ressources ne sont pas naturellement organisées ou accessibles dans une hiérarchie simple. Par exemple, retourner tous les enregistrements mis à jour au cours de la dernière heure correspondant à un ensemble particulier d'événements n'est pas facilement exprimé comme un chemin. Avec REST, cela est souvent implémenté avec une combinaison de chemin URI, de paramètres de requête et éventuellement du corps de la requête.
* REST s'appuie généralement sur quelques verbes (GET, POST, PUT, DELETE et PATCH) qui ne correspondent pas toujours à votre cas d'utilisation. Par exemple, déplacer des documents expirés vers le dossier d'archive ne s'intègre pas proprement dans ces verbes.
* Récupérer des ressources complexes avec des hiérarchies imbriquées nécessite plusieurs allers-retours entre le client et le serveur pour afficher des vues uniques, par exemple récupérer le contenu d'une entrée de blog et les commentaires sur cette entrée. Pour les applications mobiles fonctionnant dans des conditions réseau variables, ces multiples allers-retours sont très indésirables.
* Avec le temps, davantage de champs peuvent être ajoutés à une réponse d'API et les clients plus anciens recevront tous les nouveaux champs de données, même ceux dont ils n'ont pas besoin, ce qui gonfle la taille de la charge utile et entraîne des latences plus importantes.

### Comparaison des appels RPC et REST

| Opération | RPC | REST |
|---|---|---|
| Inscription    | **POST** /signup | **POST** /persons |
| Démission    | **POST** /resign<br/>{<br/>"personid": "1234"<br/>} | **DELETE** /persons/1234 |
| Lire une personne | **GET** /readPerson?personid=1234 | **GET** /persons/1234 |
| Lire la liste d'articles d'une personne | **GET** /readUsersItemsList?personid=1234 | **GET** /persons/1234/items |
| Ajouter un article à la liste d'articles d'une personne | **POST** /addItemToUsersItemsList<br/>{<br/>"personid": "1234";<br/>"itemid": "456"<br/>} | **POST** /persons/1234/items<br/>{<br/>"itemid": "456"<br/>} |
| Mettre à jour un article    | **POST** /modifyItem<br/>{<br/>"itemid": "456";<br/>"key": "value"<br/>} | **PUT** /items/456<br/>{<br/>"key": "value"<br/>} |
| Supprimer un article | **POST** /removeItem<br/>{<br/>"itemid": "456"<br/>} | **DELETE** /items/456 |

<p align="center">
  <i><a href=https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc/>Source : Savez-vous vraiment pourquoi vous préférez REST à RPC</a></i>
</p>

#### Source(s) et lectures complémentaires : REST et RPC

* [Savez-vous vraiment pourquoi vous préférez REST à RPC](https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc/)
* [Quand les approches de type RPC sont-elles plus appropriées que REST ?](http://programmers.stackexchange.com/a/181186)
* [REST vs JSON-RPC](http://stackoverflow.com/questions/15056878/rest-vs-json-rpc)
* [Démystifier les mythes de RPC et REST](https://web.archive.org/web/20170608193645/http://etherealbits.com/2012/12/debunking-the-myths-of-rpc-rest/)
* [Quels sont les inconvénients de l'utilisation de REST](https://www.quora.com/What-are-the-drawbacks-of-using-RESTful-APIs)
* [Réussir l'entretien de conception de système](http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview)
* [Thrift](https://code.facebook.com/posts/1468950976659943/)
* [Pourquoi REST pour un usage interne et pas RPC](http://arstechnica.com/civis/viewtopic.php?t=1190508)

## Sécurité

Cette section pourrait être mise à jour. Envisagez de [contribuer](#contributing) !

La sécurité est un sujet vaste. À moins que vous n'ayez une expérience considérable, un background en sécurité, ou que vous postuliez à un poste nécessitant des connaissances en sécurité, vous n'aurez probablement pas besoin de connaître plus que les bases :

* Chiffrez les données en transit et au repos.
* Nettoyez toutes les entrées utilisateur ou tout paramètre d'entrée exposé à l'utilisateur pour prévenir les [XSS](https://en.wikipedia.org/wiki/Cross-site_scripting) et les [injections SQL](https://en.wikipedia.org/wiki/SQL_injection).
* Utilisez des requêtes paramétrées pour éviter les injections SQL.
* Appliquez le principe du [moindre privilège](https://fr.wikipedia.org/wiki/Principe_du_moindre_privil%C3%A8ge).

### Source(s) et lectures complémentaires

* [Liste de contrôle de sécurité API](https://github.com/shieldfy/API-Security-Checklist)
* [Guide de sécurité pour les développeurs](https://github.com/FallibleInc/security-guide-for-developers)
* [Top dix OWASP](https://www.owasp.org/index.php/OWASP_Top_Ten_Cheat_Sheet)

## Annexe

Il vous sera parfois demandé de faire des estimations rapides. Par exemple, vous pourriez devoir déterminer combien de temps il faudra pour générer 100 miniatures d’images à partir du disque ou combien de mémoire une structure de données occupera. Le **tableau des puissances de deux** et les **chiffres de latence que tout programmeur devrait connaître** sont des références utiles.

### Tableau des puissances de deux


```
Power           Exact Value         Approx Value        Bytes
---------------------------------------------------------------
7                             128
8                             256
10                           1024   1 thousand           1 KB
16                         65,536                       64 KB
20                      1,048,576   1 million            1 MB
30                  1,073,741,824   1 billion            1 GB
32                  4,294,967,296                        4 GB
40              1,099,511,627,776   1 trillion           1 TB
```

#### Source(s) et lectures complémentaires

* [Puissances de deux](https://fr.wikipedia.org/wiki/Puissance_de_deux)

### Nombres de latence que tout programmeur devrait connaître

```
Latency Comparison Numbers
--------------------------
L1 cache reference                           0.5 ns
Branch mispredict                            5   ns
L2 cache reference                           7   ns                      14x L1 cache
Mutex lock/unlock                           25   ns
Main memory reference                      100   ns                      20x L2 cache, 200x L1 cache
Compress 1K bytes with Zippy            10,000   ns       10 us
Send 1 KB bytes over 1 Gbps network     10,000   ns       10 us
Read 4 KB randomly from SSD*           150,000   ns      150 us          ~1GB/sec SSD
Read 1 MB sequentially from memory     250,000   ns      250 us
Round trip within same datacenter      500,000   ns      500 us
Read 1 MB sequentially from SSD*     1,000,000   ns    1,000 us    1 ms  ~1GB/sec SSD, 4X memory
HDD seek                            10,000,000   ns   10,000 us   10 ms  20x datacenter roundtrip
Read 1 MB sequentially from 1 Gbps  10,000,000   ns   10,000 us   10 ms  40x memory, 10X SSD
Read 1 MB sequentially from HDD     30,000,000   ns   30,000 us   30 ms 120x memory, 30X SSD
Send packet CA->Netherlands->CA    150,000,000   ns  150,000 us  150 ms

Notes
-----
1 ns = 10^-9 seconds
1 us = 10^-6 seconds = 1,000 ns
1 ms = 10^-3 seconds = 1,000 us = 1,000,000 ns
```

Métriques pratiques basées sur les chiffres ci-dessus :

* Lecture séquentielle depuis un HDD à 30 Mo/s
* Lecture séquentielle depuis un Ethernet 1 Gbps à 100 Mo/s
* Lecture séquentielle depuis un SSD à 1 Go/s
* Lecture séquentielle depuis la mémoire principale à 4 Go/s
* 6-7 allers-retours mondiaux par seconde
* 2 000 allers-retours par seconde au sein d’un centre de données

#### Visualisation des chiffres de latence

![](https://camo.githubusercontent.com/77f72259e1eb58596b564d1ad823af1853bc60a3/687474703a2f2f692e696d6775722e636f6d2f6b307431652e706e67)

#### Source(s) et lectures complémentaires

* [Chiffres de latence que tout programmeur devrait connaître - 1](https://gist.github.com/jboner/2841832)
* [Chiffres de latence que tout programmeur devrait connaître - 2](https://gist.github.com/hellerbarde/2843375)
* [Conceptions, leçons et conseils issus de la construction de grands systèmes distribués](http://www.cs.cornell.edu/projects/ladis2009/talks/dean-keynote-ladis2009.pdf)
* [Conseils en ingénierie logicielle issus de la construction de systèmes distribués à grande échelle](https://static.googleusercontent.com/media/research.google.com/en//people/jeff/stanford-295-talk.pdf)

### Questions supplémentaires d’entretien de conception système

> Questions courantes d’entretien de conception système, avec des liens vers des ressources pour résoudre chacune.

| Question | Référence(s) |
|---|---|
| Concevoir un service de synchronisation de fichiers comme Dropbox | [youtube.com](https://www.youtube.com/watch?v=PE4gwstWhmc) |
| Concevoir un moteur de recherche comme Google | [queue.acm.org](http://queue.acm.org/detail.cfm?id=988407)<br/>[stackexchange.com](http://programmers.stackexchange.com/questions/38324/interview-question-how-would-you-implement-google-search)<br/>[ardendertat.com](http://www.ardendertat.com/2012/01/11/implementing-search-engines/)<br/>[stanford.edu](http://infolab.stanford.edu/~backrub/google.html) |
| Concevoir un robot d’indexation web évolutif comme Google | [quora.com](https://www.quora.com/How-can-I-build-a-web-crawler-from-scratch) |
| Concevoir Google Docs | [code.google.com](https://code.google.com/p/google-mobwrite/)<br/>[neil.fraser.name](https://neil.fraser.name/writing/sync/) |
| Concevoir un magasin clé-valeur comme Redis | [slideshare.net](http://www.slideshare.net/dvirsky/introduction-to-redis) |
| Concevoir un système de cache comme Memcached | [slideshare.net](http://www.slideshare.net/oemebamo/introduction-to-memcached) |
| Concevoir un système de recommandation comme celui d’Amazon | [hulu.com](https://web.archive.org/web/20170406065247/http://tech.hulu.com/blog/2011/09/19/recommendation-system.html)<br/>[ijcai13.org](http://ijcai13.org/files/tutorial_slides/td3.pdf) |
| Concevoir un système tinyurl comme Bitly | [n00tc0d3r.blogspot.com](http://n00tc0d3r.blogspot.com/) |
| Concevoir une application de chat comme WhatsApp | [highscalability.com](http://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html)
| Concevoir un système de partage de photos comme Instagram | [highscalability.com](http://highscalability.com/flickr-architecture)<br/>[highscalability.com](http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html) |
| Concevoir la fonction fil d’actualité de Facebook | [quora.com](http://www.quora.com/What-are-best-practices-for-building-something-like-a-News-Feed)<br/>[quora.com](http://www.quora.com/Activity-Streams/What-are-the-scaling-issues-to-keep-in-mind-while-developing-a-social-network-feed)<br/>[slideshare.net](http://www.slideshare.net/danmckinley/etsy-activity-feeds-architecture) |
| Concevoir la fonction timeline de Facebook | [facebook.com](https://www.facebook.com/note.php?note_id=10150468255628920)<br/>[highscalability.com](http://highscalability.com/blog/2012/1/23/facebook-timeline-brought-to-you-by-the-power-of-denormaliza.html) |
| Concevoir la fonction chat de Facebook | [erlang-factory.com](http://www.erlang-factory.com/upload/presentations/31/EugeneLetuchy-ErlangatFacebook.pdf)<br/>[facebook.com](https://www.facebook.com/note.php?note_id=14218138919&id=9445547199&index=0) |
| Concevoir une fonction de recherche de graphe comme celle de Facebook | [facebook.com](https://www.facebook.com/notes/facebook-engineering/under-the-hood-building-out-the-infrastructure-for-graph-search/10151347573598920)<br/>[facebook.com](https://www.facebook.com/notes/facebook-engineering/under-the-hood-indexing-and-ranking-in-graph-search/10151361720763920)<br/>[facebook.com](https://www.facebook.com/notes/facebook-engineering/under-the-hood-the-natural-language-interface-of-graph-search/10151432733048920) |
| Concevoir un réseau de diffusion de contenu comme CloudFlare | [figshare.com](https://figshare.com/articles/Globally_distributed_content_delivery/6605972) |
| Concevoir un système de sujets tendance comme celui de Twitter | [michael-noll.com](http://www.michael-noll.com/blog/2013/01/18/implementing-real-time-trending-topics-in-storm/)<br/>[snikolov.wordpress.com](http://snikolov.wordpress.com/2012/11/14/early-detection-of-twitter-trends/) |
| Concevoir un système de génération d’identifiants aléatoires | [blog.twitter.com](https://blog.twitter.com/2010/announcing-snowflake)<br/>[github.com](https://github.com/twitter/snowflake/) |
| Retourner les k requêtes les plus fréquentes durant un intervalle de temps | [cs.ucsb.edu](https://www.cs.ucsb.edu/sites/default/files/documents/2005-23.pdf)<br/>[wpi.edu](http://davis.wpi.edu/xmdv/docs/EDBT11-diyang.pdf) |
| Concevoir un système qui sert des données depuis plusieurs centres de données | [highscalability.com](http://highscalability.com/blog/2009/8/24/how-google-serves-data-from-multiple-datacenters.html) |
| Concevoir un jeu de cartes multijoueur en ligne | [indieflashblog.com](https://web.archive.org/web/20180929181117/http://www.indieflashblog.com/how-to-create-an-asynchronous-multiplayer-game.html)<br/>[buildnewgames.com](http://buildnewgames.com/real-time-multiplayer/) |
| Concevoir un système de collecte des déchets (garbage collection) | [stuffwithstuff.com](http://journal.stuffwithstuff.com/2013/12/08/babys-first-garbage-collector/)<br/>[washington.edu](http://courses.cs.washington.edu/courses/csep521/07wi/prj/rick.pdf) |
| Concevoir un limiteur de débit d’API | [https://stripe.com/blog/](https://stripe.com/blog/rate-limiters) |
| Concevoir une Bourse (comme NASDAQ ou Binance) | [Jane Street](https://youtu.be/b1e4t2k2KJY)<br/>[Golang Implementation](https://around25.com/blog/building-a-trading-engine-for-a-crypto-exchange/)<br/>[Go Implementation](http://bhomnick.net/building-a-simple-limit-order-in-go/) |
| Ajouter une question de conception système | [Contribuer](#contributing) |

### Architectures du monde réel

> Articles sur la manière dont les systèmes réels sont conçus.

<p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/TcUo2fw.png">
  <br/>
  <i><a href=https://www.infoq.com/presentations/Twitter-Timeline-Scalability>Source : Échelles des timelines Twitter</a></i>
</p>

**Ne vous concentrez pas sur les détails techniques dans les articles suivants, mais plutôt :**

* Identifier les principes partagés, technologies communes et motifs dans ces articles
* Étudier les problèmes résolus par chaque composant, où cela fonctionne, où cela ne fonctionne pas
* Revoir les leçons apprises

|Type | Système | Référence(s) |
|---|---|---|
| Traitement de données | **MapReduce** - Traitement distribué de données par Google | [research.google.com](http://static.googleusercontent.com/media/research.google.com/zh-CN/us/archive/mapreduce-osdi04.pdf) |
| Traitement de données | **Spark** - Traitement distribué de données par Databricks | [slideshare.net](http://www.slideshare.net/AGrishchenko/apache-spark-architecture) |
| Traitement de données | **Storm** - Traitement distribué de données par Twitter | [slideshare.net](http://www.slideshare.net/previa/storm-16094009) |
| | | |
| Stockage de données | **Bigtable** - Base de données orientée colonnes distribuée de Google | [harvard.edu](http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf) |
| Stockage de données | **HBase** - Implémentation open source de Bigtable | [slideshare.net](http://www.slideshare.net/alexbaranau/intro-to-hbase) |
| Stockage de données | **Cassandra** - Base de données orientée colonnes distribuée de Facebook | [slideshare.net](http://www.slideshare.net/planetcassandra/cassandra-introduction-features-30103666) |
| Stockage de données | **DynamoDB** - Base de données orientée documents d’Amazon | [harvard.edu](http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/decandia07dynamo.pdf) |
| Stockage de données | **MongoDB** - Base de données orientée documents | [slideshare.net](http://www.slideshare.net/mdirolf/introduction-to-mongodb) |
| Stockage de données | **Spanner** - Base de données distribuée globalement par Google | [research.google.com](http://research.google.com/archive/spanner-osdi2012.pdf) |
| Stockage de données | **Memcached** - Système de cache mémoire distribué | [slideshare.net](http://www.slideshare.net/oemebamo/introduction-to-memcached) |
| Stockage de données | **Redis** - Système de cache mémoire distribué avec persistance et types de valeurs | [slideshare.net](http://www.slideshare.net/dvirsky/introduction-to-redis) |
| | | |
| Système de fichiers | **Google File System (GFS)** - Système de fichiers distribué | [research.google.com](http://static.googleusercontent.com/media/research.google.com/zh-CN/us/archive/gfs-sosp2003.pdf) |
| Système de fichiers | **Hadoop File System (HDFS)** - Implémentation open source de GFS | [apache.org](http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html) |
| | | |
| Divers | **Chubby** - Service de verrouillage pour systèmes distribués faiblement couplés de Google | [research.google.com](http://static.googleusercontent.com/external_content/untrusted_dlcp/research.google.com/en/us/archive/chubby-osdi06.pdf) |
| Divers | **Dapper** - Infrastructure de traçage des systèmes distribués | [research.google.com](http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/36356.pdf) |
| Divers | **Kafka** - File de messages pub/sub de LinkedIn | [slideshare.net](http://www.slideshare.net/mumrah/kafka-talk-tri-hug) |
| Divers | **Zookeeper** - Infrastructure centralisée et services permettant la synchronisation | [slideshare.net](http://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper) |
| | Ajouter une architecture | [Contribuer](#contributing) |

### Architectures d’entreprises

| Entreprise | Référence(s) |
|---|---|
| Amazon | [Architecture Amazon](http://highscalability.com/amazon-architecture) |
| Cinchcast | [Production de 1 500 heures d’audio chaque jour](http://highscalability.com/blog/2012/7/16/cinchcast-architecture-producing-1500-hours-of-audio-every-d.html) |
| DataSift | [Datamining en temps réel à 120 000 tweets par seconde](http://highscalability.com/blog/2011/11/29/datasift-architecture-realtime-datamining-at-120000-tweets-p.html) |
| Dropbox | [Comment nous avons fait évoluer Dropbox](https://www.youtube.com/watch?v=PE4gwstWhmc) |
| ESPN | [Fonctionnement à 100 000 duh nuh nuhs par seconde](http://highscalability.com/blog/2013/11/4/espns-architecture-at-scale-operating-at-100000-duh-nuh-nuhs.html) |
| Google | [Architecture Google](http://highscalability.com/google-architecture) |
| Instagram | [14 millions d’utilisateurs, des téraoctets de photos](http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html)<br/>[Ce qui alimente Instagram](http://instagram-engineering.tumblr.com/post/13649370142/what-powers-instagram-hundreds-of-instances) |
| Justin.tv | [Architecture de diffusion vidéo en direct de Justin.Tv](http://highscalability.com/blog/2010/3/16/justintvs-live-video-broadcasting-architecture.html) |
| Facebook | [Mise à l’échelle de memcached chez Facebook](https://cs.uwaterloo.ca/~brecht/courses/854-Emerging-2014/readings/key-value/fb-memcached-nsdi-2013.pdf)<br/>[TAO : magasin de données distribué de Facebook pour le graphe social](https://cs.uwaterloo.ca/~brecht/courses/854-Emerging-2014/readings/data-store/tao-facebook-distributed-datastore-atc-2013.pdf)<br/>[Stockage des photos chez Facebook](https://www.usenix.org/legacy/event/osdi10/tech/full_papers/Beaver.pdf)<br/>[Comment Facebook diffuse en direct à 800 000 spectateurs simultanés](http://highscalability.com/blog/2016/6/27/how-facebook-live-streams-to-800000-simultaneous-viewers.html) |
| Flickr | [Architecture Flickr](http://highscalability.com/flickr-architecture) |
| Mailbox | [De 0 à un million d’utilisateurs en 6 semaines](http://highscalability.com/blog/2013/6/18/scaling-mailbox-from-0-to-one-million-users-in-6-weeks-and-1.html) |
| Netflix | [Vue à 360 degrés de toute la pile Netflix](http://highscalability.com/blog/2015/11/9/a-360-degree-view-of-the-entire-netflix-stack.html)<br/>[Netflix : que se passe-t-il quand vous appuyez sur play ?](http://highscalability.com/blog/2017/12/11/netflix-what-happens-when-you-press-play.html) |
| Pinterest | [De 0 à des dizaines de milliards de pages vues par mois](http://highscalability.com/blog/2013/4/15/scaling-pinterest-from-0-to-10s-of-billions-of-page-views-a.html)<br/>[18 millions de visiteurs, croissance de 10x, 12 employés](http://highscalability.com/blog/2012/5/21/pinterest-architecture-update-18-million-visitors-10x-growth.html) |
| Playfish | [50 millions d’utilisateurs mensuels et en croissance](http://highscalability.com/blog/2010/9/21/playfishs-social-gaming-architecture-50-million-monthly-user.html) |
| PlentyOfFish | [Architecture PlentyOfFish](http://highscalability.com/plentyoffish-architecture) |
| Salesforce | [Comment ils gèrent 1,3 milliard de transactions par jour](http://highscalability.com/blog/2013/9/23/salesforce-architecture-how-they-handle-13-billion-transacti.html) |
| Stack Overflow | [Architecture Stack Overflow](http://highscalability.com/blog/2009/8/5/stack-overflow-architecture.html) |
| TripAdvisor | [40 millions de visiteurs, 200 millions de pages dynamiques vues, 30 To de données](http://highscalability.com/blog/2011/6/27/tripadvisor-architecture-40m-visitors-200m-dynamic-page-view.html) |
| Tumblr | [15 milliards de pages vues par mois](http://highscalability.com/blog/2012/2/13/tumblr-architecture-15-billion-page-views-a-month-and-harder.html) |
| Twitter | [Rendre Twitter 10 000 % plus rapide](http://highscalability.com/scaling-twitter-making-twitter-10000-percent-faster)<br/>[Stocker 250 millions de tweets par jour avec MySQL](http://highscalability.com/blog/2011/12/19/how-twitter-stores-250-million-tweets-a-day-using-mysql.html)<br/>[150 millions d’utilisateurs actifs, 300 000 QPS, un firehose de 22 Mo/s](http://highscalability.com/blog/2013/7/8/the-architecture-twitter-uses-to-deal-with-150m-active-users.html)<br/>[Timelines à grande échelle](https://www.infoq.com/presentations/Twitter-Timeline-Scalability)<br/>[Données grandes et petites chez Twitter](https://www.youtube.com/watch?v=5cKTP36HVgI)<br/>[Opérations chez Twitter : montée en charge au-delà de 100 millions d’utilisateurs](https://www.youtube.com/watch?v=z8LU0Cj6BOU)<br/>[Comment Twitter gère 3 000 images par seconde](http://highscalability.com/blog/2016/4/20/how-twitter-handles-3000-images-per-second.html) |
| Uber | [Comment Uber met à l’échelle sa plateforme de marché en temps réel](http://highscalability.com/blog/2015/9/14/how-uber-scales-their-real-time-market-platform.html)<br/>[Leçons apprises de la montée en charge d’Uber à 2 000 ingénieurs, 1 000 services et 8 000 dépôts Git](http://highscalability.com/blog/2016/10/12/lessons-learned-from-scaling-uber-to-2000-engineers-1000-ser.html) |
| WhatsApp | [L’architecture WhatsApp que Facebook a achetée pour 19 milliards de dollars](http://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html) |
| YouTube | [Scalabilité YouTube](https://www.youtube.com/watch?v=w5WVu624fY8)<br/>[Architecture YouTube](http://highscalability.com/youtube-architecture) |

### Blogs d'ingénierie des entreprises

> Architectures pour les entreprises avec lesquelles vous passez des entretiens.
>
> Les questions que vous rencontrez peuvent provenir du même domaine.

* [Airbnb Engineering](http://nerds.airbnb.com/)
* [Atlassian Developers](https://developer.atlassian.com/blog/)
* [AWS Blog](https://aws.amazon.com/blogs/aws/)
* [Bitly Engineering Blog](http://word.bitly.com/)
* [Box Blogs](https://blog.box.com/blog/category/engineering)
* [Cloudera Developer Blog](http://blog.cloudera.com/)
* [Dropbox Tech Blog](https://tech.dropbox.com/)
* [Engineering at Quora](https://www.quora.com/q/quoraengineering)
* [Ebay Tech Blog](http://www.ebaytechblog.com/)
* [Evernote Tech Blog](https://blog.evernote.com/tech/)
* [Etsy Code as Craft](http://codeascraft.com/)
* [Facebook Engineering](https://www.facebook.com/Engineering)
* [Flickr Code](http://code.flickr.net/)
* [Foursquare Engineering Blog](http://engineering.foursquare.com/)
* [GitHub Engineering Blog](https://github.blog/category/engineering)
* [Google Research Blog](http://googleresearch.blogspot.com/)
* [Groupon Engineering Blog](https://engineering.groupon.com/)
* [Heroku Engineering Blog](https://engineering.heroku.com/)
* [Hubspot Engineering Blog](http://product.hubspot.com/blog/topic/engineering)
* [High Scalability](http://highscalability.com/)
* [Instagram Engineering](http://instagram-engineering.tumblr.com/)
* [Intel Software Blog](https://software.intel.com/en-us/blogs/)
* [Jane Street Tech Blog](https://blogs.janestreet.com/category/ocaml/)
* [LinkedIn Engineering](http://engineering.linkedin.com/blog)
* [Microsoft Engineering](https://engineering.microsoft.com/)
* [Microsoft Python Engineering](https://blogs.msdn.microsoft.com/pythonengineering/)
* [Netflix Tech Blog](http://techblog.netflix.com/)
* [Paypal Developer Blog](https://medium.com/paypal-engineering)
* [Pinterest Engineering Blog](https://medium.com/@Pinterest_Engineering)
* [Reddit Blog](http://www.redditblog.com/)
* [Salesforce Engineering Blog](https://developer.salesforce.com/blogs/engineering/)
* [Slack Engineering Blog](https://slack.engineering/)
* [Spotify Labs](https://labs.spotify.com/)
* [Stripe Engineering Blog](https://stripe.com/blog/engineering)
* [Blog d'ingénierie Twilio](http://www.twilio.com/engineering)
* [Ingénierie Twitter](https://blog.twitter.com/engineering/)
* [Blog d'ingénierie Uber](http://eng.uber.com/)
* [Blog d'ingénierie Yahoo](http://yahooeng.tumblr.com/)
* [Blog d'ingénierie Yelp](http://engineeringblog.yelp.com/)
* [Blog d'ingénierie Zynga](https://www.zynga.com/blogs/engineering)

#### Source(s) et lectures complémentaires

Vous souhaitez ajouter un blog ? Pour éviter de dupliquer le travail, envisagez d'ajouter le blog de votre entreprise dans le dépôt suivant :

* [kilimchoi/engineering-blogs](https://github.com/kilimchoi/engineering-blogs)

## En cours de développement

Intéressé à ajouter une section ou à aider à en compléter une en cours ? [Contribuez](#contributing) !

* Calcul distribué avec MapReduce
* Hachage cohérent
* Scatter gather
* [Contribuez](#contributing)

## Crédits

Les crédits et sources sont fournis tout au long de ce dépôt.

Remerciements particuliers à :

* [Hired in tech](http://www.hiredintech.com/system-design/the-system-design-process/)
* [Cracking the coding interview](https://www.amazon.com/dp/0984782850/)
* [High scalability](http://highscalability.com/)
* [checkcheckzz/system-design-interview](https://github.com/checkcheckzz/system-design-interview)
* [shashank88/system_design](https://github.com/shashank88/system_design)
* [mmcgrana/services-engineering](https://github.com/mmcgrana/services-engineering)
* [Fiche mémo design système](https://gist.github.com/vasanthk/485d1c25737e8e72759f)
* [Une liste de lectures sur les systèmes distribués](http://dancres.github.io/Pages/)
* [Réussir l'entretien de conception de système](http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview)

## Infos de contact

N’hésitez pas à me contacter pour discuter de tout problème, question ou commentaire.

Mes coordonnées se trouvent sur ma [page GitHub](https://github.com/donnemartin).

## Licence

*Je vous fournis le code et les ressources de ce dépôt sous une licence open source. Puisqu’il s’agit de mon dépôt personnel, la licence que vous recevez pour mon code et mes ressources vient de moi et non de mon employeur (Facebook).*

    Copyright 2017 Donne Martin

    Licence Creative Commons Attribution 4.0 International (CC BY 4.0)

    http://creativecommons.org/licenses/by/4.0/


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-08-09

---