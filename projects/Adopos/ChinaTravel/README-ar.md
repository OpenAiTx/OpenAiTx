<center>
  <h1>ChinaTravel: ูุนูุงุฑ ูุงูุนู ููููุงุก ุงููุบุฉ ูู ุชุฎุทูุท ุงูุณูุฑ ุงูุตููู
</h1>
</center>

ุงููุณุชูุฏุน ุงูุฑุณูู ููุดูุฑุฉ ุงูุฎุงุตุฉ ุจูุฑูุฉ "ChinaTravel: ูุนูุงุฑ ูุงูุนู ููููุงุก ุงููุบุฉ ูู ุชุฎุทูุท ุงูุณูุฑ ุงูุตููู".

<!-- | [ุงูุตูุญุฉ ุงูุฑุณููุฉ](https://www.lamda.nju.edu.cn/shaojj/chinatravel/) | [ุงููุฑูุฉ ุงูุนูููุฉ](https://arxiv.org/abs/2412.13682) | [ูุฌููุนุฉ ุงูุจูุงูุงุช (Huggingface)](https://huggingface.co/datasets/LAMDA-NeSy/ChinaTravel)| -->

[![ุงูุตูุญุฉ ุงูุฑุณููุฉ](https://img.shields.io/badge/Webpage-Visit-blue)](https://www.lamda.nju.edu.cn/shaojj/chinatravel/)
[![ุงููุฑูุฉ ุงูุนูููุฉ](https://img.shields.io/badge/Paper-View-red)](https://arxiv.org/abs/2412.13682)
[![ูุฌููุนุฉ ุงูุจูุงูุงุช (Huggingface)](https://img.shields.io/badge/Dataset-Huggingface-yellow)](https://huggingface.co/datasets/LAMDA-NeSy/ChinaTravel)
[![ุงููุณุงุจูุฉ (TPC@IJCAI2025)](https://img.shields.io/badge/IJCAI%20Competition-TPC@IJCAI2025-green)](https://chinatravel-competition.github.io/IJCAI2025/)
[![ุงููุณุงุจูุฉ (TPC@AIC2025)](https://img.shields.io/badge/AIC%20Competition-TPC@AIC2025-green)](TPC@AIC2025/readme.md)


<!-- 
![ูุธุฑุฉ ุนุงูุฉ](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/images/overview.png) -->

## ๐ ุชุญุฏู ุชุฎุทูุท ุงูุณูุฑ IJCAI 2025 (TPC@IJCAI)

ูุณุนุฏูุง ุฃู ูุนูู ุฃู ChinaTravel ุชู ุงุฎุชูุงุฑู ููุนูุงุฑ ุฑุณูู ูุชุญุฏู **ุชุฎุทูุท ุงูุณูุฑ (TPC) @ IJCAI 2025**!

**ุงููููุน ุงูุฑุณูู ูููุณุงุจูุฉ**:
[https://chinatravel-competition.github.io/IJCAI2025/](https://chinatravel-competition.github.io/IJCAI2025/)

ูุฏุนู ุงููุดุงุฑููู ูุชุทููุฑ ูููุงุก ูุจุชูุฑูู ูููููู ุงูุชุนุงูู ูุน ุณููุงุฑูููุงุช ุชุฎุทูุท ุงูุณูุฑ ุงููุงูุนูุฉ ุชุญุช ูููุฏ ูุนูุฏุฉ. ุณุชุณุชุนุฑุถ ูุฐู ุงููุณุงุจูุฉ ุฃุญุฏุซ ุงูุฃุณุงููุจ ูู ุฃุจุญุงุซ ูููุงุก ุงููุบุฉ.

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

### 2025.09
1. ุฑูุน ุงูุญู ุงููุงุฆุฒ ูู ูุณุงุฑ DSL ูู TPC@IJCAI2025. ูุดูุฑ [@evergreenee](https://github.com/evergreenee) ุนูู ูุณุงููุงุชูู.  


### 2025.06

1. ุชุตุญูุญ ุฌูุน ุงูุฃุฎุทุงุก ูู ููุฏ ุงูุชูููู ุงูุฎุงุต ุจุงููุนุฑูุฉ ุงูุนุงูุฉ.
2. ุชุตุญูุญ ูุณุงุฑ ูููู ุงูุนุตุจู ุงูุจุญุช
3. ุชุตุญูุญ ุชุญููู ูุฌููุนุงุช ุงูุจูุงูุงุช ูู huggingface
4. ุชุญุฏูุซ ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุกุงุช ูู ุงูุชุญูู ูู ุจูุงุก ุงูุฌููุฉ


### 2025.05

1. ุณุฌู ุงูุชุญุฏูุซุงุช ูุฃุญุฏุซ ุฅุตุฏุงุฑ.
2. ุชูููุฑ ููุฏ ุงูุชูููู ูู TPC.

### 2025.04

1. ุชูุช ุฅุถุงูุฉ ูุญููู ุจูุงูุงุช ูุญูู. ูููู ูููุณุชุฎุฏููู ุงูุขู ุชุญููู ุงูุงุณุชุนูุงูุงุช ุงููุฎุตุตุฉ ูุญููุงู. ุนูุฏ ุชุญุฏูุฏ ููู splits_name ุบูุฑ ุงูุงูุชุฑุงุถูุฉ (ูุซูุงูุ "abc") ูู "run_exp.py"ุ ุณูููู ุงููุธุงู ุชููุงุฆูุงู ุจุชุญููู ุงููููุงุช ุงูููุงุจูุฉ ูู evaluation/default_splits/abc.txtุ ุญูุซ ูุญุชูู ููู TXT ุนูู ุฃุณูุงุก ูููุงุช ุงูุงุณุชุนูุงู ุงููุณุชูุฏูุฉ.
2. ุชุตููู ุงููููุฏ ุจุดูู ููุตู. ุฑุงุฌุน ุงููุซุงุฆู ุงูููุตูุฉ ุนูู [Evaluation README](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/symbol_verification/readme.md)
3. ุชูุฏูู ุฎุท ุงูุฃุณุงุณ LLM-modulo
   ุชูููุฐ ุฎุท ุฃูุงุจูุจ LLM-modulo ูุน ูุญูู ุฑูุฒู ููุซูู.
   ุงุณุชูุงุฏุงู ุฅูู ุงููููุฌูุฉ ูู:
   ูุฑูุฉ: Robust Planning with Compound LLM Architectures: An LLM-Modulo Approach
   ูุงุนุฏุฉ ุงูููุฏ: https://github.com/Atharva-Gundawar/LLM-Modulo-prompts
4. ุฏุนู ุงุณุชุฏูุงู LLMs ุงููุญูู ุจุงุณุชุฎุฏุงู Qwen3-8B/4B.

## ๐ ุจุฏุก ุณุฑูุน

### โ๏ธ ุงูุฅุนุฏุงุฏ

1. ุฃูุดุฆ ุจูุฆุฉ conda ููู ุจุชุซุจูุช ุงูุชุจุนูุงุช:

```bash
conda create -n chinatravel python=3.9  
conda activate chinatravel  
pip install -r requirements.txt  
```

2. ูู ุจุชูุฒูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููู ุถุบุทูุง ุฅูู ุฏููู "chinatravel/environment/"

ุฑูุงุจุท ุงูุชูุฒูู: [Google Drive](https://drive.google.com/drive/folders/1bJ7jA5cfExO_NKxKfi9qgcxEbkYeSdAU)ุ [NJU Drive](https://box.nju.edu.cn/d/dd83e5a4a9e242ed8eb4/)

3. ูู ุจุชูุฒูู ููุงุฐุฌ ุงููุบุฉ ุงูููุชูุญุฉ ุงููุตุฏุฑ (ุงุฎุชูุงุฑู).

```bash
bash download_llm.sh
```

4. ูู ุจุชูุฒูู ุฃุฏูุงุช ุชูุณูู ุงููุต (Tokenizers).

```bash
wget https://cdn.deepseek.com/api-docs/deepseek_v3_tokenizer.zip -P chinatravel/local_llm/
unzip chinatravel/local_llm/deepseek_v3_tokenizer.zip -d chinatravel/local_llm/
```

### โถ๏ธ ุงูุชุดุบูู

ูุฏุนู deepseek (ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฑุณููุฉ ูู deepseek)ุ gpt-4o (chatgpt-4o-latest)ุ glm4-plusุ ูุงูุงุณุชุฏูุงูุงุช ุงููุญููุฉ ุจุงุณุชุฎุฏุงู Qwen (Qwen3-8B)ุ llamaุ mistral (Mistral-7B-Instruct-v0.3)ุ ูุบูุฑูุง.

```bash
export OPENAI_API_KEY=""

python run_exp.py --splits easy --agent LLMNeSy --llm deepseek --oracle_translation
python run_exp.py --splits medium --agent LLMNeSy --llm deepseek --oracle_translation
python run_exp.py --splits human --agent LLMNeSy --llm deepseek --oracle_translation

python run_exp.py --splits human --agent LLMNeSy --llm Qwen3-8B --oracle_translation


python run_exp.py --splits human --agent LLMNeSy --llm deepseek 
python run_exp.py --splits human --agent LLMNeSy --llm Qwen3-8B 


python run_exp.py --splits human --agent LLM-modulo --llm deepseek --refine_steps 10 --oracle_translation
python run_exp.py --splits human --agent LLM-modulo --llm Qwen3-8B --refine_steps 10 --oracle_translation
```

**ููุงุญุธุฉ**:

- ูุชูุญ ุงูุนูู `--oracle_translation` ุงููุตูู ุฅูู ุงูุจูุงูุงุช ุงูุญููููุฉ ุงููุดุฑูุญุฉ ูุงูุชู ุชุชุถูู:

  - `hard_logic_py`: ููุฏ ูุบุฉ ุงูุชุญูู ุงููุงุจู ููุชูููุฐ (DSL)
  - `hard_logic_nl`: ุฃูุตุงู ุงููููุฏ ุงูููุงุจูุฉ
  - ูุซุงู ุนูู ูููู ุงูุชุนููู ุงูุชูุถูุญู:

  ```python
  {
    "hard_logic_py": [
      "
      total_cost=0 
      for activity in allactivities(plan):
          total_cost+=activity_cost(activity)
              total_cost += innercity_transport_cost(activity_transports(activity))
      result=(total_cost<=1000)
      ", 
      "
      innercity_transport_set=set()
      for activity in allactivities(plan):
          if activity_transports(activity)!=[]:              
              innercity_transport_set.add(innercity_transport_type(activity_transports(activity)))
      result=(innercity_transport_set<={'taxi'})
      "
    ], 
    "hard_logic_nl": ["ๆป้ข็ฎไธบ1800ๅ", "ๅธๅไบค้้ๆฉtaxi"], 
  }
  ```
- ุทุฑููุฉ LLM-modulo **ุชุชุทูุจ** ูุถุน oracle_translation ูุนูููุฉ ุงูุชุญุณูู ุงูุฑูุฒู ุงูุฎุงุตุฉ ุจูุง

### ๐ ุงูุชูููู

```bash
python eval_exp.py --splits human --method LLMNeSy_deepseek_oracletranslation
python eval_exp.py --splits human --method LLMNeSy_deepseek
python eval_exp.py --splits human --method LLM-modulo_deepseek_10steps_oracletranslation
python eval_exp.py --splits human --method LLM-modulo_Qwen3-8B_10steps_oracletranslation

```
ูู TPC@IJCAI2025ุ ูุชู ุชูููุฑ ููุฏ ุงูุชูููู ูู ููู `eval_tpc.py`. ููููู ุชุดุบูู ููุฏ ุงูุชูููู ููุง ููู:


```bash
python eval_tpc.py --splits tpc_phase1 --method YOUR_METHOD_NAME
```

## ๐ ุงููุซุงุฆู

[ุงูุจูุฆุฉ](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/environment/readme.md)
[ุงููููุฏ](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/symbol_verification/readme.md)

## ๐๏ธ ุงูุชุทููุฑ ุงููุชูุฏู

### 1. ุชุทููุฑ ุฎูุงุฑุฒููุฉ ุงููููู ุงูุฎุงุตุฉ ุจู

ูุชุทููุฑ ุฎูุงุฑุฒููุฉ ุงููููู ุงูุฎุงุตุฉ ุจูุ ุนููู ุฃู ุชุฑุซ ูุฆุฉ `BaseAgent` ูู `chinatravel/agent/base.py` ูุชุถูู ููุทู ุงูุฎูุงุฑุฒููุฉ ุงูุฎุงุตุฉ ุจู ุฅูู ุฏุงูุฉ `init_agent` ูู `chinatravel/agent/load_model.py`. ูุญู ูููุฑ ูุซุงู ูููู ูุงุฑุบ ูุณูู `TPCAgent`.

ุงูุฎุทูุงุช:

- **ูุฑุงุซุฉ ูุฆุฉ `BaseAgent`**: ุฃูุดุฆ ููู ุจุงูุซูู ุฌุฏูุฏ ูู ูุฌูุฏ `chinatravel/agent` ูุนุฑูู ูุฆุฉ ุงููููู ุงูุฎุงุตุฉ ุจูุ ูุงุฑุซูุง ูู `BaseAgent`.

```python:chinatravel/agent/your_agent.py
from .base import BaseAgent

class YourAgent(BaseAgent):
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        # Initialization logic

    def act(self, observation):
        # Implement the decision - making logic of the agent
        pass
```

- **ุฃุถู ุงูููุฏ ุฅูู ุฏุงูุฉ init_agent**: ุงูุชุญ ููู chinatravel/agent/load_model.py ูุฃุถู ุงูุฏุนู ูููููู ุงูุฌุฏูุฏ ูู ุฏุงูุฉ init_agent.

```python:
def init_agent(kwargs):
    # ... existing code ...
    elif kwargs["method"] == "YourMethodName":
        agent = YourAgent(
            **kwargs
        )
    # ... existing code ...
    return agent
```

### 2. ุชุทููุฑ ูููุฐุฌ ุงููุบุฉ ุงููุจูุฑ ุงููุญูู ุงูุฎุงุต ุจู

ูุชุทููุฑ ูููุฐุฌ ูุบุฉ ูุจูุฑ ูุญูู (LLM) ุฎุงุต ุจูุ ุชุญุชุงุฌ ุฅูู ุชูุฑูุซ ูุฆุฉ AbstractLLM ูู ููู chinatravel/agent/llms.py ูุฅุถุงูุฉ ููุฏ ุงูุงุณุชุฏูุงู ุงูุฎุงุต ุจูููุฐุฌ LLM ุงููุญูู ูู llms.py. ููุฏู ูุซุงูุงู ูุงุฑุบุงู ููููุฐุฌ LLM ุจุงุณู TPCLLM.
ุงูุฎุทูุงุช:

- **ูุฑุงุซุฉ ูุฆุฉ AbstractLLM**:  ูู ุจุชุนุฑูู ูุฆุฉ ูููุฐุฌ LLM ุงูุฎุงุตุฉ ุจู ูู ููู chinatravel/agent/llms.pyุ ูุงุฑุซูุง ูู AbstractLLM.

```python
class YourLLM(AbstractLLM):
    def __init__(self):
        super().__init__()
        # Initialization logic
        self.name = "YourLLMName"

    def _get_response(self, messages, one_line, json_mode):
        # Implement the response logic of the LLM
        response = "Your LLM response"
        if json_mode:
            # Handle JSON mode
            pass
        elif one_line:
            # Handle one - line mode
            response = response.split("\n")[0]
        return response
```

- **ุฃุถู ุงูููุฏ ุฅูู ุฏุงูุฉ init_agent**: ุงูุชุญ ููู chinatravel/agent/load_model.py ูุฃุถู ุฏุนููุง ููููุฐุฌ llm ุงูุฌุฏูุฏ ุงูุฎุงุต ุจู ูู ุฏุงูุฉ init_llm.

```python:
def init_llm(kwargs):
    # ... existing code ...
    elif llm_name == "glm4-plus":
        llm = YourLLM()
    # ... existing code ...
    return llm
```

### 3. ุชุดุบูู ุงูููุฏ ุจุงุณุชุฎุฏุงู ุณูุฑูุจุชุงุช ุงูุชุฌุงุฑุจ

ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุชุทููุฑ ุฃุนูุงูุ ููููู ุงุณุชุฎุฏุงู ุณูุฑูุจุชุงุช ุงูุชุฌุงุฑุจ ูุชุดุบูู ุงูููุฏ ุงูุฎุงุต ุจู.

ูุซุงู ุนูู ุงูุชุดุบูู:

```bash
python run_tpc.py --splits easy --agent TPCAgent --llm TPCLLM
python run_exp.py --splits easy --agent YourMethodName --llm YourLLMName
```
ุณูุชู ุญูุธ ุงููุชุงุฆุฌ ูู ุฏููู `results/YourMethodName_YourLLMName_xxx`ุ ุนูู ุณุจูู ุงููุซุงู: `results/TPCAgent_TPCLLM`.

## โ๏ธ ุงูุชูุงุตู

ุฅุฐุง ูุงุฌูุชู ุฃูุฉ ูุดุงููุ ูุฑุฌู ุงูุชูุงุตู ูุน [ุฌูู-ุฌููุบ ุดุงู](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/shaojj@lamda.nju.edu.cn)ุ [ุจู-ููู ุชุดุงูุบ](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/221900200@smail.nju.edu.cn)ุ [ุดูุงู-ููู ูุงูุบ](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/yangxw@lamda.nju.edu.cn).

## ๐ ุงูุงูุชุจุงุณ

ุฅุฐุง ูุงูุช ูุฑูุชูุง ุงูุจุญุซูุฉ ุฃู ุงูููุงุฑุฏ ุฐุงุช ุงูุตูุฉ ูููุฏุฉ ูุฃุจุญุงุซูุ ูุฑุฌู ููู ุฐูุฑูุง ููุตุฏุฑ.


```
@misc{shao2024chinatravelrealworldbenchmarklanguage,
      title={ChinaTravel: A Real-World Benchmark for Language Agents in Chinese Travel Planning}, 
      author={Jie-Jing Shao and Xiao-Wen Yang and Bo-Wen Zhang and Baizhi Chen and Wen-Da Wei and Guohao Cai and Zhenhua Dong and Lan-Zhe Guo and Yu-feng Li},
      year={2024},
      eprint={2412.13682},
      archivePrefix={arXiv},
      primaryClass={cs.AI},
      url={https://arxiv.org/abs/2412.13682}, 
}
```
[English](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=en) | [็ฎไฝไธญๆ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=zh-CN) | [็น้ซไธญๆ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=zh-TW) | [ๆฅๆฌ่ช](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ja) | [ํ๊ตญ์ด](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ko) | [เคนเคฟเคจเฅเคฆเฅ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=hi) | [เนเธเธข](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=th) | [Franรงais](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=fr) | [Deutsch](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=de) | [Espaรฑol](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=es) | [Italiano](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=it) | [ะัััะบะธะน](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ru) | [Portuguรชs](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=pt) | [Nederlands](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=nl) | [Polski](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=pl) | [ุงูุนุฑุจูุฉ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ar) | [ูุงุฑุณ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=fa) | [Tรผrkรงe](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=tr) | [Tiแบฟng Viแปt](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=vi) | [Bahasa Indonesia](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=id) | [เฆเฆธเฆฎเงเฆฏเฆผเฆพ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=as)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-10-16

---