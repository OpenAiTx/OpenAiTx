<center>
  <h1>ChinaTravel: рдЪреАрдиреА рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛ рдореЗрдВ рднрд╛рд╖рд╛ рдПрдЬреЗрдВрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдХрд╛ рдмреЗрдВрдЪрдорд╛рд░реНрдХ
</h1>
</center>

рдкреЗрдкрд░ "ChinaTravel: рдЪреАрдиреА рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛ рдореЗрдВ рднрд╛рд╖рд╛ рдПрдЬреЗрдВрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдХрд╛ рдмреЗрдВрдЪрдорд╛рд░реНрдХ" рдХреЗ рд▓рд┐рдП рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдХреЛрдбрдмреЗрд╕ред

<!-- | [рд╡реЗрдмрдкреЗрдЬ](https://www.lamda.nju.edu.cn/shaojj/chinatravel/) | [рдкреЗрдкрд░](https://arxiv.org/abs/2412.13682) | [рдбреЗрдЯрд╛рд╕реЗрдЯ(Huggingface)](https://huggingface.co/datasets/LAMDA-NeSy/ChinaTravel)| -->

[![рд╡реЗрдмрдкреЗрдЬ](https://img.shields.io/badge/Webpage-Visit-blue)](https://www.lamda.nju.edu.cn/shaojj/chinatravel/)
[![рдкреЗрдкрд░](https://img.shields.io/badge/Paper-View-red)](https://arxiv.org/abs/2412.13682)
[![рдбреЗрдЯрд╛рд╕реЗрдЯ(Huggingface)](https://img.shields.io/badge/Dataset-Huggingface-yellow)](https://huggingface.co/datasets/LAMDA-NeSy/ChinaTravel)
[![рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛(TPC@IJCAI2025)](https://img.shields.io/badge/IJCAI%20Competition-TPC@IJCAI2025-green)](https://chinatravel-competition.github.io/IJCAI2025/)
[![рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛(TPC@AIC2025)](https://img.shields.io/badge/AIC%20Competition-TPC@AIC2025-green)](TPC@AIC2025/readme.md)


<!-- 
![рдЕрд╡рд▓реЛрдХрди](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/images/overview.png) -->

## ЁЯПЖ IJCAI 2025 рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛ рдЪреБрдиреМрддреА (TPC@IJCAI)

рд╣рдореЗрдВ рдпрд╣ рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реБрдП рдЧрд░реНрд╡ рд╣реИ рдХрд┐ ChinaTravel рдХреЛ **рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛ рдЪреБрдиреМрддреА (TPC) @ IJCAI 2025** рдХреЗ рд▓рд┐рдП рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдЪреБрдирд╛ рдЧрдпрд╛ рд╣реИ!

**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯ**:
[https://chinatravel-competition.github.io/IJCAI2025/](https://chinatravel-competition.github.io/IJCAI2025/)

рдкреНрд░рддрд┐рднрд╛рдЧрд┐рдпреЛрдВ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╡реЗ рдЬрдЯрд┐рд▓ рдмрд╛рдзрд╛рдУрдВ рдХреЗ рддрд╣рдд рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬреАрд╡рди рдХреА рдпрд╛рддреНрд░рд╛ рдпреЛрдЬрдирд╛ рдХреА рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╡реАрди рдПрдЬреЗрдВрдЯреНрд╕ рд╡рд┐рдХрд╕рд┐рдд рдХрд░реЗрдВред рдпрд╣ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рднрд╛рд╖рд╛ рдПрдЬреЗрдВрдЯ рдЕрдиреБрд╕рдВрдзрд╛рди рдореЗрдВ рдЕрддреНрдпрд╛рдзреБрдирд┐рдХ рддрд░реАрдХреЛрдВ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд░реЗрдЧреАред

## ЁЯУЭ рдЪреЗрдВрдЬрд▓реЙрдЧ

### 2025.09
1. TPC@IJCAI2025 DSL рдЯреНрд░реИрдХ рдХрд╛ рд╡рд┐рдЬреЗрддрд╛ рд╕рдорд╛рдзрд╛рди рдЕрдкрд▓реЛрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ред рдпреЛрдЧрджрд╛рди рдХреЗ рд▓рд┐рдП [@evergreenee](https://github.com/evergreenee) рдХреЛ рдзрдиреНрдпрд╡рд╛рджред  


### 2025.06

1. рдХреЙрдордиреНрд╕реЗрдВрд╕ рдХреЗ рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЛрдб рдореЗрдВ рддреНрд░реБрдЯрд┐ рд╕рдВрдЧреНрд░рд╣ рдХреЛ рдареАрдХ рдХрд┐рдпрд╛ рдЧрдпрд╛ред
2. рдкреНрдпреЛрд░-рдиреНрдпреВрд░реЛ рдПрдЬреЗрдВрдЯ рдХреА рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдареАрдХ рдХреА рдЧрдИред
3. huggingface рд╕реЗ load_datasets рдареАрдХ рдХрд┐рдпрд╛ рдЧрдпрд╛ред
4. рд╕рд┐рдВрдЯреИрдХреНрд╕ рд╕рддреНрдпрд╛рдкрди рдореЗрдВ рдЕрдкрд╡рд╛рдж рд╣реИрдВрдбрд▓рд┐рдВрдЧ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ред


### 2025.05

1. рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЕрджреНрдпрддрди рд▓реЙрдЧред
2. TPC рдХреЗ рд▓рд┐рдП рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЛрдб рдкреНрд░рджрд╛рди рдХрд░реЗрдВред

### 2025.04

1. рд╕реНрдерд╛рдиреАрдп рдбреЗрдЯрд╛ рд▓реЛрдбрд░ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ред рдЕрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдкрдиреА рдХрд╕реНрдЯрдо рдХреНрд╡реЗрд░реАрдЬрд╝ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЬрдм "run_exp.py" рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╣реАрдВ splits_name рдорд╛рди (рдЬреИрд╕реЗ "abc") рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕рд┐рд╕реНрдЯрдо рд╕реНрд╡рддрдГ рд╣реА evaluation/default_splits/abc.txt рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдлрд╛рдЗрд▓реЗрдВ рд▓реЛрдб рдХрд░реЗрдЧрд╛, рдЬрд╣рд╛рдБ TXT рдлрд╛рдЗрд▓ рдореЗрдВ рд▓рдХреНрд╖реНрдп рдХреНрд╡реЗрд░реА рдлрд╛рдЗрд▓рдирд╛рдо рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗред
2. рд╡рд┐рд╕реНрддреГрдд рдмрд╛рдзрд╛ рд╡рд░реНрдЧреАрдХрд░рдгред рд╡рд┐рд╕реНрддреГрдд рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рджреЗрдЦреЗрдВ [Evaluation README](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/symbol_verification/readme.md)
3. LLM-modulo рдмреЗрд╕рд▓рд╛рдЗрди рдкреЗрд╢ рдХреА рдЧрдИ
   рдЧреНрд░рд╛рдЙрдВрдб-рдЯреНрд░реБрде рдкреНрд░рддреАрдХрд╛рддреНрдордХ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХреЗ рд╕рд╛рде LLM-modulo рдкрд╛рдЗрдкрд▓рд╛рдЗрди рд▓рд╛рдЧреВ рдХрд░реЗрдВред
   рдХрд╛рд░реНрдпрдкреНрд░рдгрд╛рд▓реА рдЖрдзрд╛рд░рд┐рдд:
   рдкреЗрдкрд░: Robust Planning with Compound LLM Architectures: An LLM-Modulo Approach
   рдХреЛрдбрдмреЗрд╕: https://github.com/Atharva-Gundawar/LLM-Modulo-prompts
4. Qwen3-8B/4B рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдиреАрдп LLMs рдЕрдиреБрдорд╛рди рдХрд╛ рд╕рдорд░реНрдердиред

## ЁЯЪА рддреНрд╡рд░рд┐рдд рдкреНрд░рд╛рд░рдВрдн

### тЪЩя╕П рд╕реЗрдЯрдЕрдк

1. рдПрдХ conda рд╡рд╛рддрд╛рд╡рд░рдг рдмрдирд╛рдПрдВ рдФрд░ рдирд┐рд░реНрднрд░рддрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ:

```bash
conda create -n chinatravel python=3.9  
conda activate chinatravel  
pip install -r requirements.txt  
```

2. рдбреЗрдЯрд╛рдмреЗрд╕ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рдЙрд╕реЗ "chinatravel/environment/" рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдЕрдирдЬрд┐рдк рдХрд░реЗрдВ

рдбрд╛рдЙрдирд▓реЛрдб рд▓рд┐рдВрдХ: [Google Drive](https://drive.google.com/drive/folders/1bJ7jA5cfExO_NKxKfi9qgcxEbkYeSdAU), [NJU Drive](https://box.nju.edu.cn/d/dd83e5a4a9e242ed8eb4/)

3. рдУрдкрди-рд╕реЛрд░реНрд╕ LLMs рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ (рд╡реИрдХрд▓реНрдкрд┐рдХ)ред

```bash
bash download_llm.sh
```

4. рдЯреЛрдХрдирд╛рдЗрдЬрд╝рд░ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВред

```bash
wget https://cdn.deepseek.com/api-docs/deepseek_v3_tokenizer.zip -P chinatravel/local_llm/
unzip chinatravel/local_llm/deepseek_v3_tokenizer.zip -d chinatravel/local_llm/
```

### тЦ╢я╕П рдЪрд▓рд╛рдирд╛

рд╣рдо deepseek (deepseek рдХреА рдЖрдзрд┐рдХрд╛рд░рд┐рдХ API), gpt-4o (chatgpt-4o-latest), glm4-plus, рдФрд░ рд╕реНрдерд╛рдиреАрдп рдЕрдиреБрдорд╛рди Qwen (Qwen3-8B), llama, mistral (Mistral-7B-Instruct-v0.3) рдЖрджрд┐ рдХреЗ рд╕рд╛рде рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред

```bash
export OPENAI_API_KEY=""

python run_exp.py --splits easy --agent LLMNeSy --llm deepseek --oracle_translation
python run_exp.py --splits medium --agent LLMNeSy --llm deepseek --oracle_translation
python run_exp.py --splits human --agent LLMNeSy --llm deepseek --oracle_translation

python run_exp.py --splits human --agent LLMNeSy --llm Qwen3-8B --oracle_translation


python run_exp.py --splits human --agent LLMNeSy --llm deepseek 
python run_exp.py --splits human --agent LLMNeSy --llm Qwen3-8B 


python run_exp.py --splits human --agent LLM-modulo --llm deepseek --refine_steps 10 --oracle_translation
python run_exp.py --splits human --agent LLM-modulo --llm Qwen3-8B --refine_steps 10 --oracle_translation
```

**рдиреЛрдЯ**:

- `--oracle_translation` рдлреНрд▓реИрдЧ рдПрдиреЛрдЯреЗрдЯреЗрдб рдЧреНрд░рд╛рдЙрдВрдб рдЯреНрд░реБрде рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

  - `hard_logic_py`: рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп рд╕рддреНрдпрд╛рдкрди DSL рдХреЛрдб
  - `hard_logic_nl`: рд╕рдВрдмрдВрдзрд┐рдд рдмрд╛рдзрд╛ рд╡рд┐рд╡рд░рдг
  - рдЙрджрд╛рд╣рд░рдг рдПрдиреЛрдЯреЗрд╢рди рд╕рдВрд░рдЪрдирд╛:

  ```python
  {
    "hard_logic_py": [
      "
      total_cost=0 
      for activity in allactivities(plan):
          total_cost+=activity_cost(activity)
              total_cost += innercity_transport_cost(activity_transports(activity))
      result=(total_cost<=1000)
      ", 
      "
      innercity_transport_set=set()
      for activity in allactivities(plan):
          if activity_transports(activity)!=[]:              
              innercity_transport_set.add(innercity_transport_type(activity_transports(activity)))
      result=(innercity_transport_set<={'taxi'})
      "
    ], 
    "hard_logic_nl": ["цА╗щвДчоЧф╕║1800хЕГ", "х╕ВхЖЕф║дщАЪщАЙцЛйtaxi"], 
  }
  ```
- LLM-рдореЙрдбреНрдпреВрд▓реЛ рд╡рд┐рдзрд┐ рдХреЗ рдкреНрд░рддреАрдХрд╛рддреНрдордХ рдкрд░рд┐рд╢реЛрдзрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП **oracle_translation рдореЛрдб рдЖрд╡рд╢реНрдпрдХ** рд╣реИ

### ЁЯУК рдореВрд▓реНрдпрд╛рдВрдХрди

```bash
python eval_exp.py --splits human --method LLMNeSy_deepseek_oracletranslation
python eval_exp.py --splits human --method LLMNeSy_deepseek
python eval_exp.py --splits human --method LLM-modulo_deepseek_10steps_oracletranslation
python eval_exp.py --splits human --method LLM-modulo_Qwen3-8B_10steps_oracletranslation

```

TPC@IJCAI2025 рдореЗрдВ, рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЛрдб `eval_tpc.py` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЖрдк рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЛрдб рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░реАрдХреЗ рд╕реЗ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:

```bash
python eval_tpc.py --splits tpc_phase1 --method YOUR_METHOD_NAME
```

## ЁЯУЪ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝

[рдкрд░реНрдпрд╛рд╡рд░рдг](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/environment/readme.md)
[рд╕рдВрдпрдо](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/symbol_verification/readme.md)

## ЁЯЫая╕П рдЙрдиреНрдирдд рд╡рд┐рдХрд╛рд╕

### 1. рдЕрдкрдирд╛ рдЦреБрдж рдХрд╛ рдПрдЬреЗрдВрдЯ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рд╡рд┐рдХрд╕рд┐рдд рдХрд░реЗрдВ

рдЕрдкрдирд╛ рдЦреБрдж рдХрд╛ рдПрдЬреЗрдВрдЯ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ `chinatravel/agent/base.py` рдореЗрдВ рд╕реНрдерд┐рдд `BaseAgent` рдХреНрд▓рд╛рд╕ рдХрд╛ рдЗрдирд╣реЗрд░рд┐рдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдЕрдкрдиреЗ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рд▓рд┐рдП рд▓реЙрдЬрд┐рдХ рдХреЛ `chinatravel/agent/load_model.py` рдХреА `init_agent` рдлрдВрдХреНрд╢рди рдореЗрдВ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред рд╣рдордиреЗ рдПрдХ рдЦрд╛рд▓реА рдПрдЬреЗрдВрдЯ рдЙрджрд╛рд╣рд░рдг `TPCAgent` рдирд╛рдо рд╕реЗ рдЙрдкрд▓рдмреНрдз рдХрд░рд╛рдпрд╛ рд╣реИред

рдХрджрдо:

- **`BaseAgent` рдХреНрд▓рд╛рд╕ рдХреЛ рдЗрдирд╣реЗрд░рд┐рдЯ рдХрд░реЗрдВ**: `chinatravel/agent` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдПрдХ рдирдпрд╛ Python рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдБ рдФрд░ рдЕрдкрдиреА рдЦреБрдж рдХреА рдПрдЬреЗрдВрдЯ рдХреНрд▓рд╛рд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ, рдЬреЛ `BaseAgent` рд╕реЗ рдЗрдирд╣реЗрд░рд┐рдЯ рдХрд░рддреА рд╣реЛред

```python:chinatravel/agent/your_agent.py
from .base import BaseAgent

class YourAgent(BaseAgent):
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        # Initialization logic

    def act(self, observation):
        # Implement the decision - making logic of the agent
        pass
```

- **init_agent рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ**: chinatravel/agent/load_model.py рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ рдФрд░ init_agent рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдЕрдкрдиреЗ рдирдП рдПрдЬреЗрдВрдЯ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдЬреЛрдбрд╝реЗрдВред

```python:
def init_agent(kwargs):
    # ... existing code ...
    elif kwargs["method"] == "YourMethodName":
        agent = YourAgent(
            **kwargs
        )
    # ... existing code ...
    return agent
```

### 2. рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рд╕реНрдерд╛рдиреАрдп LLM рд╡рд┐рдХрд╕рд┐рдд рдХрд░реЗрдВ

рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рд╕реНрдерд╛рдиреАрдп рдмрдбрд╝реЗ рднрд╛рд╖рд╛ рдореЙрдбрд▓ (LLM) рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ chinatravel/agent/llms.py рд╕реЗ AbstractLLM рдХреНрд▓рд╛рд╕ рдХреЛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд▓реЗрдирд╛ рд╣реЛрдЧрд╛ рдФрд░ llms.py рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рд╕реНрдерд╛рдиреАрдп LLM рдЕрдиреБрдорд╛рди рдХреЛрдб рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред рд╣рдо TPCLLM рдирд╛рдордХ рдПрдХ рдЦрд╛рд▓реА LLM рдЙрджрд╛рд╣рд░рдг рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред
рдЪрд░рдг:

- **AbstractLLM рдХреНрд▓рд╛рд╕ рдХреЛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд▓реЗрдВ**: chinatravel/agent/llms.py рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЕрдкрдиреА рд╕реНрд╡рдпрдВ рдХреА LLM рдХреНрд▓рд╛рд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ, рдЬреЛ AbstractLLM рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд▓реЗред

```python
class YourLLM(AbstractLLM):
    def __init__(self):
        super().__init__()
        # Initialization logic
        self.name = "YourLLMName"

    def _get_response(self, messages, one_line, json_mode):
        # Implement the response logic of the LLM
        response = "Your LLM response"
        if json_mode:
            # Handle JSON mode
            pass
        elif one_line:
            # Handle one - line mode
            response = response.split("\n")[0]
        return response
```

- **init_agent рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ**: chinatravel/agent/load_model.py рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ рдФрд░ init_llm рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдЕрдкрдиреЗ рдирдП llm рдХреЗ рд▓рд┐рдП рд╕рдкреЛрд░реНрдЯ рдЬреЛрдбрд╝реЗрдВред

```python:
def init_llm(kwargs):
    # ... existing code ...
    elif llm_name == "glm4-plus":
        llm = YourLLM()
    # ... existing code ...
    return llm
```

### 3. рдЕрдкрдиреЗ рдХреЛрдб рдХреЛ рдкреНрд░рдпреЛрдЧ рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪрд▓рд╛рдПрдБ

рдКрдкрд░ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдЕрдкрдиреЗ рдХреЛрдб рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдпреЛрдЧ рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЪрд▓рд╛рдиреЗ рдХрд╛ рдЙрджрд╛рд╣рд░рдг:

```bash
python run_tpc.py --splits easy --agent TPCAgent --llm TPCLLM
python run_exp.py --splits easy --agent YourMethodName --llm YourLLMName
```
рдкрд░рд┐рдгрд╛рдо `results/YourMethodName_YourLLMName_xxx` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рд╕реЗрд╡ рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, `results/TPCAgent_TPCLLM`ред

## тЬЙя╕П рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ

рдпрджрд┐ рдЖрдкрдХреЛ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рд╣реИ, рддреЛ рдХреГрдкрдпрд╛ [рдЬрд┐рдП-рдЬрд┐рдВрдЧ рд╢рд╛рдУ](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/shaojj@lamda.nju.edu.cn), [рдмреЛ-рд╡реЗрди рдЭрд╛рдВрдЧ](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/221900200@smail.nju.edu.cn), [рд╢рд┐рдпрд╛рдУ-рд╡реЗрди рдпрд╛рдВрдЧ](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/yangxw@lamda.nju.edu.cn) рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред

## ЁЯУМ рдЙрджреНрдзрд░рдг

рдпрджрд┐ рд╣рдорд╛рд░рд╛ рдкреЗрдкрд░ рдпрд╛ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрд╕рд╛рдзрди рдЖрдкрдХреЗ рд╢реЛрдз рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╕рд╛рдмрд┐рдд рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рдХреГрдкрдпрд╛ рдЗрд╕рдХрд╛ рдЙрджреНрдзрд░рдг рджреЗрдиреЗ рдХрд╛ рдХрд╖реНрдЯ рдХрд░реЗрдВред


```
@misc{shao2024chinatravelrealworldbenchmarklanguage,
      title={ChinaTravel: A Real-World Benchmark for Language Agents in Chinese Travel Planning}, 
      author={Jie-Jing Shao and Xiao-Wen Yang and Bo-Wen Zhang and Baizhi Chen and Wen-Da Wei and Guohao Cai and Zhenhua Dong and Lan-Zhe Guo and Yu-feng Li},
      year={2024},
      eprint={2412.13682},
      archivePrefix={arXiv},
      primaryClass={cs.AI},
      url={https://arxiv.org/abs/2412.13682}, 
}
```
[English](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=en) | [чоАф╜Уф╕нцЦЗ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=zh-CN) | [ч╣БщлФф╕нцЦЗ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=zh-TW) | [цЧецЬмшкЮ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ja) | [эХЬъ╡ньЦ┤](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ko) | [рд╣рд┐рдиреНрджреА](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=hi) | [р╣Др╕Чр╕в](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=th) | [Fran├зais](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=fr) | [Deutsch](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=de) | [Espa├▒ol](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=es) | [Italiano](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=it) | [╨а╤Г╤Б╤Б╨║╨╕╨╣](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ru) | [Portugu├кs](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=pt) | [Nederlands](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=nl) | [Polski](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=pl) | [╪з┘Д╪╣╪▒╪и┘К╪й](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ar) | [┘Б╪з╪▒╪│█М](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=fa) | [T├╝rk├зe](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=tr) | [Tiс║┐ng Viс╗Зt](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=vi) | [Bahasa Indonesia](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=id) | [ржЕрж╕ржорзАржпрж╝рж╛](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=as)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-10-13

---