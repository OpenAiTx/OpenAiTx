<center>
  <h1>ChinaTravel: ì¤‘êµ­ ì—¬í–‰ ê³„íšì„ ìœ„í•œ ì–¸ì–´ ì—ì´ì „íŠ¸ì˜ ì‹¤ì œ ë²¤ì¹˜ë§ˆí¬
</h1>
</center>

"ChinaTravel: ì¤‘êµ­ ì—¬í–‰ ê³„íšì„ ìœ„í•œ ì–¸ì–´ ì—ì´ì „íŠ¸ì˜ ì‹¤ì œ ë²¤ì¹˜ë§ˆí¬" ë…¼ë¬¸ì˜ ê³µì‹ ì½”ë“œë² ì´ìŠ¤ì…ë‹ˆë‹¤.

<!-- | [ì›¹í˜ì´ì§€](https://www.lamda.nju.edu.cn/shaojj/chinatravel/) | [ë…¼ë¬¸](https://arxiv.org/abs/2412.13682) | [ë°ì´í„°ì…‹(Huggingface)](https://huggingface.co/datasets/LAMDA-NeSy/ChinaTravel)| -->

[![ì›¹í˜ì´ì§€](https://img.shields.io/badge/Webpage-Visit-blue)](https://www.lamda.nju.edu.cn/shaojj/chinatravel/)
[![ë…¼ë¬¸](https://img.shields.io/badge/Paper-View-red)](https://arxiv.org/abs/2412.13682)
[![ë°ì´í„°ì…‹(Huggingface)](https://img.shields.io/badge/Dataset-Huggingface-yellow)](https://huggingface.co/datasets/LAMDA-NeSy/ChinaTravel)
[![ëŒ€íšŒ(TPC@IJCAI2025)](https://img.shields.io/badge/IJCAI%20Competition-TPC@IJCAI2025-green)](https://chinatravel-competition.github.io/IJCAI2025/)
[![ëŒ€íšŒ(TPC@AIC2025)](https://img.shields.io/badge/AIC%20Competition-TPC@AIC2025-green)](TPC@AIC2025/readme.md)


<!-- 
![ê°œìš”](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/images/overview.png) -->

## ğŸ† IJCAI 2025 ì—¬í–‰ ê³„íš ì±Œë¦°ì§€ (TPC@IJCAI)

ì¤‘êµ­ ì—¬í–‰ ê³„íš(ChinaTravel)ì´ **IJCAI 2025 ì—¬í–‰ ê³„íš ì±Œë¦°ì§€(TPC)** ê³µì‹ ë²¤ì¹˜ë§ˆí¬ë¡œ ì„ ì •ë˜ì—ˆìŒì„ ìë‘ìŠ¤ëŸ½ê²Œ ë°œí‘œí•©ë‹ˆë‹¤!

**ê³µì‹ ëŒ€íšŒ ì›¹ì‚¬ì´íŠ¸**:  
[https://chinatravel-competition.github.io/IJCAI2025/](https://chinatravel-competition.github.io/IJCAI2025/)

ì°¸ê°€ìë“¤ì€ ë³µì¡í•œ ì œì•½ ì¡°ê±´ í•˜ì—ì„œ ì‹¤ì œ ì—¬í–‰ ê³„íš ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ì—ì´ì „íŠ¸ë¥¼ ê°œë°œí•˜ë„ë¡ ì´ˆëŒ€ë©ë‹ˆë‹¤. ì´ ëŒ€íšŒëŠ” ì–¸ì–´ ì—ì´ì „íŠ¸ ì—°êµ¬ì˜ ìµœì²¨ë‹¨ ì ‘ê·¼ë²•ì„ ì„ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤.

## ğŸ“ ë³€ê²½ ê¸°ë¡

### 2025.09
1. TPC@IJCAI2025 DSL íŠ¸ë™ ìš°ìŠ¹ ì†”ë£¨ì…˜ ì—…ë¡œë“œ. [@evergreenee](https://github.com/evergreenee)ë‹˜ì˜ ê¸°ì—¬ì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.  


### 2025.06

1. ìƒì‹ í‰ê°€ ì½”ë“œì˜ ì˜¤ë¥˜ ìˆ˜ì§‘ ìˆ˜ì •.  
2. ìˆœìˆ˜ ì‹ ê²½ë§ ì—ì´ì „íŠ¸ íŒŒì´í”„ë¼ì¸ ìˆ˜ì •.  
3. huggingfaceì—ì„œ load_datasets í•¨ìˆ˜ ìˆ˜ì •.  
4. êµ¬ë¬¸ ê²€ì¦ ì˜ˆì™¸ ì²˜ë¦¬ ì—…ë°ì´íŠ¸.


### 2025.05

1. ìµœì‹  ë²„ì „ ì—…ë°ì´íŠ¸ ë¡œê·¸.
2. TPC í‰ê°€ ì½”ë“œ ì œê³µ.

### 2025.04

1. ë¡œì»¬ ë°ì´í„° ë¡œë” ì¶”ê°€. ì‚¬ìš©ìê°€ ë§ì¶¤ ì¿¼ë¦¬ë¥¼ ë¡œì»¬ì—ì„œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. "run_exp.py" ì‹¤í–‰ ì‹œ ê¸°ë³¸ê°’ì´ ì•„ë‹Œ splits_name ê°’(ì˜ˆ: "abc")ì„ ì§€ì •í•˜ë©´, ì‹œìŠ¤í…œì€ evaluation/default_splits/abc.txtì— ìˆëŠ” í•´ë‹¹ íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. TXT íŒŒì¼ì—ëŠ” ëŒ€ìƒ ì¿¼ë¦¬ íŒŒì¼ëª…ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
2. ìƒì„¸ ì œì•½ ì¡°ê±´ ë¶„ë¥˜. ìì„¸í•œ ë‚´ìš©ì€ [Evaluation README](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/symbol_verification/readme.md) ì°¸ì¡°.
3. LLM-modulo ë² ì´ìŠ¤ë¼ì¸ ë„ì…
   ì‹¤ì œ ê¸°í˜¸ ê²€ì¦ê¸°ì™€ í•¨ê»˜ LLM-modulo íŒŒì´í”„ë¼ì¸ êµ¬í˜„.
   ë°©ë²•ë¡  ê¸°ë°˜:
   ë…¼ë¬¸: Robust Planning with Compound LLM Architectures: An LLM-Modulo Approach
   ì½”ë“œë² ì´ìŠ¤: https://github.com/Atharva-Gundawar/LLM-Modulo-prompts
4. Qwen3-8B/4Bë¥¼ ì´ìš©í•œ ë¡œì»¬ LLM ì¶”ë¡  ì§€ì›.

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### âš™ï¸ ì„¤ì •

1. conda í™˜ê²½ì„ ìƒì„±í•˜ê³  ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ì„¸ìš”:

```bash
conda create -n chinatravel python=3.9  
conda activate chinatravel  
pip install -r requirements.txt  
```
2. ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì—¬ "chinatravel/environment/" ë””ë ‰í† ë¦¬ì— ì••ì¶•ì„ í’‰ë‹ˆë‹¤

ë‹¤ìš´ë¡œë“œ ë§í¬: [Google Drive](https://drive.google.com/drive/folders/1bJ7jA5cfExO_NKxKfi9qgcxEbkYeSdAU), [NJU Drive](https://box.nju.edu.cn/d/dd83e5a4a9e242ed8eb4/)

3. ì˜¤í”ˆ ì†ŒìŠ¤ LLMì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤(ì„ íƒ ì‚¬í•­).


```bash
bash download_llm.sh
```
4. í† í¬ë‚˜ì´ì €ë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.


```bash
wget https://cdn.deepseek.com/api-docs/deepseek_v3_tokenizer.zip -P chinatravel/local_llm/
unzip chinatravel/local_llm/deepseek_v3_tokenizer.zip -d chinatravel/local_llm/
```

### â–¶ï¸ ì‹¤í–‰

ìš°ë¦¬ëŠ” deepseek(ê³µì‹ deepseek API), gpt-4o(chatgpt-4o-latest), glm4-plus, ê·¸ë¦¬ê³  Qwen(Qwen3-8B), llama, mistral(Mistral-7B-Instruct-v0.3) ë“±ê³¼ ê°™ì€ ë¡œì»¬ ì¶”ë¡ ì„ ì§€ì›í•©ë‹ˆë‹¤.

```bash
export OPENAI_API_KEY=""

python run_exp.py --splits easy --agent LLMNeSy --llm deepseek --oracle_translation
python run_exp.py --splits medium --agent LLMNeSy --llm deepseek --oracle_translation
python run_exp.py --splits human --agent LLMNeSy --llm deepseek --oracle_translation

python run_exp.py --splits human --agent LLMNeSy --llm Qwen3-8B --oracle_translation


python run_exp.py --splits human --agent LLMNeSy --llm deepseek 
python run_exp.py --splits human --agent LLMNeSy --llm Qwen3-8B 


python run_exp.py --splits human --agent LLM-modulo --llm deepseek --refine_steps 10 --oracle_translation
python run_exp.py --splits human --agent LLM-modulo --llm Qwen3-8B --refine_steps 10 --oracle_translation
```

**ì°¸ê³ **:

- `--oracle_translation` í”Œë˜ê·¸ëŠ” ì£¼ì„ì´ í¬í•¨ëœ ì‹¤ì œ ì •ë‹µì— ëŒ€í•œ ì ‘ê·¼ì„ í™œì„±í™”í•©ë‹ˆë‹¤:

  - `hard_logic_py`: ì‹¤í–‰ ê°€ëŠ¥í•œ ê²€ì¦ DSL ì½”ë“œ
  - `hard_logic_nl`: í•´ë‹¹ ì œì•½ ì¡°ê±´ ì„¤ëª…
  - ì˜ˆì œ ì£¼ì„ êµ¬ì¡°:

  ```python
  {
    "hard_logic_py": [
      "
      total_cost=0 
      for activity in allactivities(plan):
          total_cost+=activity_cost(activity)
              total_cost += innercity_transport_cost(activity_transports(activity))
      result=(total_cost<=1000)
      ", 
      "
      innercity_transport_set=set()
      for activity in allactivities(plan):
          if activity_transports(activity)!=[]:              
              innercity_transport_set.add(innercity_transport_type(activity_transports(activity)))
      result=(innercity_transport_set<={'taxi'})
      "
    ], 
    "hard_logic_nl": ["æ€»é¢„ç®—ä¸º1800å…ƒ", "å¸‚å†…äº¤é€šé€‰æ‹©taxi"], 
  }
  ```
- LLM-ëª¨ë“ˆë¡œ ë°©ë²•ì€ ê¸°í˜¸ ì •ì œ ê³¼ì •ì„ ìœ„í•´ oracle_translation ëª¨ë“œë¥¼ **í•„ìˆ˜ë¡œ** ìš”êµ¬í•©ë‹ˆë‹¤

### ğŸ“Š í‰ê°€

```bash
python eval_exp.py --splits human --method LLMNeSy_deepseek_oracletranslation
python eval_exp.py --splits human --method LLMNeSy_deepseek
python eval_exp.py --splits human --method LLM-modulo_deepseek_10steps_oracletranslation
python eval_exp.py --splits human --method LLM-modulo_Qwen3-8B_10steps_oracletranslation

```

TPC@IJCAI2025ì—ì„œëŠ” í‰ê°€ ì½”ë“œë¥¼ `eval_tpc.py` íŒŒì¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. í‰ê°€ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
python eval_tpc.py --splits tpc_phase1 --method YOUR_METHOD_NAME
```

## ğŸ“š Docs

[í™˜ê²½](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/environment/readme.md)
[ì œì•½ ì¡°ê±´](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/chinatravel/symbol_verification/readme.md)

## ğŸ› ï¸ ê³ ê¸‰ ê°œë°œ

### 1. ë‚˜ë§Œì˜ ì—ì´ì „íŠ¸ ì•Œê³ ë¦¬ì¦˜ ê°œë°œ

ë‚˜ë§Œì˜ ì—ì´ì „íŠ¸ ì•Œê³ ë¦¬ì¦˜ì„ ê°œë°œí•˜ë ¤ë©´ `chinatravel/agent/base.py`ì˜ `BaseAgent` í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê³  `chinatravel/agent/load_model.py`ì˜ `init_agent` í•¨ìˆ˜ì— ì•Œê³ ë¦¬ì¦˜ ë¡œì§ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ë¹ˆ ì—ì´ì „íŠ¸ ì˜ˆì œë¡œ `TPCAgent`ê°€ ì œê³µë©ë‹ˆë‹¤.

ë‹¨ê³„:

- **`BaseAgent` í´ë˜ìŠ¤ ìƒì†**: `chinatravel/agent` ë””ë ‰í† ë¦¬ì— ìƒˆ íŒŒì´ì¬ íŒŒì¼ì„ ë§Œë“¤ê³  `BaseAgent`ë¥¼ ìƒì†ë°›ì•„ ë‚˜ë§Œì˜ ì—ì´ì „íŠ¸ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

```python:chinatravel/agent/your_agent.py
from .base import BaseAgent

class YourAgent(BaseAgent):
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        # Initialization logic

    def act(self, observation):
        # Implement the decision - making logic of the agent
        pass
```

- **init_agent í•¨ìˆ˜ì— ì½”ë“œ ì¶”ê°€**: chinatravel/agent/load_model.py íŒŒì¼ì„ ì—´ê³  init_agent í•¨ìˆ˜ì—ì„œ ìƒˆë¡œìš´ ì—ì´ì „íŠ¸ë¥¼ ì§€ì›í•˜ë„ë¡ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”.

```python:
def init_agent(kwargs):
    # ... existing code ...
    elif kwargs["method"] == "YourMethodName":
        agent = YourAgent(
            **kwargs
        )
    # ... existing code ...
    return agent
```

### 2. ìì²´ ë¡œì»¬ LLM ê°œë°œí•˜ê¸°

ìì²´ ë¡œì»¬ ëŒ€í˜• ì–¸ì–´ ëª¨ë¸(LLM)ì„ ê°œë°œí•˜ë ¤ë©´ chinatravel/agent/llms.pyì—ì„œ AbstractLLM í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê³  llms.pyì— í•´ë‹¹ ë¡œì»¬ LLM ì¶”ë¡  ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” TPCLLMì´ë¼ëŠ” ë¹ˆ LLM ì˜ˆì œë¥¼ ì œê³µí•©ë‹ˆë‹¤.  
ë‹¨ê³„:

- **AbstractLLM í´ë˜ìŠ¤ ìƒì†**: chinatravel/agent/llms.py íŒŒì¼ì—ì„œ AbstractLLMì„ ìƒì†ë°›ì•„ ìì‹ ë§Œì˜ LLM í´ë˜ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

```python
class YourLLM(AbstractLLM):
    def __init__(self):
        super().__init__()
        # Initialization logic
        self.name = "YourLLMName"

    def _get_response(self, messages, one_line, json_mode):
        # Implement the response logic of the LLM
        response = "Your LLM response"
        if json_mode:
            # Handle JSON mode
            pass
        elif one_line:
            # Handle one - line mode
            response = response.split("\n")[0]
        return response
```

- **init_agent í•¨ìˆ˜ì— ì½”ë“œ ì¶”ê°€**: chinatravel/agent/load_model.py íŒŒì¼ì„ ì—´ê³  init_llm í•¨ìˆ˜ì— ìƒˆë¡œìš´ llmì— ëŒ€í•œ ì§€ì›ì„ ì¶”ê°€í•˜ì„¸ìš”.

```python:
def init_llm(kwargs):
    # ... existing code ...
    elif llm_name == "glm4-plus":
        llm = YourLLM()
    # ... existing code ...
    return llm
```

### 3. ì‹¤í—˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ ì‹¤í–‰í•˜ê¸°

ìœ„ ê°œë°œì„ ì™„ë£Œí•œ í›„, ì‹¤í—˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‹¤í–‰ ì˜ˆì‹œ:

```bash
python run_tpc.py --splits easy --agent TPCAgent --llm TPCLLM
python run_exp.py --splits easy --agent YourMethodName --llm YourLLMName
```
ê²°ê³¼ëŠ” `results/YourMethodName_YourLLMName_xxx` ë””ë ‰í† ë¦¬ì— ì €ì¥ë©ë‹ˆë‹¤. ì˜ˆ: `results/TPCAgent_TPCLLM`.

## âœ‰ï¸ ì—°ë½ì²˜

ë¬¸ì œê°€ ìˆìœ¼ì‹œë©´ [Jie-Jing Shao](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/shaojj@lamda.nju.edu.cn), [Bo-Wen Zhang](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/221900200@smail.nju.edu.cn), [Xiao-Wen Yang](https://raw.githubusercontent.com/Adopos/ChinaTravel/main/yangxw@lamda.nju.edu.cn)ì—ê²Œ ì—°ë½í•´ ì£¼ì„¸ìš”.

## ğŸ“Œ ì¸ìš©

ì €í¬ ë…¼ë¬¸ì´ë‚˜ ê´€ë ¨ ìë£Œê°€ ì—°êµ¬ì— ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´, ì¸ìš©í•´ ì£¼ì‹œê¸¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤.


```
@misc{shao2024chinatravelrealworldbenchmarklanguage,
      title={ChinaTravel: A Real-World Benchmark for Language Agents in Chinese Travel Planning}, 
      author={Jie-Jing Shao and Xiao-Wen Yang and Bo-Wen Zhang and Baizhi Chen and Wen-Da Wei and Guohao Cai and Zhenhua Dong and Lan-Zhe Guo and Yu-feng Li},
      year={2024},
      eprint={2412.13682},
      archivePrefix={arXiv},
      primaryClass={cs.AI},
      url={https://arxiv.org/abs/2412.13682}, 
}
```
[English](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=en) | [ç®€ä½“ä¸­æ–‡](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=zh-CN) | [ç¹é«”ä¸­æ–‡](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=zh-TW) | [æ—¥æœ¬èª](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ja) | [í•œêµ­ì–´](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ko) | [à¤¹à¤¿à¤¨à¥à¤¦à¥€](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=hi) | [à¹„à¸—à¸¢](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=th) | [FranÃ§ais](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=fr) | [Deutsch](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=de) | [EspaÃ±ol](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=es) | [Italiano](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=it) | [Ğ ÑƒÑÑĞºĞ¸Ğ¹](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ru) | [PortuguÃªs](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=pt) | [Nederlands](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=nl) | [Polski](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=pl) | [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=ar) | [ÙØ§Ø±Ø³ÛŒ](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=fa) | [TÃ¼rkÃ§e](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=tr) | [Tiáº¿ng Viá»‡t](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=vi) | [Bahasa Indonesia](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=id) | [à¦…à¦¸à¦®à§€à¦¯à¦¼à¦¾](https://openaitx.github.io/#/view?user=Adopos&project=ChinaTravel&lang=as)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-10-13

---