# RSS-Master

تخصيص التصفية والفلترة لمصادر RSS، باستخدام الذكاء الاصطناعي للتلخيص، التلخيص، والتقييم. نسخة محسنة من حيث الأداء، تدعم المعالجة غير المتزامنة والتلخيص الموازي بواسطة الذكاء الاصطناعي.

### مقدمة

في أوائل سبتمبر، بدأت باستخدام Inoreader + RSSHub لتجميع والاشتراك في مصادر RSS التي تهمني، مع استخدام Reeder للقراءة، محاولًا السيطرة الكاملة على مصادر المعلومات اليومية التي أتلقاها. بعد شهر، زادت مصادر RSS بشكل تدريجي، وزاد عدد الرسائل غير المقروءة، مما زاد من قلق القراءة لدي، ففكرت فيما إذا كان هناك طريقة لتخصيص قواعد التصفية، ويفضل أن تشمل استخدام الذكاء الاصطناعي لمساعدتي في القراءة وتقليل العبء.

يأتي Inoreader مزودًا بمرشحات، لكن الدفع فقط من أجل هذه الميزة يبدو غير مجدٍ؛ لدى NewsBlur ميزة "Intelligence Trainer" للتصنيف الذكي، لكني جربتها ببساطة ولم أشعر بتأثير واضح أو ذكاء ملحوظ خلال فترة قصيرة؛ لدى Feedly كل من التصفية والذكاء الاصطناعي، ويبدو أنه يلبي احتياجاتي، وعندما كنت مترددًا في التحول من مستخدم Inoreader المجاني إلى المدفوع في Feedly، رأيت هذين المشروعين:

- [اجعل ChatGPT يساعدنا في تلخيص Hacker News](https://blog.betacat.io/post/2023/06/summarize-hacker-news-by-chatgpt/)
- [دليل استخدام RSS-GPT](http://yinan.me/rss-gpt-manual-zh.html)

الفكرة العامة لهذين المشروعين هي استخدام GitAction لتشغيل سكربت، ثم استخدام API الخاص بـ OpenAI للترجمة والتلخيص، ثم عرض النتائج في قالب، ونشرها على GitHub Page. طريقة RSS-GPT تلبي احتياجاتي أكثر، حيث يقوم بتشغيل السكربت بجدولة مباشرة للحصول على ملف XML الخاص بـ RSS، ثم بعد المعالجة يتم نشر ملف XML على GitHub Page، ومن ثم يمكن للقارئ الاشتراك مباشرة برابط هذا الملف.

كان لدي حاجة قوية لمزامنة متعددة الأجهزة في Inoreader، ولذا بالنسبة لمصادر RSS الجديدة التي أضيفها في ملف التكوين config، يجب إعلام Inoreader بها للمزامنة فورًا، لذلك قمت بتوسيع فكرة [RSS-GPT](https://github.com/yinan-c/) وأسميتها RSS-Master.

### ميزات الوظائف

- **دعم المعالجة المتوازية**: استخدام المعالجة غير المتزامنة ومجموعة الخيوط لتحقيق المعالجة المتزامنة لمصادر RSS وتلخيص الذكاء الاصطناعي، مما يعزز سرعة المعالجة بشكل ملحوظ
- **آلية تخزين مؤقت محسنة**: نظام تخزين مؤقت أكثر استقرارًا لمنع فقدان البيانات وتحسين الأداء عند الزيارات المتكررة
- **معالجة أخطاء محسنة**: جميع العمليات تحتوي على معالجة أخطاء كاملة وتسجيل سجلات، مما يعزز الاستقرار
- **استخراج محتوى HTML محسّن**: استخراج ذكي لمحتوى المقالات مع تجاهل المعلومات غير ذات الصلة، لتحسين جودة التلخيص بواسطة الذكاء الاصطناعي
- **دعم أحدث API الخاصة بـ OpenAI**: متوافق تمامًا مع أحدث إصدار من API الخاص بـ OpenAI
- **إحصائيات مفصلة**: تقديم إحصائيات حول وقت التشغيل، ومعدل النجاح، وتكاليف المعالجة بعد الانتهاء
- **دعم إنشاء ملفات opml**: بالإضافة إلى التحويل المتبادل مع config.yml عبر السكربتات: `script/convert_opml_to_yaml.sh` و `script/convert_yaml_to_opml.sh`
- **دعم قواعد التصفية المخصصة**: دعم نوعي include و exclude، ونطاقين هما title و article
- **نموذج ذكاء اصطناعي قابل للتخصيص**: إمكانية تكوين استخدام نماذج OpenAI مختلفة عبر متغيرات البيئة
- **قاعدة URL قابلة للتخصيص**: يمكن تكوين عنوان URL الأساسي لملفات RSS لتسهيل النشر في بيئات مختلفة
- **دفتر اختبار تفاعلي**: توفير دفتر Jupyter لاختبار الوظائف المختلفة

### تكوين متغيرات البيئة

يدعم المشروع تكوين المعلمات التالية عبر ملف `.env`:

```
# معلمات إلزامية
OPENAI_API_KEY=your_openai_api_key_here

# معلمات اختيارية
RSS_BASE_URL=https://example.com/rss-feeds/  # عنوان URL الأساسي لـ RSS
OPENAI_MODEL=gpt-4o-mini-2024-07-18          # نموذج OpenAI
LOG_LEVEL=INFO                               # مستوى السجلات
PARALLEL_WORKERS=5                           # عدد المعالجات المتوازية
```

يمكنك نسخ ملف `.env.example` وإعادة تسميته إلى `.env` ثم تعديل القيم المناسبة.

### تحسينات الأداء

تحتوي هذه النسخة على التحسينات التالية مقارنة بالنسخة الأصلية:

1. **المعالجة المتوازية لمصادر RSS**: استخدام `asyncio` لمعالجة مصادر RSS متعددة في وقت واحد
2. **توازي تلخيص الذكاء الاصطناعي**: استخدام مجموعة خيوط لمعالجة تلخيصات الذكاء الاصطناعي لعدة مقالات بالتوازي
3. **تحسين معالجة النصوص**: تحسين خوارزمية استخراج محتوى HTML لاستخراج المحتوى الأساسي للمقالات بذكاء أكبر
4. **معالجة آمنة للملفات**: اعتماد آلية كتابة ملفات آمنة لتجنب فقدان البيانات في حالة تعطل البرنامج
5. **تحسين استخدام الذاكرة**: تحسين هياكل البيانات وسير العمل لتقليل استهلاك الذاكرة

### تعليمات الاستخدام

1. استنساخ المشروع إلى جهازك المحلي
2. تثبيت التبعيات: `pip install -r requirements.txt`
3. إنشاء ملف `.env` وضبط مفتاح API الخاص بـ OpenAI: `OPENAI_API_KEY=مفتاحك`
4. تعديل `resource/config.yml` لتكوين مصادر RSS الخاصة بك
5. تشغيل `python main.py` لبدء المعالجة

### الاختبار وتصحيح الأخطاء

يوفر المشروع دفتر اختبار تفاعلي `test.ipynb` لاختبار الوظائف المختلفة:

1. جلب وتحليل مصادر RSS
2. وظيفة المرشحات
3. وظيفة ملخص الذكاء الاصطناعي
4. آلية التخزين المؤقت
5. تخصيص عنوان URL الأساسي
6. اختبار الأداء

طريقة الاستخدام:

```bash
# تثبيت Jupyter
pip install jupyter

# تشغيل الدفتر
jupyter notebook test.ipynb
```

### مثال على قواعد التصفية المخصصة

```yaml
- htmlUrl: http://www.smzdm.com
  name: c5738f
  text: 什么值得买 | 优惠精选
  url: http://feed.smzdm.com
  filters:
    - type: include
      field: title
      keywords:
        [
          '可乐',
          '雪碧',
          '芬达',
          '柠檬',
          '茶叶',
          '纸巾',
          '酒精',
          '湿纸巾',
          '餐巾纸',
        ]
```

### لقطات شاشة للاستخدام

- وظيفة التلخيص والملخص بالذكاء الاصطناعي

<div style="display: flex;">
    <img src="https://raw.githubusercontent.com/TD21forever/RSS-Master/main/typora/202310031757486.png" alt="image-20231003174334231" style="width: 45%;">
    <img src="https://raw.githubusercontent.com/TD21forever/RSS-Master/main/typora/202310031757686.png" alt="image-20231003175143405" style="width: 45%;">
</div>

- التصفية المخصصة: تصفية قناة العروض الجيدة في "什么值得买"، مع التوصية فقط بالمنتجات التي أود تخزينها مؤخرًا، مثل المشروبات الغازية

<img src="https://raw.githubusercontent.com/TD21forever/RSS-Master/main/typora/%E4%BB%80%E4%B9%88%E5%80%BC%E5%BE%97%E4%B9%B0-%E6%B1%BD%E6%B0%B4.png" alt="image-20231003164248923" style="width: 400px; height: 400px;" />

---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-11

---