<div align="right">
  <details>
    <summary >๐ ุฒุจุงู</summary>
    <div>
      <div align="center">
        <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=en">English</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=zh-CN">็ฎไฝไธญๆ</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=zh-TW">็น้ซไธญๆ</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ja">ๆฅๆฌ่ช</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ko">ํ๊ตญ์ด</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=hi">เคนเคฟเคจเฅเคฆเฅ</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=th">เนเธเธข</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=fr">Franรงais</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=de">Deutsch</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=es">Espaรฑol</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=it">Italiano</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ru">ะัััะบะธะน</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=pt">Portuguรชs</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=nl">Nederlands</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=pl">Polski</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ar">ุงูุนุฑุจูุฉ</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=fa">ูุงุฑุณ</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=tr">Tรผrkรงe</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=vi">Tiแบฟng Viแปt</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=id">Bahasa Indonesia</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=as">เฆเฆธเฆฎเงเฆฏเฆผเฆพ</
      </div>
    </div>
  </details>
</div>

# Mapperatorinator

ูุฏู ูููุฏ ุฑุง [ุงูุฌุง](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mapperatorinator_inference.ipynb) ุงูุชุญุงู ฺฉูุฏุ ุง MaiMod ุฑุง [ุงูุฌุง](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mai_mod_inference.ipynb) ุจุฑุฑุณ ฺฉูุฏ. ููุงุด ูุฏู ุฑุง [ุงูุฌุง](https://youtu.be/FEr7t1L2EoA) ุจุจูุฏ.

Mapperatorinator ฺฉ ฺุงุฑฺูุจ ฺูุฏูุฏู ุงุณุช ฺฉู ุงุฒ ูุฑูุฏโูุง ุทูโูฺฏุงุฑ ุจุฑุง ุชููุฏ ููุดูโูุง ฺฉุงูู osu! ุจุฑุง ููู ุญุงูุชโูุง ุจุงุฒ ู [ฺฉูฺฉ ุจู ูุฏุณุงุฒ ููุดูโูุง](#maimod-the-ai-driven-modding-tool) ุงุณุชูุงุฏู ูโฺฉูุฏ.
ูุฏู ุงู ูพุฑูฺู ุชููุฏ ุฎูุฏฺฉุงุฑ ููุดูโูุง osu! ุจุง ฺฉูุช ูุงุจู ุฑุชุจูโุจูุฏ ุงุฒ ูุฑ ุขููฺฏ ุจุง ุฏุฑุฌู ุจุงูุง ุงุฒ ุณูุงุฑุดโุณุงุฒ ุงุณุช.

ุงู ูพุฑูฺู ุจุฑ ูพุงู [osuT5](https://github.com/gyataro/osuT5) ู [osu-diffusion](https://github.com/OliBomby/osu-diffusion) ุณุงุฎุชู ุดุฏู ุงุณุช. ุฏุฑ ุชูุณุนู ุงู ูพุฑูฺู ุญุฏูุฏ ฒตฐฐ ุณุงุนุช ูุญุงุณุจุงุช GPU ุฏุฑ ฑดฒ ุงุฌุฑุง ุฑู ดฐถฐ Ti ุฎูุฏู ู ูููููโูุง ุงุฌุงุฑูโุง ดฐนฐ ุฏุฑ vast.ai ุตุฑู ฺฉุฑุฏู.


#### ุงุฒ ุงู ุงุจุฒุงุฑ ุจู ุตูุฑุช ูุณุฆููุงูู ุงุณุชูุงุฏู ฺฉูุฏ. ููุดู ุงุณุชูุงุฏู ุงุฒ ููุด ูุตููุน ุฏุฑ ุจุชโููพโูุง ุฎูุฏ ุฑุง ุงูุดุง ฺฉูุฏ.

## ูุตุจ

ุฏุณุชูุฑุงูุนูู ุฒุฑ ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุจุชโููพโูุง ุฑุง ุจุฑ ุฑู ุฏุณุชฺฏุงู ูุญู ุฎูุฏ ุชููุฏ ฺฉูุฏุ ููฺูู ูโุชูุงูุฏ ุขู ุฑุง ุฏุฑ ูุถุง ุงุจุฑ ุจุง [ุฏูุชุฑฺู colab](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mapperatorinator_inference.ipynb) ุงุฌุฑุง ฺฉูุฏ.

### ฑ. ูุฎุฒู ุฑุง ฺฉููู ฺฉูุฏ

```sh
git clone https://github.com/OliBomby/Mapperatorinator.git
cd Mapperatorinator
```

### 2. (ุงุฎุชุงุฑ) ุงุฌุงุฏ ูุญุท ูุฌุงุฒ

ุงุฒ Python 3.10 ุงุณุชูุงุฏู ฺฉูุฏุ ูุณุฎูโูุง ุจุนุฏ ููฺฉู ุงุณุช ุจุง ูุงุจุณุชฺฏโูุง ูุงุณุงุฒฺฏุงุฑ ุจุงุดูุฏ.

```sh
python -m venv .venv

# In cmd.exe
.venv\Scripts\activate.bat
# In PowerShell
.venv\Scripts\Activate.ps1
# In Linux or MacOS
source .venv/bin/activate
```

### ณ. ูุตุจ ูุงุจุณุชฺฏโูุง

- ูพุงุชูู ณ.ฑฐ
- [ฺฏุช](https://git-scm.com/downloads)
- [ุงูโุงูโุงูโูพฺฏ](http://www.ffmpeg.org/)
- [CUDA](https://developer.nvidia.com/cuda-zone) (ุจุฑุง ฺฉุงุฑุชโูุง ฺฏุฑุงูฺฉ NVIDIA) ุง [ROCm](https://rocmdocs.amd.com/en/latest/Installation_Guide/Installation-Guide.html) (ุจุฑุง ฺฉุงุฑุชโูุง ฺฏุฑุงูฺฉ AMD ุฑู ูููฺฉุณ)
- [ูพุงโุชูุฑฺ](https://pytorch.org/get-started/locally/): ูุทูุฆู ุดูุฏ ุฑุงูููุง ุดุฑูุน ุฑุง ุฏูุจุงู ูโฺฉูุฏ ุชุง `torch` ู `torchaudio` ุฑุง ุจุง ูพุดุชุจุงู ุงุฒ GPU ูุตุจ ฺฉูุฏ. ูุณุฎู ุตุญุญ Compute Platform ฺฉู ุฏุฑ ูุฑุญูู ูุจู ูุตุจ ฺฉุฑุฏูโุงุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.

- ู ุณุงุฑ ูุงุจุณุชฺฏโูุง ูพุงุชูู:

```sh
pip install -r requirements.txt
```

## ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ (ุชูุตูโุดุฏู)

ุจุฑุง ุชุฌุฑุจูโุง ฺฉุงุฑุจุฑูพุณูุฏุชุฑุ ุงุณุชูุงุฏู ุงุฒ ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ ุฑุง ูุฏูุธุฑ ูุฑุงุฑ ุฏูุฏ. ุงู ุฑุงุจุทุ ฺฉ ูุงุณุท ฺฏุฑุงูฺฉ ุจุฑุง ุชูุธู ูพุงุฑุงูุชุฑูุง ุชููุฏุ ุดุฑูุน ูุฑุงูุฏ ู ูุธุงุฑุช ุจุฑ ุฎุฑูุฌ ูุฑุงูู ูโฺฉูุฏ.

### ุฑุงูโุงูุฏุงุฒ ุฑุงุจุท ฺฉุงุฑุจุฑ ฺฏุฑุงูฺฉ

ุฏุฑ ุชุฑููุงู ุฎูุฏ ุจู ูพูุดูโ ฺฉูููโุดุฏูโ `Mapperatorinator` ุจุฑูุฏ ู ุงุฌุฑุง ฺฉูุฏ:

```sh
python web-ui.py
```
ุงู ฺฉุงุฑ ฺฉ ูุจ ุณุฑูุฑ ูุญู ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉุฑุฏู ู ุฑุงุจุท ฺฉุงุฑุจุฑ ุฑุง ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุฏุฑ ฺฉ ูพูุฌุฑู ุฌุฏุฏ ุจุงุฒ ูโฺฉูุฏ.

### ุงุณุชูุงุฏู ุงุฒ ุฑุงุจุท ฺฏุฑุงูฺฉ (GUI)

- **ูพฺฉุฑุจูุฏ:** ูุณุฑูุง ูุฑูุฏ/ุฎุฑูุฌ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ููุฏูุง ูุฑู ู ุฏฺฉููโูุง "ูุฑูุฑ" ุชูุธู ฺฉูุฏ. ูพุงุฑุงูุชุฑูุง ุชููุฏ ูุงููุฏ ุญุงูุช ุจุงุฒุ ุฏุฑุฌู ุณุฎุชุ ุณุจฺฉ (ุณุงูุ ุดูุงุณู ูฺฏุงุฑูุฏูุ ุชูุตูโฺฏุฑูุง)ุ ุฒูุงูโุจูุฏุ ูฺฺฏโูุง ุฎุงุต (ุตุฏุงูุง ุถุฑุจูุ ุฒูุงูโุจูุฏ ูฺู) ู ุบุฑู ุฑุง ุชูุธู ฺฉูุฏ ฺฉู ูุดุงุจู ฺฏุฒููโูุง ุฎุท ูุฑูุงู ูุณุชูุฏ. (ุชูุฌู: ุงฺฏุฑ ฺฉ `beatmap_path` ูุงุฑุฏ ฺฉูุฏุ ุฑุงุจุท ฺฉุงุฑุจุฑ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ `audio_path` ู `output_path` ุฑุง ุงุฒ ุขู ุชุนู ูโฺฉูุฏุ ุจูุงุจุฑุงู ูโุชูุงูุฏ ุงู ููุฏูุง ุฑุง ุฎุงู ุจฺฏุฐุงุฑุฏ)
- **ุดุฑูุน:** ุจุฑุง ุขุบุงุฒ ุณุงุฎุช ุจุชโููพุ ุฏฺฉูู "ุดุฑูุน ุงุณุชูุชุงุฌ" ุฑุง ฺฉูฺฉ ฺฉูุฏ.
- **ูุบู:** ูโุชูุงูุฏ ูุฑุขูุฏ ุฌุงุฑ ุฑุง ุจุง ุฏฺฉูู "ูุบู ุงุณุชูุชุงุฌ" ูุชููู ฺฉูุฏ.
- **ุจุงุฒ ฺฉุฑุฏู ุฎุฑูุฌ:** ูพุณ ุงุฒ ุงุชูุงูุ ุงุฒ ุฏฺฉูู "ุจุงุฒ ฺฉุฑุฏู ูพูุดู ุฎุฑูุฌ" ุจุฑุง ุฏุณุชุฑุณ ุณุฑุน ุจู ูุงูโูุง ุชููุฏ ุดุฏู ุงุณุชูุงุฏู ฺฉูุฏ.

ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ ุจู ุนููุงู ฺฉ ูพูุดุด ุฑุงุญุช ุจุฑ ุฑู ุงุณฺฉุฑูพุช `inference.py` ุนูู ูโฺฉูุฏ. ุจุฑุง ฺฏุฒููโูุง ูพุดุฑูุชู ุง ุฑูุน ุงุดฺฉุงูุ ุจู ุฏุณุชูุฑุงูุนููโูุง ุฎุท ูุฑูุงู ูุฑุงุฌุนู ฺฉูุฏ.

![python_u3zyW0S3Vs](https://github.com/user-attachments/assets/5312a45f-d51c-4b37-9389-da3258ddd0a1)

## ุงุณุชูุชุงุฌ ุงุฒ ุทุฑู ุฎุท ูุฑูุงู

ุจุฑุง ฺฉุงุฑุจุฑุงู ฺฉู ุฎุท ูุฑูุงู ุฑุง ุชุฑุฌุญ ูโุฏููุฏ ุง ุจู ุชูุธูุงุช ูพุดุฑูุชู ูุงุฒ ุฏุงุฑูุฏุ ูุฑุงุญู ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ. **ุชูุฌู:** ุจุฑุง ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุงุฏูโุชุฑุ ูุทูุงู ุจู ุจุฎุด [ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ (ุชูุตูโุดุฏู)](#web-ui-recommended) ุฏุฑ ุจุงูุง ูุฑุงุฌุนู ฺฉูุฏ.

ุงุณฺฉุฑูพุช `inference.py` ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุจุฑุฎ ุขุฑฺฏููุงูโูุง ุฑุง ุจุฑุง ุชููุฏ ุจุชโููพโูุง ูุงุฑุฏ ฺฉูุฏ. ุจุฑุง ุงู ููุธูุฑ ุงุฒ [ุณูุชฺฉุณ override ูุง Hydra](https://hydra.cc/docs/advanced/override_grammar/basic/) ุงุณุชูุงุฏู ฺฉูุฏ. ุจุฑุง ูุดุงูุฏู ููู ูพุงุฑุงูุชุฑูุง ููุฌูุฏ ุจู `configs/inference_v29.yaml` ูุฑุงุฌุนู ฺฉูุฏ.

```
python inference.py \
  audio_path           [Path to input audio] \
  output_path          [Path to output directory] \
  beatmap_path         [Path to .osu file to autofill metadata, and output_path, or use as reference] \
  
  gamemode             [Game mode to generate 0=std, 1=taiko, 2=ctb, 3=mania] \
  difficulty           [Difficulty star rating to generate] \
  mapper_id            [Mapper user ID for style] \
  year                 [Upload year to simulate] \
  hitsounded           [Whether to add hitsounds] \
  slider_multiplier    [Slider velocity multiplier] \
  circle_size          [Circle size] \
  keycount             [Key count for mania] \
  hold_note_ratio      [Hold note ratio for mania 0-1] \
  scroll_speed_ratio   [Scroll speed ratio for mania and ctb 0-1] \
  descriptors          [List of beatmap user tags for style] \
  negative_descriptors [List of beatmap user tags for classifier-free guidance] \
  
  add_to_beatmap       [Whether to add generated content to the reference beatmap instead of making a new beatmap] \
  start_time           [Generation start time in milliseconds] \
  end_time             [Generation end time in milliseconds] \
  in_context           [List of additional context to provide to the model [NONE,TIMING,KIAI,MAP,GD,NO_HS]] \
  output_type          [List of content types to generate] \
  cfg_scale            [Scale of the classifier-free guidance] \
  super_timing         [Whether to use slow accurate variable BPM timing generator] \
  seed                 [Random seed for generation] \
```

ูุซุงู:
```
python inference.py beatmap_path="'C:\Users\USER\AppData\Local\osu!\Songs\1 Kenji Ninuma - DISCO PRINCE\Kenji Ninuma - DISCOPRINCE (peppy) [Normal].osu'" gamemode=0 difficulty=5.5 year=2023 descriptors="['jump aim','clean']" in_context=[TIMING,KIAI]
```

## ุฑุงุจุท ุฎุท ูุฑูุงู ุชุนุงูู
ุจุฑุง ฺฉุณุงู ฺฉู ุจู ูุญุท ฺฉุงุฑ ูุจุชู ุจุฑ ุชุฑููุงู ุนูุงูู ุฏุงุฑูุฏ ุงูุง ุฎูุงูุงู ุฑุงูโุงูุฏุงุฒ ุฑุงูููุงโุดุฏู ูุณุชูุฏุ ุงุณฺฉุฑูพุช ุฎุท ูุฑูุงู ุชุนุงูู ุฌุงฺฏุฒู ุจุณุงุฑ ุฎูุจ ุจุฑุง ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ ุงุณุช.

### ุงุฌุฑุง ุฎุท ูุฑูุงู
ุจู ูพูุดูโ ฺฉูููโุดุฏู ุจุฑูุฏ. ููฺฉู ุงุณุช ูุงุฒู ุจุงุดุฏ ุงุจุชุฏุง ุงุณฺฉุฑูพุช ุฑุง ูุงุจู ุงุฌุฑุง ฺฉูุฏ.

```sh
# Make the script executable (only needs to be done once)
chmod +x cli_inference.sh
```

```sh
# Run the script
./cli_inference.sh
```

### ุงุณุชูุงุฏู ุงุฒ ุฑุงุจุท ุฎุท ูุฑูุงู (CLI)
ุงู ุงุณฺฉุฑูพุช ุดูุง ุฑุง ูุฑุญูู ุจู ูุฑุญูู ุงุฒ ุทุฑู ูุฌููุนูโุง ุงุฒ ูพุฑุณุดโูุง ุจุฑุง ูพฺฉุฑุจูุฏ ุชูุงู ูพุงุฑุงูุชุฑูุง ุชููุฏ ุฑุงูููุง ูโฺฉูุฏุ ุฏุฑุณุช ูุงููุฏ ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ.

ุงุฒ ฺฉ ุฑุงุจุท ุฑูฺฏ ุจุฑุง ูุถูุญ ุจุดุชุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ.
ฺฉ ููู ูพุดุฑูุชู ฺูุฏุงูุชุฎุงุจ ุจุฑุง ุงูุชุฎุงุจ ุชูุตูโฺฉููุฏูโูุง ุณุจฺฉ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง ุฌูุช ู ฺฉูุฏ ูุงุตูู ุงุฑุงุฆู ูโุฏูุฏ.
ูพุณ ุงุฒ ูพุงุณุฎ ุจู ุชูุงู ุณูุงูุงุชุ ูุฑูุงู ููุง ุฑุง ุจุฑุง ุจุฑุฑุณ ุดูุง ููุงุด ูโุฏูุฏ.
ุณูพุณ ูโุชูุงูุฏ ุชุฃุฏ ฺฉูุฏ ุชุง ุขู ุฑุง ูุณุชูู ุงุฌุฑุง ฺฉูุฏ ุง ูุบู ฺฉุฑุฏู ู ูุฑูุงู ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุฏุณุช ฺฉูพ ฺฉูุฏ.

## ูฺฉุงุช ุชููุฏ

- ูโุชูุงูุฏ ูุงู `configs/inference_v29.yaml` ุฑุง ูุฑุงุด ฺฉุฑุฏู ู ุขุฑฺฏููุงูโูุง ุฎูุฏ ุฑุง ุจู ุฌุง ูุงุฑุฏ ฺฉุฑุฏู ูุฑ ุจุงุฑ ุฏุฑ ุชุฑููุงูุ ุขูุฌุง ุงุถุงูู ฺฉูุฏ.
- ุชูุงู ุชูุตูโฺฉููุฏูโูุง ููุฌูุฏ ุฑุง ูโุชูุงูุฏ [ุงูุฌุง](https://osu.ppy.sh/wiki/en/Beatmap/Beatmap_tags) ูพุฏุง ฺฉูุฏ.
- ููุดู ฺฉ ุขุฑฺฏููุงู ุณุงู ุจู ฒฐฐท ุชุง ฒฐฒณ ุงุฑุงุฆู ุฏูุฏ. ุงฺฏุฑ ูุงูุดุฎุต ุจฺฏุฐุงุฑุฏุ ูุฏู ููฺฉู ุงุณุช ุชููุฏ ุจุง ุณุจฺฉ ูุงุณุงุฒฺฏุงุฑ ุงุฌุงุฏ ฺฉูุฏ.
- ููุดู ฺฉ ุขุฑฺฏููุงู ุณุฎุช ุงุฑุงุฆู ุฏูุฏ. ุงฺฏุฑ ูุงูุดุฎุต ุจฺฏุฐุงุฑุฏุ ูุฏู ููฺฉู ุงุณุช ุชููุฏ ุจุง ุณุฎุช ูุงุณุงุฒฺฏุงุฑ ุงุฌุงุฏ ฺฉูุฏ.
- ูพุงุฑุงูุชุฑ `cfg_scale` ุฑุง ุงูุฒุงุด ุฏูุฏ ุชุง ุงุซุฑุจุฎุด ุขุฑฺฏููุงูโูุง `mapper_id` ู `descriptors` ุจุดุชุฑ ุดูุฏ.
- ูโุชูุงูุฏ ุงุฒ ุขุฑฺฏููุงู `negative_descriptors` ุจุฑุง ูุฏุงุช ูุฏู ุฏูุฑ ุงุฒ ุณุจฺฉโูุง ุฎุงุต ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ููุท ุฒูุงู ฺฉุงุฑ ูโฺฉูุฏ ฺฉู `cfg_scale > 1` ุจุงุดุฏ. ูุทูุฆู ุดูุฏ ุชุนุฏุงุฏ ุชูุตูโฺฉููุฏูโูุง ููู ุจุง ุชุนุฏุงุฏ ุชูุตูโฺฉููุฏูโูุง ุจุฑุงุจุฑ ุจุงุดุฏ.
- ุงฺฏุฑ ุณุจฺฉ ุขููฺฏ ุดูุง ุจุง ุณุจฺฉ ููุดู ุถุฑุจ ููุฑุฏ ูุธุฑ ูุทุงุจูุช ุฎูุจ ูุฏุงุดุชู ุจุงุดุฏุ ูุฏู ููฺฉู ุงุณุช ุงุฒ ุฏุณุชูุฑุงูุนููโูุง ุดูุง ูพุฑู ูฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุชููุฏ ููุดู ุถุฑุจ ุจุง SR ุจุงูุง ู SV ุจุงูุง ุจุฑุง ฺฉ ุขููฺฏ ุขุฑุงู ุฏุดูุงุฑ ุงุณุช.
- ุงฺฏุฑ ุฒูุงูโุจูุฏ ู ุฒูุงูโูุง Kiai ุขููฺฏ ุฑุง ูุจูุงู ุงูุฌุงู ุฏุงุฏูโุงุฏุ ูโุชูุงูุฏ ุงู ุงุทูุงุนุงุช ุฑุง ุจู ูุฏู ุจุฏูุฏ ุชุง ุณุฑุนุช ู ุฏูุช ุงุณุชูุชุงุฌ ุจู ุทูุฑ ูุงุจู ุชูุฌู ุงูุฒุงุด ุงุจุฏ: ุงุฒ ุขุฑฺฏููุงูโูุง `beatmap_path` ู `in_context=[TIMING,KIAI]` ุงุณุชูุงุฏู ฺฉูุฏ.
- ุจุฑุง ููุดูโุจุฑุฏุงุฑ ูุฌุฏุฏ ููุท ุจุฎุด ุงุฒ ููุดู ุถุฑุจ ุฎูุฏุ ุงุฒ ุขุฑฺฏููุงูโูุง `beatmap_path`ุ `start_time`ุ `end_time` ู `add_to_beatmap=true` ุงุณุชูุงุฏู ฺฉูุฏ.
- ุจุฑุง ุชููุฏ ุฏุดูุงุฑ ูููุงู ุจุฑุง ฺฉ ููุดู ุถุฑุจุ ุงุฒ ุขุฑฺฏููุงูโูุง `beatmap_path` ู `in_context=[GD,TIMING,KIAI]` ุงุณุชูุงุฏู ฺฉูุฏ.
- ุจุฑุง ุชููุฏ ูุชโุณุงูุฏ ุจุฑุง ฺฉ ููุดู ุถุฑุจุ ุงุฒ ุขุฑฺฏููุงูโูุง `beatmap_path` ู `in_context=[NO_HS,TIMING,KIAI]` ุงุณุชูุงุฏู ฺฉูุฏ.
- ุจุฑุง ุชููุฏ ููุท ุฒูุงูโุจูุฏ ุจุฑุง ฺฉ ุขููฺฏุ ุงุฒ ุขุฑฺฏููุงูโูุง `super_timing=true` ู `output_type=[TIMING]` ุงุณุชูุงุฏู ฺฉูุฏ.

## MaiMod: ุงุจุฒุงุฑ ูุฏูฺฏ ูุจุชู ุจุฑ ููุด ูุตููุน

MaiMod ฺฉ ุงุจุฒุงุฑ ูุฏูฺฏ ุจุฑุง ููุดูโุถุฑุจโูุง osu! ุงุณุช ฺฉู ุงุฒ ูพุดโุจูโูุง Mapperatorinator ุจุฑุง ุงูุชู ุฎุทุงูุง ู ูุงุณุงุฒฺฏุงุฑโูุง ุงุญุชูุงู ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุณุงุฑ ุงุจุฒุงุฑูุง ุฎูุฏฺฉุงุฑ ูุฏูฺฏ ูุงููุฏ [Mapset Verifier](https://github.com/Naxesss/MapsetVerifier) ููโุชูุงููุฏ ุขููุง ุฑุง ุชุดุฎุต ุฏููุฏ.
ูโุชูุงูุฏ ูุดฺฉูุงุช ูุงููุฏ:
- ุถุฑุจ ุง ุงูฺฏููุง ุฑุชูฺฉ ูุงุฏุฑุณุช
- ููุงุท ุฒูุงูโุจูุฏ ุบุฑ ุฏูู
- ูููุนุชโูุง ูุงุณุงุฒฺฏุงุฑ ุงุดุงุก ุถุฑุจ ุง ูุฑุงุฑฺฏุฑ ูุงููุงุณุจ ฺฉุงูุจููุง ุฌุฏุฏ
- ุงุดฺฉุงู ุนุฌุจ ุงุณูุงุฏุฑูุง
- ูุชโุณุงูุฏ ุง ุญุฌูโูุง ูุงุณุงุฒฺฏุงุฑ

ูโุชูุงูุฏ MaiMod ุฑุง [ุงูุฌุง](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mai_mod_inference.ipynb) ุงูุชุญุงู ฺฉูุฏุ ุง ุจู ุตูุฑุช ูุญู ุงุฌุฑุง ฺฉูุฏ:
ุจุฑุง ุงุฌุฑุง MaiMod ุจู ุตูุฑุช ูุญูุ ุจุงุฏ Mapperatorinator ุฑุง ูุตุจ ฺฉูุฏ. ุณูพุณุ ุงุณฺฉุฑูพุช `mai_mod.py` ุฑุง ุงุฌุฑุง ฺฉุฑุฏู ู ูุณุฑ ููุดู ุถุฑุจ ุฎูุฏ ุฑุง ุจุง ุขุฑฺฏููุงู `beatmap_path` ูุดุฎุต ฺฉูุฏ.
```sh
python mai_mod.py beatmap_path="'C:\Users\USER\AppData\Local\osu!\Songs\1 Kenji Ninuma - DISCO PRINCE\Kenji Ninuma - DISCOPRINCE (peppy) [Normal].osu'"
```
ุงู ฺฉุงุฑ ูพุดููุงุฏุงุช ูุฏูฺฏ ุฑุง ุฏุฑ ฺฉูุณูู ฺุงูพ ูโฺฉูุฏ ฺฉู ุณูพุณ ูโุชูุงูุฏ ุขูโูุง ุฑุง ุจู ุตูุฑุช ุฏุณุช ุฑู ุจุชโููพ ุฎูุฏ ุงุนูุงู ฺฉูุฏ.
ูพุดููุงุฏุงุช ุจู ุชุฑุชุจ ุฒูุงู ูุฑุชุจ ุดุฏู ู ุฏุฑ ุฏุณุชูโุจูุฏโูุง ูุฎุชูู ฺฏุฑููโุจูุฏ ุดุฏูโุงูุฏ.
ููุฏุงุฑ ุงูู ุฏุฑ ุฏุงุฑู ูุดุงูโุฏููุฏู ยซุณูุฑูพุฑุงุฒุงูยป ุงุณุช ฺฉู ูุนุงุฑ ุงุฒ ูุฒุงู ุบุฑููุชุธุฑู ุจูุฏู ูุดฺฉู ุชูุณุท ูุฏู ูโุจุงุดุฏุ ุจูุงุจุฑุงู ูโุชูุงูุฏ ูููโุชุฑู ูุดฺฉูุงุช ุฑุง ุฏุฑ ุงูููุช ูุฑุงุฑ ุฏูุฏ.

ูุฏู ููฺฉู ุงุณุช ุงุดุชุจุงู ฺฉูุฏุ ุจู ูฺู ุฏุฑ ูุดฺฉูุงุช ุจุง ุณูุฑูพุฑุงุฒุงู ูพุงูุ ูพุณ ููุดู ูุจู ุงุฒ ุงุนูุงู ูพุดููุงุฏุงุช ุจู ุจุชโููพ ุฎูุฏุ ุขูโูุง ุฑุง ุฏูุจุงุฑู ุจุฑุฑุณ ฺฉูุฏ.
ูุฏู ุงุตู ฺฉูฺฉ ุจู ุดูุง ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ูุถุง ุฌุณุชุฌู ุฌูุช ุงูุชู ูุดฺฉูุงุช ุงุญุชูุงู ุงุณุช ุชุง ูุฌุจูุฑ ูุจุงุดุฏ ูุฑ ุดุก ุถุฑุจูโุง ุฑุง ุจู ุตูุฑุช ุฏุณุช ุจุฑุฑุณ ฺฉูุฏ.

### ุฑุงุจุท ฺฏุฑุงูฺฉ MaiMod
ุจุฑุง ุงุฌุฑุง ุฑุงุจุท ูุจ MaiModุ ุจุงุฏ Mapperatorinator ุฑุง ูุตุจ ฺฉูุฏ.
ุณูพุณ ุงุณฺฉุฑูพุช `mai_mod_ui.py` ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุงู ฺฉุงุฑ ฺฉ ูุจ ุณุฑูุฑ ูุญู ุฑุงูโุงูุฏุงุฒ ฺฉุฑุฏู ู ุฑุงุจุท ฺฉุงุฑุจุฑ ุฑุง ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุฏุฑ ฺฉ ูพูุฌุฑู ุฌุฏุฏ ุจุงุฒ ูโฺฉูุฏ:

```sh
python mai_mod_ui.py
```
<img width="850" height="1019" alt="afbeelding" src="https://github.com/user-attachments/assets/67c03a43-a7bd-4265-a5b1-5e4d62aca1fa" />

## ููุง ฺฉู

### ุชูฺฉูุฒุงุณูู

Mapperatorinator ููุดูโูุง osu! ุฑุง ุจู ฺฉ ููุงุด ุฑูุฏุงุฏ ูุงุณุท ุชุจุฏู ูโฺฉูุฏ ฺฉู ูโุชูุงูุฏ ูุณุชููุงู ุจู ุชูฺฉูโูุง ุชุจุฏู ุดูุฏ ู ุจุงูุนฺฉุณ.
ุงู ุดุงูู ุขุจุฌฺฉุชโูุง ุถุฑุจูุ ุตุฏุง ุถุฑุจูโูุงุ ุณุฑุนุช ุงุณูุงุฏุฑูุงุ ฺฉูุจููุง ุฌุฏุฏุ ููุงุท ุฒูุงูุ ุฒูุงูโูุง kiai ู ุณุฑุนุช ุงุณฺฉุฑูู taiko/mania ุงุณุช.

ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ฺฉูฺฺฉ ุงุฒ ูุฑุขูุฏ ุชูฺฉูุฒุงุณูู ุขูุฏู ุงุณุช:

![mapperatorinator_parser](https://github.com/user-attachments/assets/84efde76-4c27-48a1-b8ce-beceddd9e695)

ุจุฑุง ุตุฑููโุฌู ุฏุฑ ุงูุฏุงุฒู ูุงฺฺฏุงูุ ุฑูุฏุงุฏูุง ุฒูุงู ุจู ุจุงุฒูโูุง ฑฐ ููโุซุงููโุง ู ูุฎุชุตุงุช ูููุนุช ุจู ููุงุท ุดุจฺฉูโุง ณฒ ูพฺฉุณู ฺฉูุงูุชุฒู ูโุดููุฏ.

### ูุนูุงุฑ ูุฏู
ูุฏู ุงุณุงุณุงู ฺฉ ูุงู ุฑู ูุฏู [HF Transformers Whisper](https://huggingface.co/docs/transformers/en/model_doc/whisper#transformers.WhisperForConditionalGeneration) ุงุณุชุ ุจุง ุฌุงุณุงุฒโูุง ูุฑูุฏ ู ุชุงุจุน ุฒุงู ุณูุงุฑุด.
ุงูุฏุงุฒู ูุฏู ุจุฑุงุจุฑ ุจุง ฒฑน ูููู ูพุงุฑุงูุชุฑ ุงุณุช.
ุงู ูุฏู ูุณุจุช ุจู T5 ุจุฑุง ุงู ูุธูู ุณุฑุนโุชุฑ ู ุฏููโุชุฑ ุงุฑุฒุงุจ ุดุฏ.

ููุง ฺฉู ุณุทุญ ุจุงูุง ุงุฒ ูุฑูุฏ-ุฎุฑูุฌ ูุฏู ุจู ุดุฑุญ ุฒุฑ ุงุณุช:

![Picture2](https://user-images.githubusercontent.com/28675590/201044116-1384ad72-c540-44db-a285-7319dd01caad.svg)

ูุฏู ุงุฒ ูุฑูโูุง ุงุณูพฺฉุชุฑูฺฏุฑุงู ูู ุจู ุนููุงู ูุฑูุฏ ุฑูุฒฺฏุฐุงุฑ ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจุง ฺฉ ูุฑู ุจุฑุง ูุฑ ูููุนุช ูุฑูุฏ. ุฎุฑูุฌ ุฑูุฒฺฏุดุง ูุฏู ุฏุฑ ูุฑ ฺฏุงู ฺฉ ุชูุฒุน softmax ุฑู ฺฉ ูุงฺฺฏุงู ฺฏุณุณุชู ู ุงุฒ ูพุด ุชุนุฑู ุดุฏู ุงุฒ ุฑูุฏุงุฏูุง ุงุณุช. ุฎุฑูุฌโูุง ูพุฑุงฺฉูุฏู ูุณุชูุฏุ ุฑูุฏุงุฏูุง ููุท ุฒูุงู ูุงุฒ ูุณุชูุฏ ฺฉู ฺฉ ุขุจุฌฺฉุช ุถุฑุจู ุฑุฎ ุฏูุฏุ ุจู ุฌุง ูุดุงููโฺฏุฐุงุฑ ูุฑ ูุฑู ุตูุช.

### ูุงูุจ ุขููุฒุด ฺูุฏูุธููโุง

![Multitask training format](https://github.com/user-attachments/assets/62f490bc-a567-4671-a7ce-dbcc5f9cd6d9)

ูุจู ุงุฒ ุชูฺฉู SOSุ ุชูฺฉูโูุง ุงุถุงู ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ุชููุฏ ุดุฑุท ุฑุง ุชุณูู ูโฺฉููุฏ. ุงู ุชูฺฉูโูุง ุดุงูู ุญุงูุช ุจุงุฒุ ุณุฎุชุ ุดูุงุณู ุณุงุฒูุฏูุ ุณุงู ู ุณุงุฑ ุงุทูุงุนุงุช ูุชุง ูุณุชูุฏ.
ุฏุฑ ุทูู ุขููุฒุดุ ุงู ุชูฺฉูโูุง ุจุฑฺุณุจ ููุฑุงู ูุฏุงุฑูุฏุ ุจูุงุจุฑุงู ูฺโฺฏุงู ุชูุณุท ูุฏู ุชููุฏ ููโุดููุฏ.
ููฺูู ุฏุฑ ุทูู ุขููุฒุดุ ุงุญุชูุงู ุชุตุงุฏู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ฺฉ ุชูฺฉู ูุชุงุฏุชุง ุจุง ฺฉ ุชูฺฉู ยซูุงุดูุงุฎุชูยป ุฌุงฺฏุฒู ุดูุฏุ ุชุง ููฺฏุงู ุงุณุชูุชุงุฌ ุจุชูุงูู ุงุฒ ุงู ุชูฺฉูโูุง ยซูุงุดูุงุฎุชูยป ุจุฑุง ฺฉุงูุด ุงุทูุงุนุงุช ููุฑุฏ ูุงุฒ ูุฏู ุงุณุชูุงุฏู ฺฉูู.

### ุชููุฏ ุจโูููู ุทููุงู

ุทูู ุฒููู ูุฏู ุจุฑุงุจุฑ ุจุง ธ.ฑนฒ ุซุงูู ุงุณุช. ุงู ูุงุถุญุงู ุจุฑุง ุชููุฏ ฺฉุงูู ฺฉ beatmap ฺฉุงู ูุณุชุ ุจูุงุจุฑุงู ุจุงุฏ ุขููฺฏ ุฑุง ุจู ฺูุฏู ูพูุฌุฑู ุชูุณู ฺฉูู ู beatmap ุฑุง ุฏุฑ ุจุฎุดโูุง ฺฉูฺฺฉ ุชููุฏ ฺฉูู.
ุจุฑุง ุงุทููุงู ุงุฒ ุงูฺฉู beatmap ุชููุฏ ุดุฏู ุฏุฑ ุจู ูพูุฌุฑูโูุง ุฏุฑุฒ ูุงุจูโุชูุฌู ูุฏุงุฑุฏุ ุงุฒ ูููพูุดุงู นฐูช ุงุณุชูุงุฏู ูโฺฉูู ู ูพูุฌุฑูโูุง ุฑุง ุจู ุตูุฑุช ูุชูุงู ุชููุฏ ูโฺฉูู.
ูุฑ ูพูุฌุฑู ุชููุฏ ุจู ุฌุฒ ุงูู ุจุง ุฑูุฒฺฏุดุง ฺฉู ุชุง ตฐูช ูพูุฌุฑู ุชููุฏ ุจุง ุชูฺฉูโูุง ูพูุฌุฑู ูุจู ูพุฑ ุดุฏู ุดุฑูุน ูโุดูุฏ.

ูุง ุงุฒ ฺฉ ูพุฑุฏุงุฒุดฺฏุฑ ูุงุฌุช ุจุฑุง ุงุทููุงู ุงุฒ ุงูฺฉู ูุฏู ูุชูุงูุฏ ุชูฺฉูโูุง ุฒูุงู ุฑุง ฺฉู ุฏุฑ ตฐูช ุงูู ูพูุฌุฑู ุชููุฏ ูุฑุงุฑ ุฏุงุฑูุฏุ ุชููุฏ ฺฉูุฏ ุงุณุชูุงุฏู ูโฺฉูู.
ุนูุงูู ุจุฑ ุงูุ ดฐูช ุงูุชูุง ูพูุฌุฑู ุชููุฏ ุจุฑุง ูพูุฌุฑู ุจุนุฏ ุฑุฒุฑู ุดุฏู ุงุณุช. ูุฑ ุชูฺฉู ุฒูุงู ุชููุฏ ุดุฏู ุฏุฑ ุงู ุจุงุฒู ุจู ุนููุงู ุชูฺฉู EOS ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏ.
ุงู ฺฉุงุฑ ุชุถูู ูโฺฉูุฏ ฺฉู ูุฑ ุชูฺฉู ุชููุฏ ุดุฏู ุญุฏุงูู ุจุฑ ุงุณุงุณ ด ุซุงูู ุชูฺฉู ูุจู ู ณ.ณ ุซุงูู ุตุฏุง ุขูุฏู ุดุฑุท ุดุฏู ุงุณุช ุชุง ูพุดโุจู ุงูุฌุงู ุฏูุฏ.

ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฑุงูุด ุขูุณุช ุฏุฑ ุทูู ุชููุฏุงุช ุทููุงูุ ุขูุณุชโูุง ุชุตุงุฏู ุจู ุฑูุฏุงุฏูุง ุฒูุงู ุฏุฑ ุฏฺฉูุฏุฑ ุฏุฑ ุทูู ุขููุฒุด ุงุถุงูู ุดุฏูโุงูุฏ.
ุงู ุจุงุนุซ ูโุดูุฏ ูุฏู ุจู ุฌุง ุชฺฉู ุจุฑ ุฒูุงูโุจูุฏ ุฏููุ ุจุง ฺฏูุด ุฏุงุฏู ุจู ุขุบุงุฒูุง ุฏุฑ ุตูุชุ ุฎุทุงูุง ุฒูุงู ุฑุง ุงุตูุงุญ ฺฉูุฏ ู ูุชุฌู ุขู ุขูุณุช ุฏูู ู ูพุงุฏุงุฑ ุงุณุช.

### ูุฎุชุตุงุช ูพุงูุงุดโุดุฏู ุจุง ุฏููฺู

ูุฎุชุตุงุช ูฺฉุงู ุชููุฏ ุดุฏู ุชูุณุท ุฏฺฉูุฏุฑ ุจู ุดุจฺฉูโุง ุจุง ฺฏุงู ณฒ ูพฺฉุณู ฺฉูุงูุชุฏู ูโุดููุฏุ ุจูุงุจุฑุงู ุจุนุฏ ุงุฒ ุขู ุงุฒ ุฏููฺู ุจุฑุง ุฑูุน ููุฒ ูุฎุชุตุงุช ุชุง ูููุนุช ููุง ุงุณุชูุงุฏู ูโฺฉูู.
ุจุฑุง ุงู ููุธูุฑ ูุณุฎูโุง ุงุตูุงุญโุดุฏู ุงุฒ [osu-diffusion](https://github.com/OliBomby/osu-diffusion) ุฑุง ุขููุฒุด ุฏุงุฏูโุงู ฺฉู ุจู ุทูุฑ ูฺู ุจุฑุง ฑฐูช ุงูุชูุง ุจุฑูุงูู ููุฒ ุชุฎุตุต ุดุฏู ู ุชูฺฉูโูุง ูุชุงุฏุชุง ูพุดุฑูุชูโุชุฑ Mapperatorinator ุฑุง ุจุฑุง ุชููุฏ ุดุฑุท ูโูพุฐุฑุฏ.

ุงุฒ ุขูุฌุง ฺฉู ูุฏู Mapperatorinator ููุฏุงุฑ SV ุงุณูุงุฏุฑูุง ุฑุง ุฎุฑูุฌ ูโุฏูุฏุ ุทูู ููุฑุฏ ูุงุฒ ุงุณูุงุฏุฑ ุตุฑูโูุธุฑ ุงุฒ ุดฺฉู ูุณุฑ ููุทู ฺฉูุชุฑู ุซุงุจุช ุงุณุช.
ุจูุงุจุฑุงู ุชูุงุด ูโฺฉูู ูุฑุขูุฏ ุฏููฺู ุฑุง ุจุฑุง ุชููุฏ ูุฎุชุตุงุช ฺฉู ุจุง ุทูู ุงุณูุงุฏุฑ ููุฑุฏ ูุงุฒ ูุทุงุจูุช ุฏุงุฑูุฏ ูุฏุงุช ฺฉูู.
ุงู ฺฉุงุฑ ุฑุง ุจุง ูุญุงุณุจู ูุฌุฏุฏ ูููุนุช ุงูุชูุง ุงุณูุงุฏุฑ ูพุณ ุงุฒ ูุฑ ฺฏุงู ูุฑุขูุฏ ุฏููฺู ุจุฑ ุงุณุงุณ ุทูู ููุฑุฏ ูุงุฒ ู ูุณุฑ ูุนู ููุงุท ฺฉูุชุฑู ุงูุฌุงู ูโุฏูู.
ุงู ุจู ุงู ูุนูุงุณุช ฺฉู ูุฑุขูุฏ ุฏููฺู ฺฉูุชุฑู ูุณุชูู ุจุฑ ูููุนุช ุงูุชูุง ุงุณูุงุฏุฑ ูุฏุงุฑุฏุ ุงูุง ูููุฒ ูโุชูุงูุฏ ุจุง ุชุบุฑ ูุณุฑ ููุงุท ฺฉูุชุฑู ุจุฑ ุขู ุชุฃุซุฑ ุจฺฏุฐุงุฑุฏ.

### ูพุณโูพุฑุฏุงุฒุด

Mapperatorinator ุจุฑุฎ ูพุณโูพุฑุฏุงุฒุดโูุง ุงุถุงู ุจุฑุง ุจูุจูุฏ ฺฉูุช ุจุชโููพ ุชููุฏ ุดุฏู ุงูุฌุงู ูโุฏูุฏ:

- ูพุงูุงุด ูุฎุชุตุงุช ูฺฉุงู ุจุง ุฏููฺู.
- ุงุณููพ ฺฉุฑุฏู ุฑูุฏุงุฏูุง ุฒูุงู ุจู ูุฒุฏฺฉโุชุฑู ุชฺฉ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชูุณูโฺฉููุฏูโูุง ุงุณููพ ุชููุฏ ุดุฏู ุชูุณุท ูุฏู.
- ุงุณููพ ฺฉุฑุฏู ููโูพูุดุงูโูุง ูฺฉุงู ุชูุฑุจุง ฺฉุงูู.
- ุชุจุฏู ุฑูุฏุงุฏูุง ุณุชูู ูุงูุง ุจู ูุฎุชุตุงุช X.
- ุชููุฏ ูุณุฑ ุงุณูุงุฏุฑ ุจุฑุง ุทุจูโููุงุฒโูุง ุชุงฺฉู.
- ุฑูุน ุงุฎุชูุงูุงุช ุจุฒุฑฺฏ ุจู ุทูู ููุฑุฏ ูุงุฒ ุงุณูุงุฏุฑ ู ุทูู ูุณุฑ ููุทู ฺฉูุชุฑู.

### ุชููุฏฺฉููุฏู ุณููพุฑุชุงููฺฏ

ุชููุฏฺฉููุฏู ุณููพุฑุชุงููฺฏ ุงูฺฏูุฑุชู ุงุณุช ฺฉู ุฏูุช ู ุตุญุช ุฒูุงูโุจูุฏ ุชููุฏ ุดุฏู ุฑุง ุจุง ุงุณุชูุชุงุฌ ุฒูุงูโุจูุฏ ฺฉู ุขููฺฏ ุจู ูุฏุช ฒฐ ุจุงุฑ ู ูุงูฺฏูโฺฏุฑ ูุชุงุฌ ุงูุฒุงุด ูโุฏูุฏ.
ุงู ุจุฑุง ุขููฺฏโูุง ุจุง BPM ูุชุบุฑ ุง ุขููฺฏโูุง ุจุง ุชุบุฑ BPM ููุฏ ุงุณุช. ูุชุฌู ุชูุฑุจุงู ุจโููุต ุงุณุช ู ููุท ฺฏุงู ุจุฎุด ูุงุฒ ุจู ุงุตูุงุญ ุฏุณุช ุฏุงุฑุฏ.

## ุขููุฒุด

ุฏุณุชูุฑุงูุนูู ุฒุฑ ฺฉ ูุญุท ุขููุฒุด ุฑู ุณุณุชู ูุญู ุดูุง ุงุฌุงุฏ ูโฺฉูุฏ.

### ฑ. ฺฉููู ฺฉุฑุฏู ูุฎุฒู

```sh
git clone https://github.com/OliBomby/Mapperatorinator.git
cd Mapperatorinator
```

### ฒ. ุงุฌุงุฏ ุฏุชุงุณุช

ุฏุชุงุณุช ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ [ุจุฑูุงูู ฺฉูุณูู Mapperator](https://github.com/mappingtools/Mapperator/blob/master/README.md#create-a-high-quality-dataset) ุงุฌุงุฏ ฺฉูุฏ. ุงู ฺฉุงุฑ ูุงุฒ ุจู ฺฉ [ุชูฺฉู OAuth ฺฉูุงูุช osu!](https://osu.ppy.sh/home/account/edit) ุจุฑุง ุชุฃุฏ ุจุชโููพโูุง ู ุฏุฑุงูุช ูุชุงุฏุชุง ุงุถุงู ุฏุงุฑุฏ. ุฏุชุงุณุช ุฑุง ุฏุฑ ฺฉ ูพูุดู ุจู ูุงู `datasets` ุฏุฑ ฺฉูุงุฑ ุฏุงุฑฺฉุชูุฑ `Mapperatorinator` ูุฑุงุฑ ุฏูุฏ.

```sh
Mapperator.ConsoleApp.exe dataset2 -t "/Mapperatorinator/datasets/beatmap_descriptors.csv" -i "path/to/osz/files" -o "/datasets/cool_dataset"
```

### 3. (ุงุฎุชุงุฑ) ุฑุงูโุงูุฏุงุฒ Weight & Biases ุจุฑุง ุซุจุช ฺฏุฒุงุฑุดโูุง
ฺฉ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฏุฑ [Weight & Biases](https://wandb.ai/site) ุจุณุงุฒุฏ ู ฺฉูุฏ API ุฎูุฏ ุฑุง ุงุฒ ุชูุธูุงุช ุญุณุงุจ ุฏุฑุงูุช ฺฉูุฏ.
ุณูพุณ ูุชุบุฑ ูุญุท `WANDB_API_KEY` ุฑุง ุชูุธู ฺฉูุฏ ุชุง ูุฑุขูุฏ ุขููุฒุด ุจุฏุงูุฏ ุจู ุงู ฺฉูุฏ ฺฏุฒุงุฑุด ุจุฏูุฏ.

```sh
export WANDB_API_KEY=<your_api_key>
```

### 4. ุณุงุฎุช ฺฉุงูุชูุฑ ุฏุงฺฉุฑ
ุขููุฒุด ุฏุฑ ูุญุท venv ุดูุง ูุฒ ููฺฉู ุงุณุชุ ุงูุง ูุง ุงุณุชูุงุฏู ุงุฒ Docker ุจุฑ ุฑู WSL ุฑุง ุจุฑุง ุนููฺฉุฑุฏ ุจูุชุฑ ุชูุตู ูโฺฉูู.
```sh
docker compose up -d --force-recreate
docker attach mapperatorinator_space
cd Mapperatorinator
```
### ต. ูพฺฉุฑุจูุฏ ูพุงุฑุงูุชุฑูุง ู ุดุฑูุน ุขููุฒุด

ุชูุงู ุชูุธูุงุช ุฏุฑ ูุงู `./configs/train/default.yaml` ูุฑุงุฑ ุฏุงุฑูุฏ.
ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู `train_dataset_path` ู `test_dataset_path` ุฑุง ูุทุงุจู ุจุง ูุณุฑ ุฏุชุงุณุช ุฎูุฏุ ู ููฺูู ุงูุฏุณโูุง ุดุฑูุน ู ูพุงุงู ูุฌููุนู ููุดูโูุง ุจุฑุง ุชูุณู ุขููุฒุด/ุขุฒููู ุจู ุฏุฑุณุช ุชูุธู ฺฉูุฏ.
ุงู ูุณุฑ ูุฑุจูุท ุจู ุฏุงุฎู ฺฉุงูุชูุฑ ุฏุงฺฉุฑ ุงุณุชุ ุจูุงุจุฑุงู ุงฺฏุฑ ุฏุชุงุณุช ุฎูุฏ ุจุง ูุงู `cool_dataset` ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ `datasets` ูุฑุงุฑ ุฏุงุฏูโุงุฏุ ูุณุฑ ุจุงุฏ `/workspace/datasets/cool_dataset` ุจุงุดุฏ.

ุชูุตู ูโฺฉูู ฺฉ ูุงู ูพฺฉุฑุจูุฏ ุณูุงุฑุด ุจุณุงุฒุฏ ฺฉู ููุงุฏุฑ ูพุดโูุฑุถ ุฑุง ุจุงุฒููุณ ฺฉูุฏ ุชุง ุจุฑุง ุจุงุฒุชููุฏูพุฐุฑุ ุฑฺฉูุฑุฏ ุงุฒ ูพฺฉุฑุจูุฏ ุขููุฒุด ุฎูุฏ ุฏุงุดุชู ุจุงุดุฏ.


```yaml
data:
  train_dataset_path: "/workspace/datasets/cool_dataset"
  test_dataset_path: "/workspace/datasets/cool_dataset"
  train_dataset_start: 0
  train_dataset_end: 90
  test_dataset_start: 90
  test_dataset_end: 100
```

Begin training by calling `python osuT5/train.py` or `torchrun --nproc_per_node=NUM_GPUS osuT5/train.py` for multi-GPU training.


```sh
python osuT5/train.py -cn train_v29 train_dataset_path="/workspace/datasets/cool_dataset" test_dataset_path="/workspace/datasets/cool_dataset" train_dataset_end=90 test_dataset_start=90 test_dataset_end=100
```

### ถ. ุฑุฒุชูุธู ุจุง LoRA

ุดูุง ููฺูู ูโุชูุงูุฏ ฺฉ ูุฏู ุงุฒ ูพุด ุขููุฒุดโุฏุฏู ุฑุง ุจุง [LoRA](https://arxiv.org/abs/2106.09685) ุจู ููุธูุฑ ุณุงุฒฺฏุงุฑ ฺฉุฑุฏู ุขู ุจุง ฺฉ ุณุจฺฉ ุง ุญุงูุช ุจุงุฒ ุฎุงุตุ ุฑุฒุชูุธู ฺฉูุฏ.
ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ูุงู `configs/train/lora.yaml` ุฑุง ูุทุงุจู ูุงุฒ ุฎูุฏ ุชุบุฑ ุฏูุฏ ู ูพฺฉุฑุจูุฏ ุขููุฒุด `lora` ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```sh
python osuT5/train.py -cn lora train_dataset_path="/workspace/datasets/cool_dataset" test_dataset_path="/workspace/datasets/cool_dataset" train_dataset_end=90 test_dataset_start=90 test_dataset_end=100
```

ูพุงุฑุงูุชุฑูุง ููู LoRA ฺฉู ุจุงุฏ ูุฏ ูุธุฑ ูุฑุงุฑ ุฏูุฏ:
- `pretrained_path`: ูุณุฑ ุง ูุฎุฒู HF ูุฏู ูพุงู ุจุฑุง ุชูุธู ุฏูู.
- `r`: ุฑุชุจู ูุงุชุฑุณโูุง LoRA. ููุงุฏุฑ ุจุงูุงุชุฑ ุธุฑูุช ูุฏู ุฑุง ุงูุฒุงุด ูโุฏูุฏ ุงูุง ูุตุฑู ุญุงูุธู ูุฒ ุจุดุชุฑ ูโุดูุฏ.
- `lora_alpha`: ุถุฑุจ ููุงุณโุฏู ุจุฑุง ุจูโุฑูุฒุฑุณุงูโูุง LoRA.
- `total_steps`: ุชุนุฏุงุฏ ฺฉู ูุฑุงุญู ุขููุฒุด. ุงู ููุฏุงุฑ ุฑุง ุจุง ุชูุฌู ุจู ุงูุฏุงุฒู ุฏุชุงุณุช ุฎูุฏ ูุชุนุงุฏู ฺฉูุฏ.
- `enable_lora`: ูุดุฎุต ูโฺฉูุฏ ฺฉู ุงุฒ LoRA ุง ุชูุธู ุฏูู ฺฉุงูู ูุฏู ุงุณุชูุงุฏู ุดูุฏ.

ุฏุฑ ููฺฏุงู ุงุณุชูุชุงุฌุ ูโุชูุงูุฏ ูุฒูโูุง LoRA ููุฑุฏ ูุธุฑ ุฑุง ุจุง ุขุฑฺฏููุงู `lora_path` ุชุนู ฺฉูุฏ.
ุงู ูุณุฑ ูโุชูุงูุฏ ูุญู ุง ฺฉ ูุฎุฒู Hugging Face ุจุงุดุฏ.

## ููฺูู ุจุจูุฏ
- [ฺฉูุงุณ ุฏุณุชูโุจูุฏ Mapper](https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/./classifier/README.md)
- [RComplexion](https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/./rcomplexion/README.md)

## ุงุนุชุจุงุฑุงุช

ุชุดฺฉุฑ ูฺู ุงุฒ:
1. ููุณูุฏฺฏุงู [osuT5](https://github.com/gyataro/osuT5) ุจุฑุง ฺฉุฏ ุขููุฒุด ุขูโูุง.
2. ุชู Hugging Face ุจุฑุง [ุงุจุฒุงุฑูุง](https://huggingface.co/docs/transformers/index) ุขูโูุง.
3. [Jason Won](https://github.com/jaswon) ู [Richard Nagyfi](https://github.com/sedthh) ุจุฑุง ุชุจุงุฏู ุงุฏูโูุง.
4. [Marvin](https://github.com/minetoblend) ุจุฑุง ุงูุฏุง ุงุนุชุจุงุฑ ุขููุฒุด.
5. ุฌุงูุนู osu! ุจุฑุง beatmapูุง.

## ุขุซุงุฑ ูุฑุชุจุท

1. [ุชููุฏฺฉููุฏู Beatmap ุจุฑุง osu!](https://github.com/Syps/osu_beatmap_generator) ุชูุณุท Syps (Nick Sypteras)
2. [osumapper](https://github.com/kotritrona/osumapper) ุชูุณุท kotritronaุ jyvdenุ Yoyolick (Ryan Zmuda)
3. [osu-diffusion](https://github.com/OliBomby/osu-diffusion) ุชูุณุท OliBomby (Olivier Schipper)ุ NiceAesth (Andrei Baciu)
4. [osuT5](https://github.com/gyataro/osuT5) ุชูุณุท gyataro (Xiwen Teoh)
5. [Beat Learning](https://github.com/sedthh/BeatLearning) ุชูุณุท sedthh (Richard Nagyfi)
6. [osu!dreamer](https://github.com/jaswon/osu-dreamer) ุชูุณุท jaswon (Jason Won)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2026-01-24

---