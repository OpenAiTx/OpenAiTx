
<div align="right">
  <details>
    <summary >üåê –Ø–∑—ã–∫</summary>
    <div>
      <div align="center">
        <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=en">English</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=zh-TW">ÁπÅÈ´î‰∏≠Êñá</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ja">Êó•Êú¨Ë™û</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ko">ÌïúÍµ≠Ïñ¥</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=th">‡πÑ‡∏ó‡∏¢</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=fr">Fran√ßais</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=de">Deutsch</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=es">Espa√±ol</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=it">Italiano</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ru">–†—É—Å—Å–∫–∏–π</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=pt">Portugu√™s</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=nl">Nederlands</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=pl">Polski</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=fa">ŸÅÿßÿ±ÿ≥€å</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=tr">T√ºrk√ße</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=vi">Ti·∫øng Vi·ªát</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=id">Bahasa Indonesia</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=as">‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ</
      </div>
    </div>
  </details>
</div>

# Mapperatorinator

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—É—é –º–æ–¥–µ–ª—å [–∑–¥–µ—Å—å](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mapperatorinator_inference.ipynb) –∏–ª–∏ MaiMod [–∑–¥–µ—Å—å](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mai_mod_inference.ipynb). –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–¥–µ–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é [–∑–¥–µ—Å—å](https://youtu.be/FEr7t1L2EoA).

Mapperatorinator ‚Äî —ç—Ç–æ –º—É–ª—å—Ç–∏–º–æ–¥–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ —Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö osu! –±–∏—Ç–º–∞–ø–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–≤—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –∏ [–ø–æ–º–æ–≥–∞–µ—Ç –º–æ–¥–¥–∏—Ç—å –±–∏—Ç–º–∞–ø—ã](#maimod-the-ai-driven-modding-tool).
–¶–µ–ª—å —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å osu! –±–∏—Ç–º–∞–ø—ã —Ä–∞–Ω–≥–æ–≤–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è –ª—é–±–æ–π –ø–µ—Å–Ω–∏ —Å –≤—ã—Å–æ–∫–æ–π —Å—Ç–µ–ø–µ–Ω—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ—Å—Ç–∏.

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –±–∞–∑–µ [osuT5](https://github.com/gyataro/osuT5) –∏ [osu-diffusion](https://github.com/OliBomby/osu-diffusion). –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —è –ø–æ—Ç—Ä–∞—Ç–∏–ª –æ–∫–æ–ª–æ 2500 —á–∞—Å–æ–≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ GPU –≤ 142 –ø—Ä–æ–≥–æ–Ω–∞—Ö –Ω–∞ —Å–≤–æ–µ–π 4060 Ti –∏ –∞—Ä–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö 4090 —á–µ—Ä–µ–∑ vast.ai.

#### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ò–ò –≤ –≤–∞—à–∏—Ö –±–∏—Ç–º–∞–ø–∞—Ö.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∏–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∏—Ç–º–∞–ø—ã –Ω–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –ª–∏–±–æ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—ë –≤ –æ–±–ª–∞–∫–µ —Å –ø–æ–º–æ—â—å—é [colab notebook](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mapperatorinator_inference.ipynb).

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```sh
git clone https://github.com/OliBomby/Mapperatorinator.git
cd Mapperatorinator
```

### 2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Python 3.10, –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

```sh
python -m venv .venv

# In cmd.exe
.venv\Scripts\activate.bat
# In PowerShell
.venv\Scripts\Activate.ps1
# In Linux or MacOS
source .venv/bin/activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python 3.10
- [Git](https://git-scm.com/downloads)
- [ffmpeg](http://www.ffmpeg.org/)
- [CUDA](https://developer.nvidia.com/cuda-zone) (–¥–ª—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç NVIDIA) –∏–ª–∏ [ROCm](https://rocmdocs.amd.com/en/latest/Installation_Guide/Installation-Guide.html) (–¥–ª—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç AMD –Ω–∞ Linux)
- [PyTorch](https://pytorch.org/get-started/locally/): –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–ª–µ–¥—É–π—Ç–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É Get Started, —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `torch` –∏ `torchaudio` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π GPU. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Compute Platform, –∫–æ—Ç–æ—Ä—É—é –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —ç—Ç–∞–ø–µ.

- –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python:

```sh
pip install -r requirements.txt
```

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

### –ó–∞–ø—É—Å–∫ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `Mapperatorinator` –≤ –≤–∞—à–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sh
python web-ui.py
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å:** –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç–∏ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö/–≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã –∏ –∫–Ω–æ–ø–æ–∫ "–û–±–∑–æ—Ä". –û—Ç—Ä–µ–≥—É–ª–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –∏–≥—Ä–æ–≤–æ–π —Ä–µ–∂–∏–º, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, —Å—Ç–∏–ª—å (–≥–æ–¥, ID –º–∞–ø–ø–µ—Ä–∞, –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã), —Ç–∞–π–º–∏–Ω–≥, —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∑–≤—É–∫–∏ —É–¥–∞—Ä–æ–≤, —Å—É–ø–µ—Ä-—Ç–∞–π–º–∏–Ω–≥) –∏ –¥—Ä—É–≥–∏–µ, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ–ø—Ü–∏—è–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. (–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –µ—Å–ª–∏ –≤—ã —É–∫–∞–∂–µ—Ç–µ `beatmap_path`, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç `audio_path` –∏ `output_path`, –ø–æ—ç—Ç–æ–º—É —ç—Ç–∏ –ø–æ–ª—è –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º–∏)
- **–ó–∞–ø—É—Å–∫:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å", —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–∞—Ä—Ç—ã.
- **–û—Ç–º–µ–Ω–∞:** –í—ã –º–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É—è –∫–Ω–æ–ø–∫—É "–û—Ç–º–µ–Ω–∏—Ç—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å".
- **–û—Ç–∫—Ä—ã—Ç—å –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –ø–∞–ø–∫—É —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏" –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º.

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ª—É–∂–∏—Ç —É–¥–æ–±–Ω–æ–π –æ–±–æ–ª–æ—á–∫–æ–π –≤–æ–∫—Ä—É–≥ —Å–∫—Ä–∏–ø—Ç–∞ `inference.py`. –î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –æ–ø—Ü–∏–π –∏–ª–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

![python_u3zyW0S3Vs](https://github.com/user-attachments/assets/5312a45f-d51c-4b37-9389-da3258ddd0a1)

## –ò–Ω—Ñ–µ—Ä–µ–Ω—Å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—â–∏—Ö –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏–ª–∏ –Ω—É–∂–¥–∞—é—â–∏—Ö—Å—è –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏. **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¥–ª—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª [–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)](#web-ui-recommended) –≤—ã—à–µ.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `inference.py` –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [—Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è Hydra](https://hydra.cc/docs/advanced/override_grammar/basic/). –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ `configs/inference_v29.yaml`.
```
python inference.py \
  audio_path           [Path to input audio] \
  output_path          [Path to output directory] \
  beatmap_path         [Path to .osu file to autofill metadata, and output_path, or use as reference] \
  
  gamemode             [Game mode to generate 0=std, 1=taiko, 2=ctb, 3=mania] \
  difficulty           [Difficulty star rating to generate] \
  mapper_id            [Mapper user ID for style] \
  year                 [Upload year to simulate] \
  hitsounded           [Whether to add hitsounds] \
  slider_multiplier    [Slider velocity multiplier] \
  circle_size          [Circle size] \
  keycount             [Key count for mania] \
  hold_note_ratio      [Hold note ratio for mania 0-1] \
  scroll_speed_ratio   [Scroll speed ratio for mania and ctb 0-1] \
  descriptors          [List of beatmap user tags for style] \
  negative_descriptors [List of beatmap user tags for classifier-free guidance] \
  
  add_to_beatmap       [Whether to add generated content to the reference beatmap instead of making a new beatmap] \
  start_time           [Generation start time in milliseconds] \
  end_time             [Generation end time in milliseconds] \
  in_context           [List of additional context to provide to the model [NONE,TIMING,KIAI,MAP,GD,NO_HS]] \
  output_type          [List of content types to generate] \
  cfg_scale            [Scale of the classifier-free guidance] \
  super_timing         [Whether to use slow accurate variable BPM timing generator] \
  seed                 [Random seed for generation] \
```

–ü—Ä–∏–º–µ—Ä:
```
python inference.py beatmap_path="'C:\Users\USER\AppData\Local\osu!\Songs\1 Kenji Ninuma - DISCO PRINCE\Kenji Ninuma - DISCOPRINCE (peppy) [Normal].osu'" gamemode=0 difficulty=5.5 year=2023 descriptors="['jump aim','clean']" in_context=[TIMING,KIAI]
```

## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π CLI
–î–ª—è —Ç–µ—Ö, –∫—Ç–æ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç —Ä–∞–±–æ—Ç—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –Ω–æ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–æ—à–∞–≥–æ–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç CLI —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–ª–∏—á–Ω–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.

### –ó–∞–ø—É—Å–∫ CLI
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é. –í–æ–∑–º–æ–∂–Ω–æ, —Å–Ω–∞—á–∞–ª–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º.

```sh
# Make the script executable (only needs to be done once)
chmod +x cli_inference.sh
```

```sh
# Run the script
./cli_inference.sh
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI
–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ —Å–µ—Ä–∏—é –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ Web UI.

–û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–æ–≤—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è.
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –º–µ–Ω—é –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ —Å—Ç–∏–ª—è —Å –ø–æ–º–æ—â—å—é —Å—Ç—Ä–µ–ª–æ–∫ –∏ –ø—Ä–æ–±–µ–ª–∞.
–ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã, –æ–Ω –ø–æ–∫–∞–∂–µ—Ç –∏—Ç–æ–≥–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.
–î–∞–ª–µ–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## –°–æ–≤–µ—Ç—ã –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

- –í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `configs/inference_v29.yaml` –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ç—É–¥–∞, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤–≤–æ–¥–∏—Ç—å –∏—Ö –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∫–∞–∂–¥—ã–π —Ä–∞–∑.
- –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [–∑–¥–µ—Å—å](https://osu.ppy.sh/wiki/en/Beatmap/Beatmap_tags).
- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –≥–æ–¥ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 2007 –¥–æ 2023. –ï—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º, –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π —Å—Ç–∏–ª—å.
- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å. –ï—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –µ–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π, –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å.
- –£–≤–µ–ª–∏—á—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `cfg_scale`, —á—Ç–æ–±—ã –ø–æ–≤—ã—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ `mapper_id` –∏ `descriptors`.
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç `negative_descriptors`, —á—Ç–æ–±—ã –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –º–æ–¥–µ–ª—å –≤ —Å—Ç–æ—Ä–æ–Ω—É –æ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å—Ç–∏–ª–µ–π. –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `cfg_scale > 1`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —á–∏—Å–ª–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ —Ä–∞–≤–Ω–æ —á–∏—Å–ª—É –æ–±—ã—á–Ω—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤.
- –ï—Å–ª–∏ —Å—Ç–∏–ª—å –≤–∞—à–µ–π –ø–µ—Å–Ω–∏ –∏ –∂–µ–ª–∞–µ–º—ã–π —Å—Ç–∏–ª—å –∫–∞—Ä—Ç—ã –ø–ª–æ—Ö–æ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ —Å–ª–µ–¥–æ–≤–∞—Ç—å –≤–∞—à–∏–º —É–∫–∞–∑–∞–Ω–∏—è–º. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É —Å –≤—ã—Å–æ–∫–∏–º SR –∏ SV –¥–ª—è —Å–ø–æ–∫–æ–π–Ω–æ–π –ø–µ—Å–Ω–∏.
- –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –≥–æ—Ç–æ–≤—ã —Ç–∞–π–º–∏–Ω–≥–∏ –∏ –º–æ–º–µ–Ω—Ç—ã –∫–∞–π–∞–∏ –¥–ª—è –ø–µ—Å–Ω–∏, –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å —ç—Ç–æ –º–æ–¥–µ–ª–∏ –¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤—ã–≤–æ–¥–∞: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã `beatmap_path` –∏ `in_context=[TIMING,KIAI]`.
- –ß—Ç–æ–±—ã –ø–µ—Ä–µ–º–∞–ø–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∫–∞—Ä—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `beatmap_path`, `start_time`, `end_time` –∏ `add_to_beatmap=true`.
- –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥–æ—Å—Ç–µ–≤–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `beatmap_path` –∏ `in_context=[GD,TIMING,KIAI]`.
- –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ hitsounds –¥–ª—è –∫–∞—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `beatmap_path` –∏ `in_context=[NO_HS,TIMING,KIAI]`.
- –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ —Ç–∞–π–º–∏–Ω–≥–∞ –¥–ª—è –ø–µ—Å–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `super_timing=true` –∏ `output_type=[TIMING]`.

## MaiMod: –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–¥–¥–∏–Ω–≥–∞ –Ω–∞ –±–∞–∑–µ –ò–ò

MaiMod ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–¥–¥–∏–Ω–≥–∞ –¥–ª—è osu! –∫–∞—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è Mapperatorinator –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω—ã –¥—Ä—É–≥–∏–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ [Mapset Verifier](https://github.com/Naxesss/MapsetVerifier).
–û–Ω –º–æ–∂–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å —Ç–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–∞–∫:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∏–ª–∏ —Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –ù–µ—Ç–æ—á–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤—ã–µ —Ç–æ—á–∫–∏
- –ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –Ω–æ–≤—ã–µ –∫–æ–º–±–æ
- –°—Ç—Ä–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–ª–∞–π–¥–µ—Ä–æ–≤
- –ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ hitsounds –∏–ª–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å MaiMod [–∑–¥–µ—Å—å](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mai_mod_inference.ipynb) –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ:
–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ MaiMod –≤–∞–º –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Mapperatorinator. –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç `mai_mod.py`, —É–∫–∞–∑–∞–≤ –ø—É—Ç—å –∫ –≤–∞—à–µ–π –∫–∞—Ä—Ç–µ —Å –ø–æ–º–æ—â—å—é –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `beatmap_path`.
```sh
python mai_mod.py beatmap_path="'C:\Users\USER\AppData\Local\osu!\Songs\1 Kenji Ninuma - DISCO PRINCE\Kenji Ninuma - DISCOPRINCE (peppy) [Normal].osu'"
```
–≠—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –º–æ–¥–¥–∏–Ω–≥—É –≤ –∫–æ–Ω—Å–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç–µ–º –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –≤–∞—à–µ–π –∫–∞—Ä—Ç–µ –≤—Ä—É—á–Ω—É—é.
–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–∏ –∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.
–ü–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫—Ä—É–≥–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ ¬´—Å—é—Ä–ø—Ä–∏–∑–∞–ª—å–Ω–æ—Å—Ç—å¬ª ‚Äî –º–µ—Ä—É —Ç–æ–≥–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª—å —Å–æ—á–ª–∞ –ø—Ä–æ–±–ª–µ–º—É, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏.

–ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –æ—à–∏–±–∞—Ç—å—Å—è, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º —Å –Ω–∏–∑–∫–æ–π —Å—é—Ä–ø—Ä–∏–∑–∞–ª—å–Ω–æ—Å—Ç—å—é, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∫ –≤–∞—à–µ–π –∫–∞—Ä—Ç–µ.
–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –ø–æ–º–æ—á—å –≤–∞–º —Å—É–∑–∏—Ç—å –æ–±–ª–∞—Å—Ç—å –ø–æ–∏—Å–∫–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–∏—à–ª–æ—Å—å –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –≤ –≤–∞—à–µ–π –∫–∞—Ä—Ç–µ.

### MaiMod GUI
–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å MaiMod Web UI, –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Mapperatorinator.
–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç `mai_mod_ui.py`. –≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ:

```sh
python mai_mod_ui.py
```

<img width="850" height="1019" alt="afbeelding" src="https://github.com/user-attachments/assets/67c03a43-a7bd-4265-a5b1-5e4d62aca1fa" />

## –û–±–∑–æ—Ä

### –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è

Mapperatorinator –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç beatmap-—ã osu! –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–ø—Ä—è–º—É—é –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–æ –≤ —Ç–æ–∫–µ–Ω—ã –∏ –æ–±—Ä–∞—Ç–Ω–æ.
–í–∫–ª—é—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –ø–æ–ø–∞–¥–∞–Ω–∏—è, –∑–≤—É–∫–∏ –ø–æ–ø–∞–¥–∞–Ω–∏—è, —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–ª–∞–π–¥–µ—Ä–æ–≤, –Ω–æ–≤—ã–µ –∫–æ–º–±–æ, —Ç–æ—á–∫–∏ —Ç–∞–π–º–∏–Ω–≥–∞, –≤—Ä–µ–º–µ–Ω–∞ –∫–∏—è–∏, –∞ —Ç–∞–∫–∂–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –¥–ª—è taiko/mania.

–í–æ—Ç –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏:

![mapperatorinator_parser](https://github.com/user-attachments/assets/84efde76-4c27-48a1-b8ce-beceddd9e695)

–î–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Å–ª–æ–≤–∞—Ä—è –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω—ã —Å —à–∞–≥–æ–º 10 –º—Å, –∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–∑–∏—Ü–∏–∏ ‚Äî –ø–æ —Å–µ—Ç–∫–µ —Å —à–∞–≥–æ–º 32 –ø–∏–∫—Å–µ–ª—è.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏
–ú–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–±–æ–ª–æ—á–∫—É –≤–æ–∫—Ä—É–≥ [HF Transformers Whisper](https://huggingface.co/docs/transformers/en/model_doc/whisper#transformers.WhisperForConditionalGeneration), —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è–º–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–µ–π –ø–æ—Ç–µ—Ä—å.
–†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 219M –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
–≠—Ç–∞ –º–æ–¥–µ–ª—å –æ–∫–∞–∑–∞–ª–∞—Å—å –±—ã—Å—Ç—Ä–µ–µ –∏ —Ç–æ—á–Ω–µ–µ, —á–µ–º T5 –¥–ª—è –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏.

–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –æ–±–∑–æ—Ä –≤—Ö–æ–¥–∞-–≤—ã—Ö–æ–¥–∞ –º–æ–¥–µ–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π:

![Picture2](https://user-images.githubusercontent.com/28675590/201044116-1384ad72-c540-44db-a285-7319dd01caad.svg)

–í –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞ –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–¥—Ä—ã Mel-—Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–º—ã, –ø–æ –æ–¥–Ω–æ–º—É –∫–∞–¥—Ä—É –Ω–∞ –ø–æ–∑–∏—Ü–∏—é –≤—Ö–æ–¥–∞. –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –≤—ã—Ö–æ–¥ –¥–µ–∫–æ–¥–µ—Ä–∞ ‚Äî —ç—Ç–æ softmax —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–º—É, –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É, —Å–ª–æ–≤–∞—Ä—é —Å–æ–±—ã—Ç–∏–π. –í—ã—Ö–æ–¥—ã —Ä–∞–∑—Ä–µ–∂–µ–Ω—ã, —Å–æ–±—ã—Ç–∏—è –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ hit-object, –≤–º–µ—Å—Ç–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∞—É–¥–∏–æ–∫–∞–¥—Ä–∞.

### –§–æ—Ä–º–∞—Ç –º—É–ª—å—Ç–∏–∑–∞–¥–∞—á–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è

![Multitask training format](https://github.com/user-attachments/assets/62f490bc-a567-4671-a7ce-dbcc5f9cd6d9)

–ü–µ—Ä–µ–¥ SOS-—Ç–æ–∫–µ–Ω–æ–º –∏–¥—É—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É—é—Ç —É—Å–ª–æ–≤–Ω–æ–º—É –ø–æ—Ä–æ–∂–¥–µ–Ω–∏—é. –≠—Ç–∏ —Ç–æ–∫–µ–Ω—ã –≤–∫–ª—é—á–∞—é—Ç –∏–≥—Ä–æ–≤–æ–π —Ä–µ–∂–∏–º, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, ID –º–∞–ø–ø–µ—Ä–∞, –≥–æ–¥ –∏ –¥—Ä—É–≥—É—é –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
–í–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è —ç—Ç–∏ —Ç–æ–∫–µ–Ω—ã –Ω–µ –∏–º–µ—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Ç–æ–∫, –ø–æ—ç—Ç–æ–º—É –º–æ–¥–µ–ª—å –Ω–∏–∫–æ–≥–¥–∞ –∏—Ö –Ω–µ –≤—ã–≤–æ–¥–∏—Ç.
–¢–∞–∫–∂–µ –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –µ—Å—Ç—å —Å–ª—É—á–∞–π–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω—ã –º–µ—Ç–∞-—Ç–æ–∫–µ–Ω–∞ –Ω–∞ —Ç–æ–∫–µ–Ω 'unknown', —á—Ç–æ–±—ã –≤–æ –≤—Ä–µ–º—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ 'unknown'-—Ç–æ–∫–µ–Ω—ã –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –æ–±—ä—ë–º–∞ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏.

### –ë–µ—Å—à–æ–≤–Ω–∞—è –¥–ª–∏–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

–î–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–æ–¥–µ–ª–∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 8.192 —Å–µ–∫—É–Ω–¥—ã. –≠—Ç–æ–≥–æ —è–≤–Ω–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ–≥–æ beatmap-–∞, –ø–æ—ç—Ç–æ–º—É –ø–µ—Å–Ω—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥–µ–ª–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–∫–æ–Ω –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å beatmap —á–∞—Å—Ç—è–º–∏.
–ß—Ç–æ–±—ã –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º beatmap-–µ –Ω–µ –±—ã–ª–æ –∑–∞–º–µ—Ç–Ω—ã—Ö —à–≤–æ–≤ –º–µ–∂–¥—É –æ–∫–Ω–∞–º–∏, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ 90% –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ–∫–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
–ö–∞–∂–¥–æ–µ –æ–∫–Ω–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–≥–æ, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –¥–µ–∫–æ–¥–µ—Ä–∞, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –¥–æ 50% –æ–∫–Ω–∞ —Ç–æ–∫–µ–Ω–∞–º–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ–∫–æ–Ω.
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –ª–æ–≥–∏—Ç–æ–≤, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–¥–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –ø–µ—Ä–≤—ã—Ö 50% –æ–∫–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ—Å–ª–µ–¥–Ω–∏–µ 40% –æ–∫–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –æ–∫–Ω–∞. –õ—é–±—ã–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ —ç—Ç–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ —Ç–æ–∫–µ–Ω—ã EOS.
–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –∑–∞–≤–∏—Å–∏—Ç –∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ—Ç 4 —Å–µ–∫—É–Ω–¥ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –∏ 3,3 —Å–µ–∫—É–Ω–¥ –±—É–¥—É—â–µ–≥–æ –∞—É–¥–∏–æ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è.

–ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å–º–µ—â–µ–Ω–∏–µ –æ—Ñ—Ñ—Å–µ—Ç–∞ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Å–ª—É—á–∞–π–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–æ–±—ã—Ç–∏—è–º –≤ –¥–µ–∫–æ–¥–µ—Ä–µ –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è.
–≠—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É—è—Å—å –Ω–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è –≤ –∞—É–¥–∏–æ, –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ç–æ—á–Ω–æ–º—É –æ—Ñ—Ñ—Å–µ—Ç—É.

### –£—Ç–æ—á–Ω—ë–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å –ø–æ–º–æ—â—å—é –¥–∏—Ñ—Ñ—É–∑–∏–∏

–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–∑–∏—Ü–∏–π, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –¥–µ–∫–æ–¥–µ—Ä–æ–º, –∫–≤–∞–Ω—Ç—É—é—Ç—Å—è –ø–æ —Å–µ—Ç–∫–µ –∏–∑ 32 –ø–∏–∫—Å–µ–ª–µ–π, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∏—Ñ—Ñ—É–∑–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —à—É–º–∞ –∏–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–æ–∂–µ–Ω–∏–π.
–î–ª—è —ç—Ç–æ–≥–æ –º—ã –æ–±—É—á–∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é [osu-diffusion](https://github.com/OliBomby/osu-diffusion), —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10% —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —à—É–º–∞, –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Mapperatorinator –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

–ü–æ—Å–∫–æ–ª—å–∫—É –º–æ–¥–µ–ª—å Mapperatorinator –≤—ã–¥–∞—ë—Ç SV —Å–ª–∞–π–¥–µ—Ä–æ–≤, —Ç—Ä–µ–±—É–µ–º–∞—è –¥–ª–∏–Ω–∞ —Å–ª–∞–π–¥–µ—Ä–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º—ã —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Ç–æ—á–µ–∫.
–ü–æ—ç—Ç–æ–º—É –º—ã –ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –¥–∏—Ñ—Ñ—É–∑–∏–∏ —Ç–∞–∫, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–±—É–µ–º—ã–º –¥–ª–∏–Ω–∞–º —Å–ª–∞–π–¥–µ—Ä–æ–≤.
–ú—ã –¥–µ–ª–∞–µ–º —ç—Ç–æ, –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—è –∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–ª–∞–π–¥–µ—Ä–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –¥–∏—Ñ—Ñ—É–∑–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ–±—É–µ–º–æ–π –¥–ª–∏–Ω—ã –∏ —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Ç–æ—á–µ–∫.
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –¥–∏—Ñ—Ñ—É–∑–∏–∏ –Ω–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –∫–æ–Ω–µ—á–Ω—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏ —Å–ª–∞–π–¥–µ—Ä–∞, –Ω–æ –≤—Å—ë –µ—â—ë –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –Ω–∏—Ö, –∏–∑–º–µ–Ω—è—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Ç–æ—á–µ–∫.

### –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞

Mapperatorinator –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã –±–∏—Ç–æ–≤:

- –£—Ç–æ—á–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ–∑–∏—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –¥–∏—Ñ—Ñ—É–∑–∏–∏.
- –ü—Ä–∏–≤—è–∑–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –∫ –±–ª–∏–∂–∞–π—à–µ–º—É —Ç–∏–∫–∞–Ω—å—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º snap-–¥–µ–ª–∏—Ç–µ–ª–µ–π, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª—å—é.
- –ü—Ä–∏–≤—è–∑–∫–∞ –ø–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –Ω–∞–ª–æ–∂–µ–Ω–∏–π.
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∫–æ–ª–æ–Ω–æ–∫ mania –≤ X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—É—Ç–µ–π —Å–ª–∞–π–¥–µ—Ä–æ–≤ –¥–ª—è —Ç–∞–∏–∫–æ-–¥—Ä–∞–º—Ä–æ–ª–ª–æ–≤.
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –º–µ–∂–¥—É —Ç—Ä–µ–±—É–µ–º–æ–π –¥–ª–∏–Ω–æ–π —Å–ª–∞–π–¥–µ—Ä–∞ –∏ –¥–ª–∏–Ω–æ–π –ø—É—Ç–∏ —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Ç–æ—á–µ–∫.

### –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—É–ø–µ—Ä-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—É–ø–µ—Ä-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–≤—ã—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–∞–π–º–∏–Ω–≥–∞, –≤—ã—á–∏—Å–ª—è—è —Ç–∞–π–º–∏–Ω–≥ –¥–ª—è –≤—Å–µ–π –ø–µ—Å–Ω–∏ 20 —Ä–∞–∑ –∏ —É—Å—Ä–µ–¥–Ω—è—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–µ—Å–µ–Ω —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º BPM –∏–ª–∏ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ BPM. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–∞–ª–µ–Ω, –ª–∏—à—å –∏–Ω–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —É—á–∞—Å—Ç–∫–∞.

## –û–±—É—á–µ–Ω–∏–µ

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∏–∂–µ —Å–æ–∑–¥–∞—ë—Ç —Å—Ä–µ–¥—É –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```sh
git clone https://github.com/OliBomby/Mapperatorinator.git
cd Mapperatorinator
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é [–∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Mapperator](https://github.com/mappingtools/Mapperator/blob/master/README.md#create-a-high-quality-dataset). –î–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è [OAuth-—Ç–æ–∫–µ–Ω –∫–ª–∏–µ–Ω—Ç–∞ osu!](https://osu.ppy.sh/home/account/edit) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∏—Ç–º–∞–ø–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –∫–∞—Ç–∞–ª–æ–≥ `datasets` —Ä—è–¥–æ–º —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º `Mapperatorinator`.

```sh
Mapperator.ConsoleApp.exe dataset2 -t "/Mapperatorinator/datasets/beatmap_descriptors.csv" -i "path/to/osz/files" -o "/datasets/cool_dataset"
```

### 3. (–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Weight & Biases –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [Weight & Biases](https://wandb.ai/site) –∏ –ø–æ–ª—É—á–∏—Ç–µ –≤–∞—à API-–∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∞–∫–∫–∞—É–Ω—Ç–∞.
–ó–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `WANDB_API_KEY`, —á—Ç–æ–±—ã –ø—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è –∑–Ω–∞–ª, –∫—É–¥–∞ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å.

```sh
export WANDB_API_KEY=<your_api_key>
```

### 4. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Docker
–û–±—É—á–µ–Ω–∏–µ –≤ –≤–∞—à–µ–º venv —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–æ –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker –Ω–∞ WSL –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
```sh
docker compose up -d --force-recreate
docker attach mapperatorinator_space
cd Mapperatorinator
```

### 5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –Ω–∞—á–Ω–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ

–í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `./configs/train/default.yaml`.
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–ª–∏ `train_dataset_path` –∏ `test_dataset_path` –¥–ª—è –≤–∞—à–µ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ –∏ –∫–æ–Ω–µ—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã mapset –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –æ–±—É—á–∞—é—â—É—é –∏ —Ç–µ—Å—Ç–æ–≤—É—é –≤—ã–±–æ—Ä–∫–∏.
–ü—É—Ç—å —è–≤–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Docker, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –≤—ã –ø–æ–º–µ—Å—Ç–∏–ª–∏ —Å–≤–æ–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å –∏–º–µ–Ω–µ–º `cool_dataset` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `datasets`, —Ç–æ –ø—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `/workspace/datasets/cool_dataset`.

–†–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —á—Ç–æ–±—ã —É –≤–∞—Å –±—ã–ª–∞ –∑–∞–ø–∏—Å—å –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏.

```yaml
data:
  train_dataset_path: "/workspace/datasets/cool_dataset"
  test_dataset_path: "/workspace/datasets/cool_dataset"
  train_dataset_start: 0
  train_dataset_end: 90
  test_dataset_start: 90
  test_dataset_end: 100
```

Begin training by calling `python osuT5/train.py` or `torchrun --nproc_per_node=NUM_GPUS osuT5/train.py` for multi-GPU training.


```sh
python osuT5/train.py -cn train_v29 train_dataset_path="/workspace/datasets/cool_dataset" test_dataset_path="/workspace/datasets/cool_dataset" train_dataset_end=90 test_dataset_start=90 test_dataset_end=100
```

### 6. –î–æ–æ–±—É—á–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é LoRA

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –¥–æ–æ–±—É—á–∏—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å —Å –ø–æ–º–æ—â—å—é [LoRA](https://arxiv.org/abs/2106.09685), —á—Ç–æ–±—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É —Å—Ç–∏–ª—é –∏–ª–∏ —Ä–µ–∂–∏–º—É –∏–≥—Ä—ã.
–î–ª—è —ç—Ç–æ–≥–æ –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ `configs/train/lora.yaml` –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–±—É—á–µ–Ω–∏—è `lora`:

```sh
python osuT5/train.py -cn lora train_dataset_path="/workspace/datasets/cool_dataset" test_dataset_path="/workspace/datasets/cool_dataset" train_dataset_end=90 test_dataset_start=90 test_dataset_end=100
```

–í–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã LoRA, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å:
- `pretrained_path`: –ü—É—Ç—å –∏–ª–∏ HF-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–∞–∑–æ–≤–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è –¥–æ–æ–±—É—á–µ–Ω–∏—è.
- `r`: –†–∞–Ω–≥ –º–∞—Ç—Ä–∏—Ü LoRA. –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —ë–º–∫–æ—Å—Ç—å –º–æ–¥–µ–ª–∏, –Ω–æ —Ç–∞–∫–∂–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.
- `lora_alpha`: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É—é—â–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π LoRA.
- `total_steps`: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –æ–±—É—á–µ–Ω–∏—è. –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≤–∞—à–µ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞.
- `enable_lora`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LoRA –∏–ª–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ –¥–æ–æ–±—É—á–∞—Ç—å –º–æ–¥–µ–ª—å.

–í–æ –≤—Ä–µ–º—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –≤–µ—Å–∞ LoRA —Å –ø–æ–º–æ—â—å—é –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `lora_path`.
–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∏–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Hugging Face.

## –°–º. —Ç–∞–∫–∂–µ
- [Mapper Classifier](https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/./classifier/README.md)
- [RComplexion](https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/./rcomplexion/README.md)

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–û—Å–æ–±–∞—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å:
1. –ê–≤—Ç–æ—Ä–∞–º [osuT5](https://github.com/gyataro/osuT5) –∑–∞ –∏—Ö –æ–±—É—á–∞—é—â–∏–π –∫–æ–¥.
2. –ö–æ–º–∞–Ω–¥–µ Hugging Face –∑–∞ –∏—Ö [–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](https://huggingface.co/docs/transformers/index).
3. [Jason Won](https://github.com/jaswon) –∏ [Richard Nagyfi](https://github.com/sedthh) –∑–∞ –æ–±–º–µ–Ω –∏–¥–µ—è–º–∏.
4. [Marvin](https://github.com/minetoblend) –∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ.
5. –°–æ–æ–±—â–µ—Å—Ç–≤—É osu! –∑–∞ –±–∏—Ç–º–∞–ø—ã.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

1. [osu! Beatmap Generator](https://github.com/Syps/osu_beatmap_generator) –æ—Ç Syps (Nick Sypteras)
2. [osumapper](https://github.com/kotritrona/osumapper) –æ—Ç kotritrona, jyvden, Yoyolick (Ryan Zmuda)
3. [osu-diffusion](https://github.com/OliBomby/osu-diffusion) –æ—Ç OliBomby (Olivier Schipper), NiceAesth (Andrei Baciu)
4. [osuT5](https://github.com/gyataro/osuT5) –æ—Ç gyataro (Xiwen Teoh)
5. [Beat Learning](https://github.com/sedthh/BeatLearning) –æ—Ç sedthh (Richard Nagyfi)
6. [osu!dreamer](https://github.com/jaswon/osu-dreamer) –æ—Ç jaswon (Jason Won)


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2026-01-24

---