<div align="right">
  <details>
    <summary >ЁЯМР рднрд╛рд╖рд╛</summary>
    <div>
      <div align="center">
        <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=en">English</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=zh-CN">чоАф╜Уф╕нцЦЗ</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=zh-TW">ч╣БщлФф╕нцЦЗ</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ja">цЧецЬмшкЮ</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ko">эХЬъ╡ньЦ┤</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=hi">рд╣рд┐рдиреНрджреА</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=th">р╣Др╕Чр╕в</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=fr">Fran├зais</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=de">Deutsch</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=es">Espa├▒ol</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=it">Italiano</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ru">╨а╤Г╤Б╤Б╨║╨╕╨╣</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=pt">Portugu├кs</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=nl">Nederlands</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=pl">Polski</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ar">╪з┘Д╪╣╪▒╪и┘К╪й</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=fa">┘Б╪з╪▒╪│█М</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=tr">T├╝rk├зe</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=vi">Tiс║┐ng Viс╗Зt</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=id">Bahasa Indonesia</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=as">ржЕрж╕ржорзАржпрж╝рж╛</
      </div>
    </div>
  </details>
</div>

# рдореИрдкрд░рд╛рдЯреЛрд░рд┐рдиреЗрдЯрд░

рдЬрдирд░реЗрдЯрд┐рд╡ рдореЙрдбрд▓ рдХреЛ [рдпрд╣рд╛рдБ](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mapperatorinator_inference.ipynb) рдЖрдЬрд╝рдорд╛рдПрдБ, рдпрд╛ рдорд╛рдИрдореЛрдб [рдпрд╣рд╛рдБ](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mai_mod_inference.ipynb) рджреЗрдЦреЗрдВред рд╡реАрдбрд┐рдпреЛ рдкреНрд░рд╕реНрддреБрддрд┐ рдХреЗ рд▓рд┐рдП [рдпрд╣рд╛рдБ](https://youtu.be/FEr7t1L2EoA) рджреЗрдЦреЗрдВред

рдореИрдкрд░рд╛рдЯреЛрд░рд┐рдиреЗрдЯрд░ рдПрдХ рдорд▓реНрдЯреА-рдореЙрдбрд▓ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╣реИ рдЬреЛ рд╕реНрдкреЗрдХреНрдЯреНрд░реЛрдЧреНрд░рд╛рдо рдЗрдирдкреБрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рднреА рдЧреЗрдордореЛрдбреНрд╕ рдХреЗ рд▓рд┐рдП рдкреВрд░реНрдг osu! рдмреАрдЯрдореИрдк рдЬрдирд░реЗрдЯ рдХрд░рддрд╛ рд╣реИ рдФрд░ [рдореЙрдбрд┐рдВрдЧ рдореЗрдВ рд╕рд╣рд╛рдпрддрд╛ рдХрд░рддрд╛ рд╣реИ](#maimod-the-ai-driven-modding-tool)ред
рдЗрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдХрд┐рд╕реА рднреА рдЧрд╛рдиреЗ рд╕реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрдЪреНрдЪ рдЧреБрдгрд╡рддреНрддрд╛ рд╡рд╛рд▓реЗ, рд░реИрдВрдХ рдпреЛрдЧреНрдп osu! рдмреАрдЯрдореИрдкреНрд╕ рдХреЛ рдЕрддреНрдпрдзрд┐рдХ рдЕрдиреБрдХреВрд▓рди рдХреНрд╖рдорддрд╛ рдХреЗ рд╕рд╛рде рдмрдирд╛рдирд╛ рд╣реИред

рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ [osuT5](https://github.com/gyataro/osuT5) рдФрд░ [osu-diffusion](https://github.com/OliBomby/osu-diffusion) рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИред рдЗрд╕реЗ рдмрдирд╛рддреЗ рд╕рдордп рдореИрдВрдиреЗ рдЕрдкрдиреЗ 4060 Ti рдФрд░ vast.ai рдкрд░ рдХрд┐рд░рд╛рдП рдХреЗ 4090 рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕ рдкрд░ 142 рд░рди рдореЗрдВ рдХрд░реАрдм 2500 рдШрдВрдЯреЗ GPU рдХрдВрдкреНрдпреВрдЯ рдореЗрдВ рд▓рдЧрд╛рдПред


#### рдЗрд╕ рдЯреВрд▓ рдХрд╛ рдЬрд┐рдореНрдореЗрджрд╛рд░реА рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред рд╣рдореЗрд╢рд╛ рдЕрдкрдиреА рдмреАрдЯрдореИрдкреНрд╕ рдореЗрдВ рдПрдЖрдИ рдХреЗ рдЙрдкрдпреЛрдЧ рдХрд╛ рдЦреБрд▓рд╛рд╕рд╛ рдХрд░реЗрдВред

## рд╕реНрдерд╛рдкрдирд╛

рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдирд┐рд░реНрджреЗрд╢ рдЖрдкрдХреЛ рдЕрдкрдиреА рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдмреАрдЯрдореИрдкреНрд╕ рдЬрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ рдЖрдк рдЗрд╕реЗ рдХреНрд▓рд╛рдЙрдб рдореЗрдВ [colab notebook](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mapperatorinator_inference.ipynb) рдХреЗ рд╕рд╛рде рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВред

### 1. рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЛ рдХреНрд▓реЛрди рдХрд░реЗрдВ

```sh
git clone https://github.com/OliBomby/Mapperatorinator.git
cd Mapperatorinator
```

### 2. (рд╡реИрдХрд▓реНрдкрд┐рдХ) рд╡рд░реНрдЪреБрдЕрд▓ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рдмрдирд╛рдПрдВ

Python 3.10 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдмрд╛рдж рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдирд┐рд░реНрднрд░рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

```sh
python -m venv .venv

# In cmd.exe
.venv\Scripts\activate.bat
# In PowerShell
.venv\Scripts\Activate.ps1
# In Linux or MacOS
source .venv/bin/activate
```

### 3. рдЖрд╡рд╢реНрдпрдХ рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реА рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ

- Python 3.10
- [Git](https://git-scm.com/downloads)
- [ffmpeg](http://www.ffmpeg.org/)
- [CUDA](https://developer.nvidia.com/cuda-zone) (NVIDIA GPU рдХреЗ рд▓рд┐рдП) рдпрд╛ [ROCm](https://rocmdocs.amd.com/en/latest/Installation_Guide/Installation-Guide.html) (AMD GPU рдХреЗ рд▓рд┐рдП рд▓рд┐рдирдХреНрд╕ рдкрд░)
- [PyTorch](https://pytorch.org/get-started/locally/): рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ Get Started рдЧрд╛рдЗрдб рдХрд╛ рдкрд╛рд▓рди рдХрд┐рдпрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЖрдк `torch` рдФрд░ `torchaudio` GPU рд╕рдкреЛрд░реНрдЯ рдХреЗ рд╕рд╛рде рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВред рдЙрд╕ Compute Platform рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдЬреЛ рдЖрдкрдиреЗ рдкрд┐рдЫрд▓реЗ рдЪрд░рдг рдореЗрдВ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рд╣реИред

- рдФрд░ рд╢реЗрд╖ Python рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реА:

```sh
pip install -r requirements.txt
```

## рд╡реЗрдм GUI (рдЕрдиреБрд╢рдВрд╕рд┐рдд)

рдПрдХ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рдЕрдиреБрдХреВрд▓ рдЕрдиреБрднрд╡ рдХреЗ рд▓рд┐рдП, рд╡реЗрдм UI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред рдпрд╣ рдЬреЗрдирд░реЗрд╢рди рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП рдПрдХ рдЧреНрд░рд╛рдлрд┐рдХрд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

### GUI рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ

рдЕрдкрдиреЗ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рдХреНрд▓реЛрди рдХрд┐рдП рдЧрдП `Mapperatorinator` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдкрд░ рдЬрд╛рдПрдВ рдФрд░ рдЪрд▓рд╛рдПрдВ:

```sh
python web-ui.py
```
рдпрд╣ рдПрдХ рд╕реНрдерд╛рдиреАрдп рд╡реЗрдм рд╕рд░реНрд╡рд░ рд╢реБрд░реВ рдХрд░реЗрдЧрд╛ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ UI рдХреЛ рдПрдХ рдирдИ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдЦреЛрд▓реЗрдЧрд╛ред

### GUI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛

- **рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ:** рдЗрдирдкреБрдЯ/рдЖрдЙрдЯрдкреБрдЯ рдкрде рдХреЛ рдлреЙрд░реНрдо рдлрд╝реАрд▓реНрдб рдФрд░ "рдмреНрд░рд╛рдЙрдЬрд╝" рдмрдЯрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реЗрдЯ рдХрд░реЗрдВред рдЬрдирд░реЗрд╢рди рдкреИрд░рд╛рдореАрдЯрд░ рдЬреИрд╕реЗ рдЧреЗрдордореЛрдб, рдХрдард┐рдирд╛рдИ, рд╢реИрд▓реА (рд╡рд░реНрд╖, рдореИрдкрд░ рдЖрдИрдбреА, рд╡рд░реНрдгрдирдХрд░реНрддрд╛), рдЯрд╛рдЗрдорд┐рдВрдЧ, рд╡рд┐рд╢рд┐рд╖реНрдЯ рдлреАрдЪрд░реНрд╕ (рд╣рд┐рдЯрд╕рд╛рдЙрдВрдбреНрд╕, рд╕реБрдкрд░ рдЯрд╛рдЗрдорд┐рдВрдЧ), рдФрд░ рднреА рдмрд╣реБрдд рдХреБрдЫ, рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рддрд░рд╣ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░реЗрдВред (рдиреЛрдЯ: рдпрджрд┐ рдЖрдк `beatmap_path` рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рддреЛ UI рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ `audio_path` рдФрд░ `output_path` рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд▓реЗрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдЖрдк рд╡реЗ рдлрд╝реАрд▓реНрдб рдЦрд╛рд▓реА рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ)
- **рд╢реБрд░реВ рдХрд░реЗрдВ:** рдмреАрдЯрдореИрдк рдЬрдирд░реЗрд╢рди рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП "Start Inference" рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред
- **рд░рджреНрдж рдХрд░реЗрдВ:** рдЖрдк "Cancel Inference" рдмрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪрд▓ рд░рд╣реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд░реЛрдХ рд╕рдХрддреЗ рд╣реИрдВред
- **рдЖрдЙрдЯрдкреБрдЯ рдЦреЛрд▓реЗрдВ:** рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдЬреЗрдирд░реЗрдЯ рдХреА рдЧрдИ рдлрд╛рдЗрд▓реЛрдВ рддрдХ рддреНрд╡рд░рд┐рдд рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП "Open Output Folder" рдмрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред

рд╡реЗрдм UI `inference.py` рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЖрд╡рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред рдЙрдиреНрдирдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдпрд╛ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХреЗ рд▓рд┐рдП, рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рдирд┐рд░реНрджреЗрд╢ рджреЗрдЦреЗрдВред

![python_u3zyW0S3Vs](https://github.com/user-attachments/assets/5312a45f-d51c-4b37-9389-da3258ddd0a1)

## рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рдЗрдВрдлреЗрд░реЗрдВрд╕

рдЙрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рдЬрд┐рдиреНрд╣реЗрдВ рдЙрдиреНрдирдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред **рдиреЛрдЯ:** рдПрдХ рд╕рд░рд▓ рдЧреНрд░рд╛рдлрд┐рдХрд▓ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд▓рд┐рдП рдХреГрдкрдпрд╛ рдКрдкрд░ [Web UI (Recommended)](#web-ui-recommended) рдЕрдиреБрднрд╛рдЧ рджреЗрдЦреЗрдВред

`inference.py` рдЪрд▓рд╛рдПрдБ рдФрд░ рдмреАрдЯрдореИрдк рдЬрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯреНрд╕ рдкрд╛рд╕ рдХрд░реЗрдВред рдЗрд╕рдХреЗ рд▓рд┐рдП [Hydra override syntax](https://hydra.cc/docs/advanced/override_grammar/basic/) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред рд╕рднреА рдЙрдкрд▓рдмреНрдз рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд▓рд┐рдП `configs/inference_v29.yaml` рджреЗрдЦреЗрдВред

```
python inference.py \
  audio_path           [Path to input audio] \
  output_path          [Path to output directory] \
  beatmap_path         [Path to .osu file to autofill metadata, and output_path, or use as reference] \
  
  gamemode             [Game mode to generate 0=std, 1=taiko, 2=ctb, 3=mania] \
  difficulty           [Difficulty star rating to generate] \
  mapper_id            [Mapper user ID for style] \
  year                 [Upload year to simulate] \
  hitsounded           [Whether to add hitsounds] \
  slider_multiplier    [Slider velocity multiplier] \
  circle_size          [Circle size] \
  keycount             [Key count for mania] \
  hold_note_ratio      [Hold note ratio for mania 0-1] \
  scroll_speed_ratio   [Scroll speed ratio for mania and ctb 0-1] \
  descriptors          [List of beatmap user tags for style] \
  negative_descriptors [List of beatmap user tags for classifier-free guidance] \
  
  add_to_beatmap       [Whether to add generated content to the reference beatmap instead of making a new beatmap] \
  start_time           [Generation start time in milliseconds] \
  end_time             [Generation end time in milliseconds] \
  in_context           [List of additional context to provide to the model [NONE,TIMING,KIAI,MAP,GD,NO_HS]] \
  output_type          [List of content types to generate] \
  cfg_scale            [Scale of the classifier-free guidance] \
  super_timing         [Whether to use slow accurate variable BPM timing generator] \
  seed                 [Random seed for generation] \
```

рдЙрджрд╛рд╣рд░рдг:
```
python inference.py beatmap_path="'C:\Users\USER\AppData\Local\osu!\Songs\1 Kenji Ninuma - DISCO PRINCE\Kenji Ninuma - DISCOPRINCE (peppy) [Normal].osu'" gamemode=0 difficulty=5.5 year=2023 descriptors="['jump aim','clean']" in_context=[TIMING,KIAI]
```

## рдЗрдВрдЯрд░рдПрдХреНрдЯрд┐рд╡ CLI
рдЬреЛ рд▓реЛрдЧ рдЯрд░реНрдорд┐рдирд▓-рдЖрдзрд╛рд░рд┐рдд рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдд рд╕реЗрдЯрдЕрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЙрдирдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдПрдХреНрдЯрд┐рд╡ CLI рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╡реЗрдм UI рдХрд╛ рдПрдХ рдЙрддреНрдХреГрд╖реНрдЯ рд╡рд┐рдХрд▓реНрдк рд╣реИред

### CLI рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ
рдХреНрд▓реЛрди рдХреА рдЧрдИ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдЬрд╛рдПрдВред рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрдиреАрдп рдмрдирд╛рдирд╛ рдкрдбрд╝ рд╕рдХрддрд╛ рд╣реИред

```sh
# Make the script executable (only needs to be done once)
chmod +x cli_inference.sh
```

```sh
# Run the script
./cli_inference.sh
```

### CLI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛
рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЖрдкрдХреЛ Web UI рдХреА рддрд░рд╣ рд╕рднреА рдЬреЗрдирд░реЗрд╢рди рдкреИрд░рд╛рдореАрдЯрд░реНрд╕ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рдкреНрд░реЙрдореНрдкреНрдЯреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЗ рдЬрд╛рдПрдЧреАред

рдпрд╣ рд╕реНрдкрд╖реНрдЯрддрд╛ рдХреЗ рд▓рд┐рдП рд░рдВрдЧ-рдХреЛрдбрд┐рдд рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред
рдпрд╣ рд╕реНрдЯрд╛рдЗрд▓ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░реНрд╕ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЗ рдПрд░реЛ рдХреАрдЬрд╝ рдФрд░ рд╕реНрдкреЗрд╕рдмрд╛рд░ рдХреЗ рд╕рд╛рде рдПрдХ рдЙрдиреНрдирдд рдорд▓реНрдЯреА-рд╕реЗрд▓реЗрдХреНрдЯ рдореЗрдиреНрдпреВ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред
рд╕рднреА рдкреНрд░рд╢реНрдиреЛрдВ рдХрд╛ рдЙрддреНрддрд░ рджреЗрдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдЖрдкрдХреЗ рд╕рдореАрдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдЕрдВрддрд┐рдо рдХрдорд╛рдВрдб рджрд┐рдЦрд╛рдПрдЧрд╛ред
рдЖрдк рдлрд┐рд░ рдЗрд╕реЗ рд╕реАрдзреЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдореИрдиреНрдпреБрдЕрд▓ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдХрдорд╛рдВрдб рдХреЙрдкреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

## рдЬреЗрдирд░реЗрд╢рди рдЯрд┐рдкреНрд╕

- рдЖрдк `configs/inference_v29.yaml` рдХреЛ рдПрдбрд┐рдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЕрдкрдиреЗ рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯреНрд╕ рд╡рд╣рд╛рдВ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рд╣рд░ рдмрд╛рд░ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рдЯрд╛рдЗрдк рдХрд░рдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рдкрдбрд╝реЗрдЧреАред
- рд╕рднреА рдЙрдкрд▓рдмреНрдз рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░реНрд╕ [рдпрд╣рд╛рдВ](https://osu.ppy.sh/wiki/en/Beatmap/Beatmap_tags) рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВред
- рд╣рдореЗрд╢рд╛ 2007 рдФрд░ 2023 рдХреЗ рдмреАрдЪ рдХрд╛ рд╡рд░реНрд╖ рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯ рджреЗрдВред рдЕрдЧрд░ рдЖрдк рдЗрд╕реЗ рдЕрдЬреНрдЮрд╛рдд рдЫреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдореЙрдбрд▓ рдЕрд╕рдВрдЧрдд рд╕реНрдЯрд╛рдЗрд▓ рдХреЗ рд╕рд╛рде рдЬреЗрдирд░реЗрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИред
- рд╣рдореЗрд╢рд╛ рдбрд┐рдлрд┐рдХрд▓реНрдЯреА рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯ рджреЗрдВред рдЕрдЧрд░ рдЖрдк рдЗрд╕реЗ рдЕрдЬреНрдЮрд╛рдд рдЫреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдореЙрдбрд▓ рдЕрд╕рдВрдЧрдд рдбрд┐рдлрд┐рдХрд▓реНрдЯреА рдХреЗ рд╕рд╛рде рдЬреЗрдирд░реЗрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИред
- `cfg_scale` рдкреИрд░рд╛рдореАрдЯрд░ рдмрдврд╝рд╛рдиреЗ рд╕реЗ `mapper_id` рдФрд░ `descriptors` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯреНрд╕ рдХреА рдкреНрд░рднрд╛рд╡рд╢реАрд▓рддрд╛ рдмрдврд╝рддреА рд╣реИред
- рдЖрдк `negative_descriptors` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдореЙрдбрд▓ рдХреЛ рдХреБрдЫ рд╕реНрдЯрд╛рдЗрд▓реНрд╕ рд╕реЗ рджреВрд░ рд▓реЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдХреЗрд╡рд▓ рддрдм рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЬрдм `cfg_scale > 1` рд╣реЛред рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдиреЗрдЧреЗрдЯрд┐рд╡ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░реНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░реНрд╕ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛред
- рдЕрдЧрд░ рдЖрдкрдХреЗ рдЧреАрдд рдХрд╛ рд╕реНрдЯрд╛рдЗрд▓ рдФрд░ рд╡рд╛рдВрдЫрд┐рдд рдмреАрдЯрдореИрдк рд╕реНрдЯрд╛рдЗрд▓ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддреЗ рд╣реИрдВ, рддреЛ рдореЙрдбрд▓ рдЖрдкрдХреА рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╢рд╛рдВрдд рдЧреАрдд рдХреЗ рд▓рд┐рдП рдЙрдЪреНрдЪ SR, рдЙрдЪреНрдЪ SV рдмреАрдЯрдореИрдк рдЬрдирд░реЗрдЯ рдХрд░рдирд╛ рдХрдард┐рди рд╣реИред
- рдЕрдЧрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЧреАрдд рдХреЗ рд▓рд┐рдП рдЯрд╛рдЗрдорд┐рдВрдЧ рдФрд░ рдХрд┐рдпрд╛рдИ рдЯрд╛рдЗрдореНрд╕ рддреИрдпрд╛рд░ рд╣реИрдВ, рддреЛ рдЖрдк рдЗрд╕реЗ рдореЙрдбрд▓ рдХреЛ рджреЗрдХрд░ рдЗрдиреНрдлреЗрд░реЗрдВрд╕ рд╕реНрдкреАрдб рдФрд░ рдПрдХреНрдпреБрд░реЗрд╕реА рдмрд╣реБрдд рдмрдврд╝рд╛ рд╕рдХрддреЗ рд╣реИрдВ: `beatmap_path` рдФрд░ `in_context=[TIMING,KIAI]` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
- рдЕрдкрдиреЗ рдмреАрдЯрдореИрдк рдХреЗ рдХреЗрд╡рд▓ рдПрдХ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рд░реАрдореИрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `beatmap_path`, `start_time`, `end_time`, рдФрд░ `add_to_beatmap=true` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
- рдмреАрдЯрдореИрдк рдХреЗ рд▓рд┐рдП рдЧреЗрд╕реНрдЯ рдбрд┐рдлрд┐рдХрд▓реНрдЯреА рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `beatmap_path` рдФрд░ `in_context=[GD,TIMING,KIAI]` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
- рдмреАрдЯрдореИрдк рдХреЗ рд▓рд┐рдП рд╣рд┐рдЯрд╕рд╛рдЙрдВрдбреНрд╕ рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `beatmap_path` рдФрд░ `in_context=[NO_HS,TIMING,KIAI]` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
- рдХреЗрд╡рд▓ рдЧреАрдд рдХреЗ рд▓рд┐рдП рдЯрд╛рдЗрдорд┐рдВрдЧ рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `super_timing=true` рдФрд░ `output_type=[TIMING]` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред

## MaiMod: рдПрдЖрдИ-рдЪрд╛рд▓рд┐рдд рдореЙрдбрд┐рдВрдЧ рдЯреВрд▓

MaiMod рдПрдХ рдореЙрдбрд┐рдВрдЧ рдЯреВрд▓ рд╣реИ рдЬреЛ Mapperatorinator рдХреА рдкреНрд░реЗрдбрд┐рдХреНрд╢рдВрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рдЧрд▓рддрд┐рдпреЛрдВ рдФрд░ рд╡рд┐рд╕рдВрдЧрддрд┐рдпреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдЕрдиреНрдп рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдореЙрдбрд┐рдВрдЧ рдЯреВрд▓реНрд╕ рдЬреИрд╕реЗ [Mapset Verifier](https://github.com/Naxesss/MapsetVerifier) рдирд╣реАрдВ рдкрдХрдбрд╝ рд╕рдХрддреЗред
рдпрд╣ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддрд╛ рд╣реИ:
- рдЧрд▓рдд рд╕реНрдиреИрдкрд┐рдВрдЧ рдпрд╛ рд░рд┐рджрдорд┐рдХ рдкреИрдЯрд░реНрди
- рдЧрд▓рдд рдЯрд╛рдЗрдорд┐рдВрдЧ рдкреЙрдЗрдВрдЯреНрд╕
- рд╣рд┐рдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рдЕрд╕рдВрдЧрдд рдкреЛрдЬрд┐рд╢рдирд┐рдВрдЧ рдпрд╛ рдирдП рдХреЙрдореНрдмреЛ рдХреА рдкреНрд▓реЗрд╕рдореЗрдВрдЯреНрд╕
- рдЕрдЬреАрдм рд╕реНрд▓рд╛рдЗрдбрд░ рд╢реЗрдкреНрд╕
- рдЕрд╕рдВрдЧрдд рд╣рд┐рдЯрд╕рд╛рдЙрдВрдбреНрд╕ рдпрд╛ рд╡реЙрд▓реНрдпреВрдореНрд╕

рдЖрдк MaiMod рдХреЛ [рдпрд╣рд╛рдВ](https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mai_mod_inference.ipynb) рдЖрдЬрдорд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдЗрд╕реЗ рд▓реЛрдХрд▓реА рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:
MaiMod рдХреЛ рд▓реЛрдХрд▓реА рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ Mapperatorinator рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдлрд┐рд░, `mai_mod.py` рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рдПрдВ, рдФрд░ рдЕрдкрдиреЗ рдмреАрдЯрдореИрдк рдХреЗ рдкрде рдХреЛ `beatmap_path` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯ рдХреЗ рд╕рд╛рде рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВред
```sh
python mai_mod.py beatmap_path="'C:\Users\USER\AppData\Local\osu!\Songs\1 Kenji Ninuma - DISCO PRINCE\Kenji Ninuma - DISCOPRINCE (peppy) [Normal].osu'"
```
рдпрд╣ рдореЙрдбрд┐рдВрдЧ рд╕реБрдЭрд╛рд╡реЛрдВ рдХреЛ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдЧрд╛, рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдлрд┐рд░ рдЕрдкрдиреЗ рдмреАрдЯрдореИрдк рдкрд░ рдореИрдиреНрдпреБрдЕрд▓реА рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
рд╕реБрдЭрд╛рд╡реЛрдВ рдХреЛ рдХрд╛рд▓рд╛рдиреБрдХреНрд░рдорд┐рдХ рд░реВрдк рд╕реЗ рдХреНрд░рдордмрджреНрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдореЗрдВ рд╕рдореВрд╣рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред
рд╡реГрддреНрдд рдореЗрдВ рдкрд╣рд▓рд╛ рдорд╛рди 'рд╕рд░рдкреНрд░рд╛рдЗрдЬрд▓' рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ, рдЬреЛ рдпрд╣ рдорд╛рдкрддрд╛ рд╣реИ рдХрд┐ рдореЙрдбрд▓ рдХреЛ рдпрд╣ рд╕рдорд╕реНрдпрд╛ рдХрд┐рддрдиреА рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд▓рдЧреА, рддрд╛рдХрд┐ рдЖрдк рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдореБрджреНрджреЛрдВ рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗ рд╕рдХреЗрдВред

рдореЙрдбрд▓ рдЧрд▓рддрд┐рдпрд╛рдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЦрд╛рд╕рдХрд░ рдХрдо рд╕рд░рдкреНрд░рд╛рдЗрдЬрд▓ рд╡рд╛рд▓реЗ рдореБрджреНрджреЛрдВ рдкрд░, рдЗрд╕рд▓рд┐рдП рдЕрдкрдиреЗ рдмреАрдЯрдореИрдк рдкрд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╣рдореЗрд╢рд╛ рд╕реБрдЭрд╛рд╡реЛрдВ рдХреЛ рджреЛрдмрд╛рд░рд╛ рдЬрд╛рдВрдЪреЗрдВред
рдореБрдЦреНрдп рдЙрджреНрджреЗрд╢реНрдп рдпрд╣ рд╣реИ рдХрд┐ рд╕рдВрднрд╛рд╡рд┐рдд рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рдХреНрд╖реЗрддреНрд░ рдХреЛ рд╕рдВрдХреАрд░реНрдг рдХрд░рдиреЗ рдореЗрдВ рдЖрдкрдХреА рдорджрдж рдХрд░рдирд╛, рддрд╛рдХрд┐ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдмреАрдЯрдореИрдк рдореЗрдВ рд╣рд░ рдПрдХ рд╣рд┐рдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓реА рдЬрд╛рдВрдЪрдирд╛ рди рдкрдбрд╝реЗред

### MaiMod GUI
MaiMod Web UI рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ Mapperatorinator рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред
рдлрд┐рд░, `mai_mod_ui.py` рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рдПрдВред рдЗрд╕рд╕реЗ рдПрдХ рд▓реЛрдХрд▓ рд╡реЗрдм рд╕рд░реНрд╡рд░ рд╢реБрд░реВ рд╣реЛрдЧрд╛ рдФрд░ UI рдЕрдкрдиреЗ рдЖрдк рдирдИ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдЦреБрд▓реЗрдЧрд╛:

```sh
python mai_mod_ui.py
```

<img width="850" height="1019" alt="afbeelding" src="https://github.com/user-attachments/assets/67c03a43-a7bd-4265-a5b1-5e4d62aca1fa" />

## рдЕрд╡рд▓реЛрдХрди

### рдЯреЛрдХрдирд╛рдЗрдЬреЗрд╢рди

Mapperatorinator osu! рдмреАрдЯрдореИрдкреНрд╕ рдХреЛ рдПрдХ рдордзреНрдпрд╡рд░реНрддреА рдИрд╡реЗрдВрдЯ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдореЗрдВ рдмрджрд▓рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рд╕реАрдзреЗ рдЯреЛрдХрди рдореЗрдВ рдмрджрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
рдЗрд╕рдореЗрдВ рд╣рд┐рдЯ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕, рд╣рд┐рдЯрд╕рд╛рдЙрдВрдбреНрд╕, рд╕реНрд▓рд╛рдЗрдбрд░ рд╡реЗрд▓реЛрд╕рд┐рдЯреА, рдиреНрдпреВ рдХреЙрдореНрдмреЛ, рдЯрд╛рдЗрдорд┐рдВрдЧ рдкреЙрдЗрдВрдЯреНрд╕, рдХрд┐рдпрд╛рдИ рдЯрд╛рдЗрдореНрд╕, рдФрд░ рдЯреИрдЗрдХреЛ/рдореИрдирд┐рдпрд╛ рд╕реНрдХреНрд░реЙрд▓ рд╕реНрдкреАрдб рд╢рд╛рдорд┐рд▓ рд╣реИрдВред

рдпрд╣рд╛рдБ рдЯреЛрдХрдирд╛рдЗрдЬреЗрд╢рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдПрдХ рдЫреЛрдЯрд╛ рдЙрджрд╛рд╣рд░рдг рд╣реИ:

![mapperatorinator_parser](https://github.com/user-attachments/assets/84efde76-4c27-48a1-b8ce-beceddd9e695)

рд╢рдмреНрджрд╛рд╡рд▓реА рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рдордп рдИрд╡реЗрдВрдЯреНрд╕ рдХреЛ 10ms рдЕрдВрддрд░рд╛рд▓ рдореЗрдВ рдХреНрд╡рд╛рдВрдЯрд╛рдЗрдЬрд╝ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рд╕реНрдерд┐рддрд┐ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ 32 рдкрд┐рдХреНрд╕реЗрд▓ рдЧреНрд░рд┐рдб рдмрд┐рдВрджреБрдУрдВ рдкрд░ рдХреНрд╡рд╛рдВрдЯрд╛рдЗрдЬрд╝ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

### рдореЙрдбрд▓ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░
рдореЙрдбрд▓ рдореВрд▓ рд░реВрдк рд╕реЗ [HF Transformers Whisper](https://huggingface.co/docs/transformers/en/model_doc/whisper#transformers.WhisperForConditionalGeneration) рдореЙрдбрд▓ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдПрдХ рд░реИрдкрд░ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдХрд╕реНрдЯрдо рдЗрдирдкреБрдЯ рдПрдореНрдмреЗрдбрд┐рдВрдЧ рдФрд░ рд▓реЙрд╕ рдлрдВрдХреНрд╢рди рд╣реИред
рдореЙрдбрд▓ рдХрд╛ рдЖрдХрд╛рд░ 219M рдкреИрд░рд╛рдореАрдЯрд░реНрд╕ рд╣реИред
рдпрд╣ рдореЙрдбрд▓ рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП T5 рд╕реЗ рддреЗрдЬрд╝ рдФрд░ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рдкрд╛рдпрд╛ рдЧрдпрд╛ред

рдореЙрдбрд▓ рдХреЗ рдЗрдирдкреБрдЯ-рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдЙрдЪреНрдЪ-рд╕реНрддрд░реАрдп рдЕрд╡рд▓реЛрдХрди рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реИ:

![Picture2](https://user-images.githubusercontent.com/28675590/201044116-1384ad72-c540-44db-a285-7319dd01caad.svg)

рдореЙрдбрд▓ рдореЗрд▓ рд╕реНрдкреЗрдХреНрдЯреНрд░реЛрдЧреНрд░рд╛рдо рдлреНрд░реЗрдореНрд╕ рдХреЛ рдПрдиреНрдХреЛрдбрд░ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рдЗрдирдкреБрдЯ рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдПрдХ рдлреНрд░реЗрдо рдХреЗ рд╕рд╛рдеред рдореЙрдбрд▓ рдбрд┐рдХреЛрдбрд░ рдЖрдЙрдЯрдкреБрдЯ рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдкрд░ рдШрдЯрдирд╛рдУрдВ рдХреА рдПрдХ рд╡рд┐рд╡рд┐рдХреНрдд, рдкреВрд░реНрд╡-рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╢рдмреНрджрд╛рд╡рд▓реА рдкрд░ рд╕реЙрдлреНрдЯрдореИрдХреНрд╕ рд╡рд┐рддрд░рдг рд╣реИред рдЖрдЙрдЯрдкреБрдЯ рд╡рд┐рд░рд▓ рд╣реИрдВ, рдИрд╡реЗрдВрдЯреНрд╕ рдХреЗрд╡рд▓ рддрдм рдЖрд╡рд╢реНрдпрдХ рд╣реЛрддреЗ рд╣реИрдВ рдЬрдм рдХреЛрдИ рд╣рд┐рдЯ-рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реЛрддрд╛ рд╣реИ, рд╣рд░ рдСрдбрд┐рдпреЛ рдлреНрд░реЗрдо рдХреЛ рдПрдиреЛрдЯреЗрдЯ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдпред

### рдорд▓реНрдЯреАрдЯрд╛рд╕реНрдХ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдкреНрд░рд╛рд░реВрдк

![Multitask training format](https://github.com/user-attachments/assets/62f490bc-a567-4671-a7ce-dbcc5f9cd6d9)

SOS рдЯреЛрдХрди рд╕реЗ рдкрд╣рд▓реЗ рдЕрддрд┐рд░рд┐рдХреНрдд рдЯреЛрдХрди рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рд╕рд╢рд░реНрдд рдЬрдирд░реЗрд╢рди рдХреА рд╕реБрд╡рд┐рдзрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред рдЗрди рдЯреЛрдХрдиреЛрдВ рдореЗрдВ рдЧреЗрдордореЛрдб, рдХрдард┐рдирд╛рдИ, рдореИрдкрд░ рдЖрдИрдбреА, рд╡рд░реНрд╖ рдФрд░ рдЕрдиреНрдп рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред
рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рджреМрд░рд╛рди, рдЗрди рдЯреЛрдХрдиреЛрдВ рдХреЗ рд╕рд╛рде рд▓реЗрдмрд▓ рдирд╣реАрдВ рд╣реЛрддреЗ, рдЗрд╕рд▓рд┐рдП рдЗрдиреНрд╣реЗрдВ рдореЙрдбрд▓ рджреНрд╡рд╛рд░рд╛ рдХрднреА рдЖрдЙрдЯрдкреБрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ред
рд╕рд╛рде рд╣реА рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рджреМрд░рд╛рди рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реЛрддреА рд╣реИ рдХрд┐ рдХрд┐рд╕реА рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдЯреЛрдХрди рдХреЛ 'рдЕрдЬреНрдЮрд╛рдд' рдЯреЛрдХрди рд╕реЗ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рдП, рддрд╛рдХрд┐ рдЕрдиреБрдорд╛рди рдХреЗ рд╕рдордп рд╣рдо рдЗрди 'рдЕрдЬреНрдЮрд╛рдд' рдЯреЛрдХрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдореЙрдбрд▓ рдХреЛ рджреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХреЗрдВред

### рдирд┐рд░реНрдмрд╛рдз рд▓рдВрдмреА рдЬрдирд░реЗрд╢рди

рдореЙрдбрд▓ рдХреА рд╕рдВрджрд░реНрдн рд▓рдВрдмрд╛рдИ 8.192 рд╕реЗрдХрдВрдб рд▓рдВрдмреА рд╣реИред рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдПрдХ рдкреВрд░реНрдг рдмреАрдЯрдореИрдк рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЧреАрдд рдХреЛ рдХрдИ рд╡рд┐рдВрдбреЛ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ рдФрд░ рдмреАрдЯрдореИрдк рдХреЛ рдЫреЛрдЯреЗ рд╣рд┐рд╕реНрд╕реЛрдВ рдореЗрдВ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИред
рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдЙрддреНрдкрдиреНрди рдмреАрдЯрдореИрдк рдХреА рд╡рд┐рдВрдбреЛрдЬрд╝ рдХреЗ рдмреАрдЪ рдХреЛрдИ рд╕реНрдкрд╖реНрдЯ рд╕реАрдо рди рд╣реЛ, рд╣рдо 90% рдУрд╡рд░рд▓реИрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╡рд┐рдВрдбреЛрдЬрд╝ рдХреЛ рдХреНрд░рдорд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВред
рдкреНрд░рддреНрдпреЗрдХ рдЬрдирд░реЗрд╢рди рд╡рд┐рдВрдбреЛ, рдкрд╣рд▓реА рдХреЛ рдЫреЛрдбрд╝рдХрд░, рдбрд┐рдХреЛрдбрд░ рдХреЗ рд╕рд╛рде рд╡рд┐рдВрдбреЛ рдХреА 50% рддрдХ рдХреА рдЯреЛрдХрди рдкрд┐рдЫрд▓реА рд╡рд┐рдВрдбреЛрдЬрд╝ рд╕реЗ рдкреНрд░реА-рдлрд┐рд▓ рдХреА рдЬрд╛рддреА рд╣реИред
рд╣рдо рд▓реЙрдЬрд┐рдЯ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдореЙрдбрд▓ рдЬрдирд░реЗрд╢рди рд╡рд┐рдВрдбреЛ рдХреЗ рдкрд╣рд▓реЗ 50% рдореЗрдВ рд╕рдордп рдЯреЛрдХрди рдЙрддреНрдкрдиреНрди рди рдХрд░ рд╕рдХреЗред
рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдЬрдирд░реЗрд╢рди рд╡рд┐рдВрдбреЛ рдХреЗ рдЕрдВрддрд┐рдо 40% рдХреЛ рдЕрдЧрд▓реА рд╡рд┐рдВрдбреЛ рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЙрд╕ рд╢реНрд░реЗрдгреА рдореЗрдВ рдЙрддреНрдкрдиреНрди рд╕рдордп рдЯреЛрдХрди рдХреЛ EOS рдЯреЛрдХрди рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред
рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдЙрддреНрдкрдиреНрди рдЯреЛрдХрди рдХрдо рд╕реЗ рдХрдо рдкрд┐рдЫрд▓реЗ 4 рд╕реЗрдХрдВрдб рдХреЗ рдЯреЛрдХрдиреЛрдВ рдФрд░ рднрд╡рд┐рд╖реНрдп рдХреЗ 3.3 рд╕реЗрдХрдВрдб рдХреЗ рдСрдбрд┐рдпреЛ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реЛ рддрд╛рдХрд┐ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗред

рд▓рдВрдмреА рдЬрдирд░реЗрд╢рди рдХреЗ рджреМрд░рд╛рди рдСрдлрд╕реЗрдЯ рдбреНрд░рд┐рдлреНрдЯрд┐рдВрдЧ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рджреМрд░рд╛рди рдбрд┐рдХреЛрдбрд░ рдореЗрдВ рд╕рдордп рдШрдЯрдирд╛рдУрдВ рдореЗрдВ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдСрдлрд╕реЗрдЯ рдЬреЛрдбрд╝реЗ рдЧрдП рд╣реИрдВред
рдпрд╣ рдЗрд╕реЗ рдСрдбрд┐рдпреЛ рдореЗрдВ рдСрдирд╕реЗрдЯреНрд╕ рдХреЛ рд╕реБрдирдХрд░ рдЯрд╛рдЗрдорд┐рдВрдЧ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рд╕реБрдзрд╛рд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд▓рдЧрд╛рддрд╛рд░ рд╕рдЯреАрдХ рдСрдлрд╕реЗрдЯ рдорд┐рд▓рддрд╛ рд╣реИред

### рдбрд┐рдлреНрдпреВрдЬрди рдХреЗ рд╕рд╛рде рд╕реБрдзрд╛рд░реЗ рдЧрдП рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ

рдбрд┐рдХреЛрдбрд░ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рд╕реНрдерд┐рддрд┐ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ 32 рдкрд┐рдХреНрд╕рд▓ рдЧреНрд░рд┐рдб рдмрд┐рдВрджреБрдУрдВ рдкрд░ рдХреНрд╡рд╛рдВрдЯрд╛рдЗрдЬрд╝ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдмрд╛рдж рдореЗрдВ рд╣рдо рдЕрдВрддрд┐рдо рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ рдбреАрдиреЛрдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдлреНрдпреВрдЬрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред
рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдордиреЗ [osu-diffusion](https://github.com/OliBomby/osu-diffusion) рдХреЗ рдПрдХ рд╕рдВрд╢реЛрдзрд┐рдд рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рдЬреЛ рдХреЗрд╡рд▓ рд╢реЛрд░ рдЕрдиреБрд╕реВрдЪреА рдХреЗ рдЕрдВрддрд┐рдо 10% рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖реАрдХреГрдд рд╣реИ, рдФрд░ Mapperatorinator рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЕрдзрд┐рдХ рдЙрдиреНрдирдд рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдЯреЛрдХрди рдХреЛ рд╕рд╢рд░реНрдд рдЬрдирд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред

рдЪреВрдВрдХрд┐ Mapperatorinator рдореЙрдбрд▓ рд╕реНрд▓рд╛рдЗрдбрд░реНрд╕ рдХреЗ SV рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдХрд░рддрд╛ рд╣реИ, рд╕реНрд▓рд╛рдЗрдбрд░ рдХреА рдЖрд╡рд╢реНрдпрдХ рд▓рдВрдмрд╛рдИ рдирд┐рдпрдВрддреНрд░рдг рдмрд┐рдВрджреБ рдкрде рдХреЗ рдЖрдХрд╛рд░ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛ рдирд┐рд╢реНрдЪрд┐рдд рд░рд╣рддреА рд╣реИред
рдЗрд╕рд▓рд┐рдП, рд╣рдо рдбрд┐рдлреНрдпреВрдЬрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдЖрд╡рд╢реНрдпрдХ рд╕реНрд▓рд╛рдЗрдбрд░ рд▓рдВрдмрд╛рдИ рдореЗрдВ рдлрд┐рдЯ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред
рд╣рдо рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд▓рдВрдмрд╛рдИ рдФрд░ рд╡рд░реНрддрдорд╛рди рдирд┐рдпрдВрддреНрд░рдг рдмрд┐рдВрджреБ рдкрде рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдбрд┐рдлреНрдпреВрдЬрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдХреЗ рдмрд╛рдж рд╕реНрд▓рд╛рдЗрдбрд░ рдПрдВрдб рдкреЛрдЬреАрд╢рди рдХреЛ рдкреБрдирдГ рдЧрдгрдирд╛ рдХрд░рдХреЗ рдХрд░рддреЗ рд╣реИрдВред
рдЗрд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдбрд┐рдлреНрдпреВрдЬрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕реНрд▓рд╛рдЗрдбрд░ рдПрдВрдб рдкреЛрдЬреАрд╢рди рдкрд░ рдкреНрд░рддреНрдпрдХреНрд╖ рдирд┐рдпрдВрддреНрд░рдг рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдирд┐рдпрдВрддреНрд░рдг рдмрд┐рдВрджреБ рдкрде рдХреЛ рдмрджрд▓рдХрд░ рдЙрдиреНрд╣реЗрдВ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░ рд╕рдХрддреА рд╣реИред

### рдкреЛрд╕реНрдЯ-рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ

Mapperatorinator рдЙрддреНрдкрдиреНрди рдмреАрдЯрдореИрдк рдХреА рдЧреБрдгрд╡рддреНрддрд╛ рд╕реБрдзрд╛рд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд рдкреЛрд╕реНрдЯ-рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХрд░рддрд╛ рд╣реИ:

- рдбрд┐рдлреНрдпреВрдЬрди рдХреЗ рд╕рд╛рде рд╕реНрдерд┐рддрд┐ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ рд╕реБрдзрд╛рд░реЗрдВред
- рдореЙрдбрд▓ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рд╕реНрдиреИрдк рдбрд┐рд╡рд╛рдЗрдЬрд╝рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдордп рдШрдЯрдирд╛рдУрдВ рдХреЛ рдирд┐рдХрдЯрддрдо рдЯрд┐рдХ рдкрд░ рдкреБрдирдГ рд╕реНрдиреИрдк рдХрд░реЗрдВред
- рд▓рдЧрднрдЧ рдкрд░рд┐рдкреВрд░реНрдг рд╕реНрдерд┐рддрд┐ рдУрд╡рд░рд▓реИрдк рдХреЛ рд╕реНрдиреИрдк рдХрд░реЗрдВред
- рдореЗрдирд┐рдпрд╛ рдХреЙрд▓рдо рдШрдЯрдирд╛рдУрдВ рдХреЛ X рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдореЗрдВ рдмрджрд▓реЗрдВред
- рддрд╛рдЗрдХреЛ рдбреНрд░рдорд░реЛрд▓реНрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрд▓рд╛рдЗрдбрд░ рдкрде рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВред
- рдЖрд╡рд╢реНрдпрдХ рд╕реНрд▓рд╛рдЗрдбрд░ рд▓рдВрдмрд╛рдИ рдФрд░ рдирд┐рдпрдВрддреНрд░рдг рдмрд┐рдВрджреБ рдкрде рд▓рдВрдмрд╛рдИ рдореЗрдВ рдмрдбрд╝реЗ рдЕрдВрддрд░ рдХреЛ рдареАрдХ рдХрд░реЗрдВред

### рд╕реБрдкрд░ рдЯрд╛рдЗрдорд┐рдВрдЧ рдЬрдирд░реЗрдЯрд░

рд╕реБрдкрд░ рдЯрд╛рдЗрдорд┐рдВрдЧ рдЬрдирд░реЗрдЯрд░ рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рд╣реИ рдЬреЛ рдкреВрд░реЗ рдЧреАрдд рдХреЗ рд▓рд┐рдП рдЯрд╛рдЗрдорд┐рдВрдЧ рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдХрд░ 20 рдмрд╛рд░ рдЙрд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХрд╛ рдФрд╕рдд рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЙрддреНрдкрдиреНрди рдЯрд╛рдЗрдорд┐рдВрдЧ рдХреА рд╕рдЯреАрдХрддрд╛ рдФрд░ рдкрд░рд┐рд╢реБрджреНрдзрддрд╛ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред
рдпрд╣ рдкрд░рд┐рд╡рд░реНрддрдиреАрдп BPM рд╡рд╛рд▓реЗ рдЧреАрддреЛрдВ рдпрд╛ BPM рдкрд░рд┐рд╡рд░реНрддрди рд╡рд╛рд▓реЗ рдЧреАрддреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИред рдкрд░рд┐рдгрд╛рдо рд▓рдЧрднрдЧ рдкрд░рд┐рдкреВрд░реНрдг рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдХреЗрд╡рд▓ рдХрднреА-рдХрднреА рдХрд┐рд╕реА рдЕрдиреБрднрд╛рдЧ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд╕рдорд╛рдпреЛрдЬрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

## рдкреНрд░рд╢рд┐рдХреНрд╖рдг

рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рдирд┐рд░реНрджреЗрд╢ рдЖрдкрдХреЗ рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рд╡рд╛рддрд╛рд╡рд░рдг рдмрдирд╛рддрд╛ рд╣реИред

### 1. рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЛ рдХреНрд▓реЛрди рдХрд░реЗрдВ

```sh
git clone https://github.com/OliBomby/Mapperatorinator.git
cd Mapperatorinator
```

### 2. рдбреЗрдЯрд╛рд╕реЗрдЯ рдмрдирд╛рдПрдВ

[Mapperator рдХрдВрд╕реЛрд▓ рдРрдк](https://github.com/mappingtools/Mapperator/blob/master/README.md#create-a-high-quality-dataset) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдирд╛ рдЦреБрдж рдХрд╛ рдбреЗрдЯрд╛рд╕реЗрдЯ рдмрдирд╛рдПрдВред рдпрд╣ рдмреАрдЯрдореИрдкреНрд╕ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдФрд░ рдЕрддрд┐рд░рд┐рдХреНрдд рдореЗрдЯрд╛рдбрд╛рдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ [osu! OAuth рдХреНрд▓рд╛рдЗрдВрдЯ рдЯреЛрдХрди](https://osu.ppy.sh/home/account/edit) рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЛ `datasets` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рд░рдЦреЗрдВ, рдЬреЛ `Mapperatorinator` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЗ рдкрд╛рд╕ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред

```sh
Mapperator.ConsoleApp.exe dataset2 -t "/Mapperatorinator/datasets/beatmap_descriptors.csv" -i "path/to/osz/files" -o "/datasets/cool_dataset"
```

### 3. (рд╡реИрдХрд▓реНрдкрд┐рдХ) рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╡реЗрдЯ рдПрдВрдб рдмрд╛рдпрд╕ рд╕реЗрдЯ-рдЕрдк рдХрд░реЗрдВ
[рд╡реЗрдЯ рдПрдВрдб рдмрд╛рдпрд╕](https://wandb.ai/site) рдкрд░ рдПрдХ рдЦрд╛рддрд╛ рдмрдирд╛рдПрдВ рдФрд░ рдЕрдкрдиреА рдЦрд╛рддрд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реЗ рдЕрдкрдирд╛ API рдХреБрдВрдЬреА рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред
рдлрд┐рд░ `WANDB_API_KEY` рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓ рд╕реЗрдЯ рдХрд░реЗрдВ, рддрд╛рдХрд┐ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдкрддрд╛ рдЪрд▓реЗ рдХрд┐ рдХрд┐рд╕ рдХреБрдВрдЬреА рдкрд░ рд▓реЙрдЧ рдХрд░рдирд╛ рд╣реИред

```sh
export WANDB_API_KEY=<your_api_key>
```

### 4. рдбреЙрдХрд░ рдХрдВрдЯреЗрдирд░ рдмрдирд╛рдПрдВ
рдЖрдк рдЕрдкрдиреЗ venv рдореЗрдВ рднреА рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдмреЗрд╣рддрд░ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рд╣рдо WSL рдкрд░ рдбреЙрдХрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддреЗ рд╣реИрдВред
```sh
docker compose up -d --force-recreate
docker attach mapperatorinator_space
cd Mapperatorinator
```

### 5. рдкреИрд░рд╛рдореАрдЯрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ рдФрд░ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рд╢реБрд░реВ рдХрд░реЗрдВ

рд╕рднреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди `./configs/train/default.yaml` рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИрдВред
рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рдЕрдкрдиреЗ рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЗ рд▓рд┐рдП рд╕рд╣реА `train_dataset_path` рдФрд░ `test_dataset_path` рд╕реЗрдЯ рдХрд┐рдпрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рдЯреНрд░реЗрди/рдЯреЗрд╕реНрдЯ рд╕реНрдкреНрд▓рд┐рдЯ рдХреЗ рд▓рд┐рдП рд╕реНрдЯрд╛рд░реНрдЯ рдФрд░ рдПрдВрдб рдореИрдкрд╕реЗрдЯ рдЗрдВрдбреЗрдХреНрд╕ рднреАред
рдкрде рдбреЙрдХрд░ рдХрдВрдЯреЗрдирд░ рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдиреАрдп рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдкрдиреЗ рдЕрдкрдирд╛ рдбреЗрдЯрд╛рд╕реЗрдЯ `cool_dataset` рдирд╛рдо рд╕реЗ `datasets` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рд░рдЦрд╛ рд╣реИ, рддреЛ рдпрд╣ `/workspace/datasets/cool_dataset` рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред

рдореИрдВ рд╕реБрдЭрд╛рд╡ рджреЗрддрд╛ рд╣реВрдБ рдХрд┐ рдЖрдк рдПрдХ рдХрд╕реНрдЯрдо рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╛рдЗрд▓ рдмрдирд╛рдПрдВ рдЬреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░реЗ, рддрд╛рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЕрдкрдиреЗ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЙрдиреНрдлрд╝рд┐рдЧ рдХрд╛ рд░рд┐рдХреЙрд░реНрдб рдкреНрд░рдЬрдирдирд╢реАрд▓рддрд╛ рдХреЗ рд▓рд┐рдП рд░рд╣реЗред

```yaml
data:
  train_dataset_path: "/workspace/datasets/cool_dataset"
  test_dataset_path: "/workspace/datasets/cool_dataset"
  train_dataset_start: 0
  train_dataset_end: 90
  test_dataset_start: 90
  test_dataset_end: 100
```

Begin training by calling `python osuT5/train.py` or `torchrun --nproc_per_node=NUM_GPUS osuT5/train.py` for multi-GPU training.


```sh
python osuT5/train.py -cn train_v29 train_dataset_path="/workspace/datasets/cool_dataset" test_dataset_path="/workspace/datasets/cool_dataset" train_dataset_end=90 test_dataset_start=90 test_dataset_end=100
```

### 6. LoRA рдлрд╛рдЗрди-рдЯреНрдпреВрдирд┐рдВрдЧ

рдЖрдк [LoRA](https://arxiv.org/abs/2106.09685) рдХреЗ рд╕рд╛рде рдкреНрд░реА-рдЯреНрд░реЗрдВрдб рдореЙрдбрд▓ рдХреЛ рднреА рдлрд╛рдЗрди-рдЯреНрдпреВрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЙрд╕реЗ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╢реИрд▓реА рдпрд╛ рдЧреЗрдо рдореЛрдб рдХреЗ рдЕрдиреБрд░реВрдк рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗред
рдЗрд╕рдХреЗ рд▓рд┐рдП, `configs/train/lora.yaml` рдХреЛ рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ рдФрд░ `lora` рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЙрдиреНрдлрд╝рд┐рдЧ рдХреЛ рдЪрд▓рд╛рдПрдБ:

```sh
python osuT5/train.py -cn lora train_dataset_path="/workspace/datasets/cool_dataset" test_dataset_path="/workspace/datasets/cool_dataset" train_dataset_end=90 test_dataset_start=90 test_dataset_end=100
```
рдорд╣рддреНрд╡рдкреВрд░реНрдг LoRA рдкреИрд░рд╛рдореАрдЯрд░ рдЬрд┐рдиреНрд╣реЗрдВ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП:
- `pretrained_path`: рдмреЗрд╕ рдореЙрдбрд▓ рдХрд╛ рдкрде рдпрд╛ HF рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдЬрд┐рд╕реЗ рдлрд╛рдЗрди-рдЯреНрдпреВрди рдХрд░рдирд╛ рд╣реИред
- `r`: LoRA рдореИрдЯреНрд░рд┐рд╕реЗрд╕ рдХреА рд░реИрдВрдХред рдЙрдЪреНрдЪ рдорд╛рди рдореЙрдбрд▓ рдХреА рдХреНрд╖рдорддрд╛ рдмрдврд╝рд╛рддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рдореЗрдореЛрд░реА рдЙрдкрдпреЛрдЧ рднреАред
- `lora_alpha`: LoRA рдЕрдкрдбреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдлреИрдХреНрдЯрд░ред
- `total_steps`: рдЯреНрд░реЗрдирд┐рдВрдЧ рд╕реНрдЯреЗрдкреНрд╕ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ред рдЕрдкрдиреЗ рдбрд╛рдЯрд╛рд╕реЗрдЯ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдВрддреБрд▓рди рдмрдирд╛рдПрдВред
- `enable_lora`: LoRA рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ рдпрд╛ рдкреВрд░реНрдг рдореЙрдбрд▓ рдлрд╛рдЗрди-рдЯреНрдпреВрдирд┐рдВрдЧред

рдЗрдирдлреЗрд░реЗрдВрд╕ рдХреЗ рджреМрд░рд╛рди, рдЖрдк `lora_path` рдЖрд░реНрдЧреНрдпреБрдореЗрдВрдЯ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП LoRA рд╡реЗрдЯреНрд╕ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
рдпрд╣ рдПрдХ рд▓реЛрдХрд▓ рдкрде рдпрд╛ Hugging Face рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

## рдпрд╣ рднреА рджреЗрдЦреЗрдВ
- [Mapper Classifier](https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/./classifier/README.md)
- [RComplexion](https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/./rcomplexion/README.md)

## рд╢реНрд░реЗрдп

рд╡рд┐рд╢реЗрд╖ рдзрдиреНрдпрд╡рд╛рдж:
1. [osuT5](https://github.com/gyataro/osuT5) рдХреЗ рд▓реЗрдЦрдХреЛрдВ рдХреЛ рдЙрдирдХреЗ рдЯреНрд░реЗрдирд┐рдВрдЧ рдХреЛрдб рдХреЗ рд▓рд┐рдПред
2. Hugging Face рдЯреАрдо рдХреЛ рдЙрдирдХреЗ [рдЙрдкрдХрд░рдгреЛрдВ](https://huggingface.co/docs/transformers/index) рдХреЗ рд▓рд┐рдПред
3. [Jason Won](https://github.com/jaswon) рдФрд░ [Richard Nagyfi](https://github.com/sedthh) рдХреЛ рд╡рд┐рдЪрд╛рд░ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
4. [Marvin](https://github.com/minetoblend) рдХреЛ рдЯреНрд░реЗрдирд┐рдВрдЧ рдХреНрд░реЗрдбрд┐рдЯ рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
5. osu! рд╕рдореБрджрд╛рдп рдХреЛ рдмреАрдЯрдореИрдкреНрд╕ рдХреЗ рд▓рд┐рдПред

## рд╕рдВрдмрдВрдзрд┐рдд рдХрд╛рд░реНрдп

1. [osu! Beatmap Generator](https://github.com/Syps/osu_beatmap_generator) Syps (Nick Sypteras) рджреНрд╡рд╛рд░рд╛
2. [osumapper](https://github.com/kotritrona/osumapper) kotritrona, jyvden, Yoyolick (Ryan Zmuda) рджреНрд╡рд╛рд░рд╛
3. [osu-diffusion](https://github.com/OliBomby/osu-diffusion) OliBomby (Olivier Schipper), NiceAesth (Andrei Baciu) рджреНрд╡рд╛рд░рд╛
4. [osuT5](https://github.com/gyataro/osuT5) gyataro (Xiwen Teoh) рджреНрд╡рд╛рд░рд╛
5. [Beat Learning](https://github.com/sedthh/BeatLearning) sedthh (Richard Nagyfi) рджреНрд╡рд╛рд░рд╛
6. [osu!dreamer](https://github.com/jaswon/osu-dreamer) jaswon (Jason Won) рджреНрд╡рд╛рд░рд╛



---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2026-01-24

---