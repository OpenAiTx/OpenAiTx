# uwd ЁЯжА

![Rust](https://img.shields.io/badge/made%20with-Rust-red)
![crate](https://img.shields.io/crates/v/uwd.svg)
![docs](https://docs.rs/uwd/badge.svg)
[![build](https://github.com/joaoviictorti/uwd/actions/workflows/ci.yml/badge.svg)](https://github.com/joaoviictorti/uwd/actions/workflows/ci.yml)
![Forks](https://img.shields.io/github/forks/joaoviictorti/uwd)
![Stars](https://img.shields.io/github/stars/joaoviictorti/uwd)
![License](https://img.shields.io/github/license/joaoviictorti/uwd)

`uwd` рд╡рд┐рдВрдбреЛрдЬрд╝ рдкрд░ рдХреЙрд▓ рд╕реНрдЯреИрдХ рд╕реНрдкреВрдлрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд╕реНрдЯ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдПрдХ рдирдХрд▓реА рдХреЙрд▓ рд╕реНрдЯреИрдХ рдХреЗ рд╕рд╛рде рдордирдорд╛рдиреЗ рдлрдВрдХреНрд╢рди рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рд╡рд┐рд╢реНрд▓реЗрд╖рдг, рд▓реЙрдЧрд┐рдВрдЧ, рдпрд╛ рд╕реНрдЯреИрдХ рдЕрдирд╡рд╛рдЗрдВрдбрд┐рдВрдЧ рдХреЗ рджреМрд░рд╛рди рдбрд┐рдЯреЗрдХреНрд╢рди рд╕реЗ рдмрдЪ рдЬрд╛рддрд╛ рд╣реИред

[SilentMoonwalk](https://github.com/klezVirus/SilentMoonwalk) рд╕реЗ рдкреНрд░реЗрд░рд┐рдд, рдпрд╣ рдХреНрд░реЗрдЯ рдирд┐рдореНрди-рд╕реНрддрд░реАрдп рд╕реНрдкреВрдлрд┐рдВрдЧ рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдПрдХ рд╕реНрд╡рдЪреНрдЫ, рдЖрджрд░реНрд╢ рд░рд╕реНрдЯ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рд▓рд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ `#[no_std]`, `MSVC` рдФрд░ `GNU` рдЯреВрд▓рдЪреЗрди рдХреЗ рд▓рд┐рдП рдкреВрд░реНрдг рд╕рдорд░реНрдерди рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЧреИрдЬреЗрдЯ рд░реЗрдЬрд╝реЛрд▓реНрдпреВрд╢рди рд╢рд╛рдорд┐рд▓ рд╣реИред

## рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ

- тЬЕ `Synthetic` рдФрд░ `Desync` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреЙрд▓ рд╕реНрдЯреИрдХ рд╕реНрдкреВрдлрд┐рдВрдЧред
- тЬЕ рджреЛрдиреЛрдВ `MSVC` рдФрд░ `GNU` рдЯреВрд▓рдЪреЗрди (**x64**) рдХреЗ рд╕рд╛рде рд╕рдВрдЧрддред
- тЬЕ рдЗрдирд▓рд╛рдЗрди рдореИрдХреНрд░реЛрдЬрд╝: `spoof!`, `spoof_synthetic!`, `syscall!`, `syscall_synthetic!`ред
- тЬЕ `#[no_std]` рдкрд░рд┐рд╡реЗрд╢реЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ (рдпрджрд┐ `alloc` рдЙрдкрд▓рдмреНрдз рд╣реИ)ред

## рд╢реБрд░реВ рдХрд░рдирд╛

рдЕрдкрдиреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ `uwd` рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ `Cargo.toml` рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ:
```bash
cargo add uwd
```

## рдЙрдкрдпреЛрдЧ

`uwd` рдЖрдкрдХреЛ рд░рд╕реНрдЯ рдореЗрдВ рдпрд╛ рддреЛ рдорд╛рдирдХ рд╡рд┐рдВрдбреЛрдЬрд╝ API рдпрд╛ рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдХрд░рддреЗ рд╕рдордп рдХреЙрд▓ рд╕реНрдЯреИрдХ рд╕реНрдкреВрдл рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдирдХрд▓реА рдлреНрд░реЗрдо, рдЧреИрдЬреЗрдЯ рдЪреЗрди рдФрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдХреА рддреИрдпрд╛рд░реА рдХреА рдкреВрд░реА рд╕реЗрдЯрдЕрдк рдХреЛ рд╕рдВрднрд╛рд▓рддреА рд╣реИ рдЬрд┐рд╕рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрди рдРрд╕рд╛ рдкреНрд░рддреАрдд рд╣реЛрддрд╛ рд╣реИ рдЬреИрд╕реЗ рд╡рд╣ рдПрдХ рд╡реИрдз рд╕реНрд░реЛрдд рд╕реЗ рдЖрдпрд╛ рд╣реЛред

рдЖрдк рдирд┐рдореНрди рдХреЛ рд╕реНрдкреВрдл рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

* рд╕рд╛рдорд╛рдиреНрдп рдлрдВрдХреНрд╢рди (рдЬреИрд╕реЗ `VirtualAlloc`, `WinExec` рдЖрджрд┐)
* рд╕реНрд╡рдЪрд╛рд▓рд┐рдд SSN рдФрд░ рд╕реНрдЯрдм рд░реЗрдЬрд╝реЛрд▓реНрдпреВрд╢рди рдХреЗ рд╕рд╛рде рдиреЗрдЯрд┐рд╡ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ (рдЬреИрд╕реЗ `NtAllocateVirtualMemory`)

рдореИрдХреНрд░реЛрдЬрд╝ `spoof!` / `spoof_synthetic!` рдФрд░ `syscall!` / `syscall_synthetic!` рд╕рд╛рд░реА рдЬрдЯрд┐рд▓рддрд╛ рдХреЛ рдЕрдореВрд░реНрдд рдХрд░ рджреЗрддреЗ рд╣реИрдВред

### WinExec рдХреЛ рд╕реНрдкреВрдл рдХрд░рдирд╛

рдпрд╣ рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдХреИрд╕реЗ рдПрдХ рд╕реНрдкреВрдл рдХрд┐рдП рдЧрдП рдХреЙрд▓ рд╕реНрдЯреИрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ `calc.exe` рдХреЛ рд╢реБрд░реВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рд╣рдо `WinExec` рдХреЛ рджреЛ рдмрд╛рд░ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВ тАФ рдПрдХ рдмрд╛рд░ Desync рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдФрд░ рдлрд┐рд░ Synthetic рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред

```rs
use dinvk::{GetModuleHandle, GetProcAddress};
use uwd::{spoof, spoof_synthetic};

fn main() -> Result<(), Box<dyn std::error::Error>> {
    // рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ WinAPI рдлрдВрдХреНрд╢рди рдХреЗ рдкрддреЗ рдХреЛ рд░реЗрдЬрд╝реЙрд▓реНрд╡ рдХрд░рддрд╛ рд╣реИ
    let kernel32 = GetModuleHandle("kernel32.dll", None);
    let win_exec = GetProcAddress(kernel32, "WinExec", None);
    
    // `WinExec` рдХреЗ рд╕рд╛рде рдХрдорд╛рдВрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ
    // рдХреЙрд▓ рд╕реНрдЯреИрдХ рд╕реНрдкреВрдлрд┐рдВрдЧ (Desync)
    let cmd = c"calc.exe";
    let mut result = spoof!(win_exec, cmd.as_ptr(), 1)?;
    if result.is_null() {
        eprintln!("WinExec рдЕрд╕рдлрд▓ рд╣реБрдЖ");
        return Ok(());
    }

    // рдХреЙрд▓ рд╕реНрдЯреИрдХ рд╕реНрдкреВрдлрд┐рдВрдЧ (Synthetic)
    result = spoof_synthetic!(win_exec, cmd.as_ptr(), 1)?;
    if result.is_null() {
        eprintln!("WinExec рдЕрд╕рдлрд▓ рд╣реБрдЖ [2]");
        return Ok(());
    }

    Ok(())
}
```

### рдПрдХ рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдХреЛ рд╕реНрдкреВрдл рдХрд░рдирд╛

рдпрд╣ рдЙрджрд╛рд╣рд░рдг рдПрдХ рд╕реНрдкреВрдл рдХрд┐рдП рдЧрдП рдХреЙрд▓ рд╕реНрдЯреИрдХ рдХреЗ рд╕рд╛рде `NtAllocateVirtualMemory` рдХреЗ рд▓рд┐рдП рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред

```rs
use std::{ffi::c_void, ptr::null_mut};
use dinvk::NT_SUCCESS;
use uwd::{syscall, syscall_synthetic, AsUwd};

fn main() -> Result<(), Box<dyn std::error::Error>> {
    // рдХреЙрд▓ рд╕реНрдЯреИрдХ рд╕реНрдкреВрдлрд┐рдВрдЧ (Desync) рдХреЗ рд╕рд╛рде рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдЪрд▓рд╛рдирд╛
    let mut addr = null_mut::<c_void>();
    let mut size = (1 << 12) as usize;
    let mut status = syscall!("NtAllocateVirtualMemory", -1isize, addr.as_uwd_mut(), 0, size.as_uwd_mut(), 0x3000, 0x04)? as i32;
    if !NT_SUCCESS(status) {
        eprintln!("NtAllocateVirtualMemory рдЕрд╕рдлрд▓ рд░рд╣рд╛, рд╕реНрдерд┐рддрд┐: {status:#X}");
        return Ok(())
    }

    println!("[+] рдкрддрд╛ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛: {:?}", addr);

    // рдХреЙрд▓ рд╕реНрдЯреИрдХ рд╕реНрдкреВрдлрд┐рдВрдЧ (Synthetic) рдХреЗ рд╕рд╛рде рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдЪрд▓рд╛рдирд╛
    let mut addr = null_mut::<c_void>();
    let mut size = (1 << 12) as usize;
    status = syscall_synthetic!("NtAllocateVirtualMemory", -1isize, addr.as_uwd_mut(), 0, size.as_uwd_mut(), 0x3000, 0x04)? as i32;
    if !NT_SUCESS(status) {
        eprintln!("NtAllocateVirtualMemory рдЕрд╕рдлрд▓ рд░рд╣рд╛ [2], рд╕реНрдерд┐рддрд┐: {status:#X}");
        return Ok(())
```
}

println!("[+] рдкрддрд╛ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛: {:?}", addr);

Ok(())
}
```

## рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдВрд╕рд╛рдзрди

рдЕрдзрд┐рдХ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП, рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ [examples](/examples) рдлрд╝реЛрд▓реНрдбрд░ рджреЗрдЦреЗрдВред

## рд╕рдВрджрд░реНрдн

рдореИрдВ рдЙрди рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХрд╛ рдЖрднрд╛рд░ рд╡реНрдпрдХреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдБ, рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдореБрдЭреЗ `uwd` рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рд┐рдд рдХрд┐рдпрд╛ рдФрд░ рдХреБрдЫ рдлреАрдЪрд░реНрд╕ рдореЗрдВ рдпреЛрдЧрджрд╛рди рджрд┐рдпрд╛:

- [SilentMoonwalk](https://github.com/klezVirus/SilentMoonwalk)

рд╡рд┐рд╢реЗрд╖ рдзрдиреНрдпрд╡рд╛рдж:

- [Kudaes](https://x.com/_Kudaes_)
- [Klez](https://x.com/KlezVirus)
- [Waldo-IRC](https://x.com/waldoirc)
- [Trickster0](https://x.com/trickster012)
- [namazso](https://x.com/namazso)

## рд▓рд╛рдЗрд╕реЗрдВрд╕

рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ MIT рд▓рд╛рдЗрд╕реЗрдВрд╕ рдХреЗ рддрд╣рдд рд▓рд╛рдЗрд╕реЗрдВрд╕ рдкреНрд░рд╛рдкреНрдд рд╣реИред рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП [LICENSE](/LICENSE) рдлрд╝рд╛рдЗрд▓ рджреЗрдЦреЗрдВред


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-07-07

---