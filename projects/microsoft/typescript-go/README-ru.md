# TypeScript 7

[Не уверены, что это такое? Прочитайте объявление!](https://devblogs.microsoft.com/typescript/typescript-native-port/)

## Предварительная версия

Предварительная сборка доступна на npm как `@typescript/native-preview`.

```sh
npm install @typescript/native-preview
npx tsgo # Используйте это так же, как tsc.
```

Предварительное расширение для VS Code [доступно на VS Code marketplace](https://marketplace.visualstudio.com/items?itemName=TypeScriptTeam.native-preview).

Чтобы использовать его, добавьте в настройки VS Code следующее:

```json
{
    "typescript.experimental.useTsgo": true
}
```

## Как собрать и запустить

Этот репозиторий использует [Go 1.24 или выше](https://go.dev/dl/), [Rust 1.85 или выше](https://www.rust-lang.org/tools/install), [Node.js с npm](https://nodejs.org/) и [`hereby`](https://www.npmjs.com/package/hereby).

Для тестов и генерации кода этот репозиторий содержит git-субмодуль основного репозитория TypeScript, указывающий на коммит, который портируется.
При клонировании рекомендуется клонировать с субмодулями:

```sh
git clone --recurse-submodules https://github.com/microsoft/typescript-go.git
```

Если вы уже клонировали репозиторий, вы можете инициализировать субмодуль командой:

```sh
git submodule update --init --recursive
```

С установленным субмодулем и после `npm ci` вы можете запускать задачи через `hereby`, аналогично репозиторию TypeScript:

```sh
hereby build          # Проверить сборку проекта
hereby test           # Запустить все тесты
hereby install-tools  # Установить дополнительные инструменты, такие как линтеры
hereby lint           # Запустить все линтеры
hereby format         # Отформатировать весь код
hereby generate       # Сгенерировать весь Go-код (например, диагностика, коммитится в репозиторий)
```

Дополнительные задачи находятся в разработке.

`hereby` не обязателен для работы с репозиторием; обычные инструменты `go` (например, `go build`, `go test ./...`) работают как ожидается.
Задачи `hereby` предоставлены для удобства тем, кто знаком с репозиторием TypeScript.

### Запуск `tsgo`

После выполнения `hereby build` вы можете запустить `built/local/tsgo`, который ведёт себя почти так же, как `tsc`.

### Запуск LSP-прототипа

Чтобы отлаживать и запускать расширение VS Code без глобальной установки:

* Запустите VS Code в рабочем пространстве репозитория (`code .`)
* Скопируйте `.vscode/launch.template.json` в `.vscode/launch.json`
* <kbd>F5</kbd> (или `Debug: Start Debugging` из палитры команд)

Это запустит новый экземпляр VS Code, который использует Corsa LS в качестве бэкенда. При правильной настройке вы должны увидеть "tsgo" в строке состояния при открытии файла TypeScript или JavaScript:

![Скриншот LSP-прототипа](https://raw.githubusercontent.com/microsoft/typescript-go/main/.github/ls-screenshot.png)


## Что уже работает?

Проект находится в разработке и пока не достиг полного функционального соответствия TypeScript. Возможны ошибки. Пожалуйста, внимательно проверьте этот список перед тем, как создавать новый issue или предполагать намеренное изменение.

| Функция | Статус | Примечания |
|---------|--------|------------|
| Создание программы | готово | Те же файлы и разрешение модулей, что и в TS5.8. Не все режимы разрешения пока поддерживаются. |
| Парсинг/сканирование | готово | Точно такие же синтаксические ошибки, как в TS5.8 |
| Командная строка и парсинг `tsconfig.json` | почти готово | Точка входа пока немного отличается |
| Разрешение типов | готово | Те же типы, что и в TS5.8 |
| Проверка типов | готово | Те же ошибки, места и сообщения, что и в TS5.8. Отображение типов в ошибках может отличаться (в разработке) |
| Специфический для JavaScript вывод и JS Doc | не готово | - |
| JSX | готово | - |
| Генерация деклараций | в процессе | Большинство распространённых возможностей реализованы, но некоторые крайние случаи и флаги функций пока не обработаны |
| Генерация (вывод JS) | в процессе | `target: esnext` хорошо поддерживается, другие цели могут иметь пробелы |
| Режим наблюдения | прототип | Отслеживает файлы и пересобирает, но без инкрементальной проверки |
| Режим сборки / ссылки на проекты | не готово | - |
| Инкрементальная сборка | не готово | - |
| Языковой сервис (LSP) | прототип | Минимальная функциональность (ошибки, hover, переход к определению). В скором времени появятся новые возможности |
| API | не готово | - |

Определения:

 * **готово** (done): нам не известны недостатки или значительная недоработка. Можно создавать баг-репорты
 * **в процессе** (in progress): сейчас разрабатывается; часть функций работает, часть — нет. Можно сообщать о паниках, но не о других ошибках
 * **прототип** (prototype): только proof-of-concept; не создавать баг-репорты
 * **не готово** (not ready): либо ещё не начато, либо слишком далеко от готовности, чтобы с этим работать

## Прочие замечания

В долгосрочной перспективе мы ожидаем, что этот репозиторий и его содержимое будут объединены с `microsoft/TypeScript`.
В результате репозиторий и трекер задач typescript-go в будущем будут закрыты, поэтому относитесь к обсуждениям/задачам соответствующим образом.

Список намеренных изменений по сравнению с TypeScript 5.7 смотрите в CHANGES.md.

## Вклад

Этот проект приветствует вклады и предложения. Для большинства вкладов требуется ваше согласие с
Contributor License Agreement (CLA), подтверждающим ваше право предоставлять нам
права на использование вашего вклада. Подробности: [Contributor License Agreements](https://cla.opensource.microsoft.com).

Когда вы отправляете pull request, CLA-бот автоматически определит, нужно ли вам согласие,
и соответствующим образом отметит PR (например, статус-чек, комментарий). Просто следуйте инструкциям,
которые даст бот. Это нужно сделать только один раз для всех репозиториев, использующих наш CLA.

В этом проекте принят [Кодекс поведения Microsoft Open Source](https://opensource.microsoft.com/codeofconduct/).
Подробнее см. [Часто задаваемые вопросы о Кодексе поведения](https://opensource.microsoft.com/codeofconduct/faq/) или
пишите на [opencode@microsoft.com](mailto:opencode@microsoft.com) по любым дополнительным вопросам или комментариям.

## Товарные знаки

Этот проект может содержать товарные знаки или логотипы проектов, продуктов или сервисов. Разрешённое использование товарных знаков или логотипов Microsoft регулируется и должно соответствовать
[Microsoft's Trademark & Brand Guidelines](https://www.microsoft.com/legal/intellectualproperty/trademarks/usage/general).
Использование товарных знаков или логотипов Microsoft в модифицированных версиях этого проекта не должно вызывать путаницы или подразумевать спонсорство Microsoft.
Любое использование сторонних товарных знаков или логотипов регулируется политиками соответствующих третьих сторон.


---

Tranlated By [Open Ai Tx](https://github.com/OpenAiTx/OpenAiTx) | Last indexed: 2025-06-10

---